<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>1Lab.Reflection.Record</title><link rel="stylesheet" href="/css/default.css"><script type="text/javascript" src="code-only.js"></script></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">-v</a> <a id="16" class="Pragma">refl:20</a> <a id="24" class="Symbol">#-}</a>
<a id="28" class="Keyword">open</a> <a id="33" class="Keyword">import</a> <a id="40" href="1Lab.Reflection.html" class="Module">1Lab.Reflection</a>
<a id="56" class="Keyword">open</a> <a id="61" class="Keyword">import</a> <a id="68" href="1Lab.Equiv.html" class="Module">1Lab.Equiv</a>
<a id="79" class="Keyword">open</a> <a id="84" class="Keyword">import</a> <a id="91" href="1Lab.Path.html" class="Module">1Lab.Path</a>
<a id="101" class="Keyword">open</a> <a id="106" class="Keyword">import</a> <a id="113" href="1Lab.Type.html" class="Module">1Lab.Type</a>

<a id="124" class="Keyword">open</a> <a id="129" class="Keyword">import</a> <a id="136" href="Data.List.html" class="Module">Data.List</a>

<a id="147" class="Keyword">import</a> <a id="154" href="Agda.Builtin.Sigma.html" class="Module">Agda.Builtin.Sigma</a> <a id="173" class="Symbol">as</a> <a id="176" class="Module">S</a>
<a id="178" class="Keyword">import</a> <a id="185" href="Agda.Builtin.Nat.html" class="Module">Agda.Builtin.Nat</a> <a id="202" class="Symbol">as</a> <a id="205" class="Module">N</a>

<a id="208" class="Keyword">module</a> <a id="215" href="1Lab.Reflection.Record.html" class="Module">1Lab.Reflection.Record</a> <a id="238" class="Keyword">where</a>

<a id="field-names→sigma"></a><a id="245" href="1Lab.Reflection.Record.html#245" data-type="List A → Term" class="Function">field-names→sigma</a> <a id="263" class="Symbol">:</a> <a id="265" class="Symbol">∀</a> <a id="267" class="Symbol">{</a><a id="268" href="1Lab.Reflection.Record.html#268" class="Bound">ℓ</a><a id="269" class="Symbol">}</a> <a id="271" class="Symbol">{</a><a id="272" href="1Lab.Reflection.Record.html#272" class="Bound">A</a> <a id="274" class="Symbol">:</a> <a id="276" href="1Lab.Type.html#391" class="Primitive">Type</a> <a id="281" href="1Lab.Reflection.Record.html#268" class="Bound">ℓ</a><a id="282" class="Symbol">}</a> <a id="284" class="Symbol">→</a> <a id="286" href="Agda.Builtin.List.html#121" data-type="Type a → Type a" class="Datatype">List</a> <a id="291" href="1Lab.Reflection.Record.html#272" class="Bound">A</a> <a id="293" class="Symbol">→</a> <a id="295" href="Agda.Builtin.Reflection.html#4661" data-type="Type" class="Datatype">Term</a>
<a id="300" href="1Lab.Reflection.Record.html#245" data-type="List A → Term" class="Function">field-names→sigma</a> <a id="318" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a> <a id="321" class="Symbol">=</a> <a id="323" href="Agda.Builtin.Reflection.html#4919" data-type="Name → List (Arg Term) → Term" class="InductiveConstructor">def</a> <a id="327" class="Symbol">(</a><a id="328" class="Keyword">quote</a> <a id="334" href="Agda.Builtin.Unit.html#149" data-type="Type" class="Record">⊤</a><a id="335" class="Symbol">)</a> <a id="337" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a>
<a id="340" href="1Lab.Reflection.Record.html#245" data-type="List A → Term" class="Function">field-names→sigma</a> <a id="358" class="Symbol">(_</a> <a id="361" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="363" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a><a id="365" class="Symbol">)</a> <a id="367" class="Symbol">=</a> <a id="369" href="Agda.Builtin.Reflection.html#5262" data-type="Term" class="InductiveConstructor">unknown</a>
<a id="377" href="1Lab.Reflection.Record.html#245" data-type="List A → Term" class="CatchallClause Function">field-names→sigma</a><a id="394" class="CatchallClause"> </a><a id="395" class="CatchallClause Symbol">(_</a><a id="397" class="CatchallClause"> </a><a id="398" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="CatchallClause InductiveConstructor Operator">∷</a><a id="399" class="CatchallClause"> </a><a id="400" href="1Lab.Reflection.Record.html#400" class="CatchallClause Bound">xs</a><a id="402" class="CatchallClause Symbol">)</a> <a id="404" class="Symbol">=</a>
  <a id="408" href="Agda.Builtin.Reflection.html#4919" data-type="Name → List (Arg Term) → Term" class="InductiveConstructor">def</a> <a id="412" class="Symbol">(</a><a id="413" class="Keyword">quote</a> <a id="419" href="1Lab.Type.html#1573" data-type="(B₁ : A → Type b) → Type (a ⊔ b)" class="Function">Σ</a><a id="420" class="Symbol">)</a> <a id="422" class="Symbol">(</a><a id="423" href="Agda.Builtin.Reflection.html#4976" data-type="Visibility → Abs Term → Term" class="InductiveConstructor">lam</a> <a id="427" href="Agda.Builtin.Reflection.html#2736" data-type="Visibility" class="InductiveConstructor">visible</a> <a id="435" class="Symbol">(</a><a id="436" href="Agda.Builtin.Reflection.html#3953" data-type="String → A → Abs A" class="InductiveConstructor">abs</a> <a id="440" class="String">&quot;_&quot;</a> <a id="444" class="Symbol">(</a><a id="445" href="1Lab.Reflection.Record.html#245" data-type="List A → Term" class="Function">field-names→sigma</a> <a id="463" href="1Lab.Reflection.Record.html#400" class="Bound">xs</a><a id="465" class="Symbol">))</a> <a id="468" href="1Lab.Reflection.html#1242" class="InductiveConstructor Operator">v∷</a> <a id="471" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a><a id="473" class="Symbol">)</a>

<a id="Fields"></a><a id="476" href="1Lab.Reflection.Record.html#476" data-type="Type" class="Function">Fields</a> <a id="483" class="Symbol">:</a> <a id="485" href="1Lab.Type.html#391" class="Primitive">Type</a>
<a id="490" href="1Lab.Reflection.Record.html#476" data-type="Type" class="Function">Fields</a> <a id="497" class="Symbol">=</a> <a id="499" href="Agda.Builtin.List.html#121" data-type="Type a → Type a" class="Datatype">List</a> <a id="504" class="Symbol">(</a><a id="505" href="Agda.Builtin.Reflection.html#462" data-type="Type" class="Postulate">Name</a> <a id="510" href="1Lab.Type.html#1846" data-type="Type a → Type b → Type (a ⊔ b)" class="Function Operator">×</a> <a id="512" href="Agda.Builtin.List.html#121" data-type="Type a → Type a" class="Datatype">List</a> <a id="517" href="Agda.Builtin.Reflection.html#462" data-type="Type" class="Postulate">Name</a><a id="521" class="Symbol">)</a>

<a id="field-names→paths"></a><a id="524" href="1Lab.Reflection.Record.html#524" data-type="List (Arg Name) → Fields" class="Function">field-names→paths</a> <a id="542" class="Symbol">:</a> <a id="544" href="Agda.Builtin.List.html#121" data-type="Type a → Type a" class="Datatype">List</a> <a id="549" class="Symbol">(</a><a id="550" href="Agda.Builtin.Reflection.html#3670" data-type="Type a → Type a" class="Datatype">Arg</a> <a id="554" href="Agda.Builtin.Reflection.html#462" data-type="Type" class="Postulate">Name</a><a id="558" class="Symbol">)</a> <a id="560" class="Symbol">→</a> <a id="562" href="1Lab.Reflection.Record.html#476" data-type="Type" class="Function">Fields</a>
<a id="569" href="1Lab.Reflection.Record.html#524" data-type="List (Arg Name) → Fields" class="Function">field-names→paths</a> <a id="587" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a> <a id="590" class="Symbol">=</a> <a id="592" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a>
<a id="595" href="1Lab.Reflection.Record.html#524" data-type="List (Arg Name) → Fields" class="Function">field-names→paths</a> <a id="613" class="Symbol">(</a><a id="614" href="Agda.Builtin.Reflection.html#3706" data-type="ArgInfo → A → Arg A" class="InductiveConstructor">arg</a> <a id="618" class="Symbol">_</a> <a id="620" href="1Lab.Reflection.Record.html#620" class="Bound">nm</a> <a id="623" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="625" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a><a id="627" class="Symbol">)</a> <a id="629" class="Symbol">=</a> <a id="631" class="Symbol">(</a><a id="632" href="1Lab.Reflection.Record.html#620" class="Bound">nm</a> <a id="635" href="Agda.Builtin.Sigma.html#209" data-type="(fst₁ : A) (snd₁ : B₁ fst₁) → ∑ A B₁" class="InductiveConstructor Operator">,</a> <a id="637" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a><a id="639" class="Symbol">)</a> <a id="641" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="643" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a>
<a id="646" href="1Lab.Reflection.Record.html#524" data-type="List (Arg Name) → Fields" class="CatchallClause Function">field-names→paths</a><a id="663" class="CatchallClause"> </a><a id="664" class="CatchallClause Symbol">(</a><a id="665" href="Agda.Builtin.Reflection.html#3706" data-type="ArgInfo → A → Arg A" class="CatchallClause InductiveConstructor">arg</a><a id="668" class="CatchallClause"> </a><a id="669" class="CatchallClause Symbol">_</a><a id="670" class="CatchallClause"> </a><a id="671" href="1Lab.Reflection.Record.html#671" class="CatchallClause Bound">x</a><a id="672" class="CatchallClause"> </a><a id="673" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="CatchallClause InductiveConstructor Operator">∷</a><a id="674" class="CatchallClause"> </a><a id="675" href="1Lab.Reflection.Record.html#675" class="CatchallClause Bound">xs</a><a id="677" class="CatchallClause Symbol">)</a> <a id="679" class="Keyword">with</a> <a id="684" href="1Lab.Reflection.Record.html#524" data-type="List (Arg Name) → Fields" class="Function">field-names→paths</a> <a id="702" href="1Lab.Reflection.Record.html#675" class="Bound">xs</a>
<a id="705" class="Symbol">...</a> <a id="709" class="Symbol">|</a> <a id="711" href="1Lab.Reflection.Record.html#711" class="Bound">fields</a> <a id="718" class="Symbol">=</a> <a id="720" class="Symbol">(</a><a id="721" class="Bound">x</a> <a id="723" href="Agda.Builtin.Sigma.html#209" data-type="(fst₁ : A) (snd₁ : B₁ fst₁) → ∑ A B₁" class="InductiveConstructor Operator">,</a> <a id="725" class="Keyword">quote</a> <a id="731" href="Agda.Builtin.Sigma.html#225" data-type="∑ A B₁ → A" class="Field">fst</a> <a id="735" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="737" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a><a id="739" class="Symbol">)</a> <a id="741" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="743" href="Data.List.html#5187" data-type="(A → B₁) → List A → List B₁" class="Function">map</a> <a id="747" class="Symbol">(λ</a> <a id="750" class="Symbol">(</a><a id="751" href="1Lab.Reflection.Record.html#751" class="Bound">f</a> <a id="753" href="Agda.Builtin.Sigma.html#209" data-type="(fst₁ : A) (snd₁ : B₁ fst₁) → ∑ A B₁" class="InductiveConstructor Operator">,</a> <a id="755" href="1Lab.Reflection.Record.html#755" class="Bound">p</a><a id="756" class="Symbol">)</a> <a id="758" class="Symbol">→</a> <a id="760" href="1Lab.Reflection.Record.html#751" class="Bound">f</a> <a id="762" href="Agda.Builtin.Sigma.html#209" data-type="(fst₁ : A) (snd₁ : B₁ fst₁) → ∑ A B₁" class="InductiveConstructor Operator">,</a> <a id="764" class="Keyword">quote</a> <a id="770" href="Agda.Builtin.Sigma.html#237" data-type="(r : ∑ A B₁) → B₁ (fst r)" class="Field">snd</a> <a id="774" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="776" href="1Lab.Reflection.Record.html#755" class="Bound">p</a><a id="777" class="Symbol">)</a> <a id="779" href="1Lab.Reflection.Record.html#711" class="Bound">fields</a>

<a id="record→iso"></a><a id="787" href="1Lab.Reflection.Record.html#787" data-type="Name → (List (Arg Term) → TC Term) → TC Term" class="Function">record→iso</a> <a id="798" class="Symbol">:</a> <a id="800" href="Agda.Builtin.Reflection.html#462" data-type="Type" class="Postulate">Name</a> <a id="805" class="Symbol">→</a> <a id="807" class="Symbol">(</a><a id="808" href="Agda.Builtin.List.html#121" data-type="Type a → Type a" class="Datatype">List</a> <a id="813" class="Symbol">(</a><a id="814" href="Agda.Builtin.Reflection.html#3670" data-type="Type a → Type a" class="Datatype">Arg</a> <a id="818" href="Agda.Builtin.Reflection.html#4661" data-type="Type" class="Datatype">Term</a><a id="822" class="Symbol">)</a> <a id="824" class="Symbol">→</a> <a id="826" href="Agda.Builtin.Reflection.html#8270" data-type="Type a → Type a" class="Postulate">TC</a> <a id="829" href="Agda.Builtin.Reflection.html#4661" data-type="Type" class="Datatype">Term</a><a id="833" class="Symbol">)</a> <a id="835" class="Symbol">→</a> <a id="837" href="Agda.Builtin.Reflection.html#8270" data-type="Type a → Type a" class="Postulate">TC</a> <a id="840" href="Agda.Builtin.Reflection.html#4661" data-type="Type" class="Datatype">Term</a>
<a id="845" href="1Lab.Reflection.Record.html#787" data-type="Name → (List (Arg Term) → TC Term) → TC Term" class="Function">record→iso</a> <a id="856" href="1Lab.Reflection.Record.html#856" class="Bound">namen</a> <a id="862" href="1Lab.Reflection.Record.html#862" class="Bound">unfolded</a> <a id="871" class="Symbol">=</a>
  <a id="875" class="Symbol">(</a><a id="876" href="Agda.Builtin.Reflection.html#8546" data-type="Term → TC Type" class="Postulate">inferType</a> <a id="886" class="Symbol">(</a><a id="887" href="Agda.Builtin.Reflection.html#4919" data-type="Name → List (Arg Term) → Term" class="InductiveConstructor">def</a> <a id="891" href="1Lab.Reflection.Record.html#856" class="Bound">namen</a> <a id="897" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a><a id="899" class="Symbol">)</a> <a id="901" href="Agda.Builtin.Reflection.html#8363" data-type="TC A → (A → TC B₁) → TC B₁" class="Postulate Operator">&gt;&gt;=</a> <a id="905" href="Agda.Builtin.Reflection.html#8625" data-type="Term → TC Term" class="Postulate">normalise</a><a id="914" class="Symbol">)</a> <a id="916" href="Agda.Builtin.Reflection.html#8363" data-type="TC A → (A → TC B₁) → TC B₁" class="Postulate Operator">&gt;&gt;=</a> <a id="920" href="1Lab.Reflection.Record.html#936" data-type="(namen : Name) (unfolded : List (Arg Term) → TC Term) →
List ArgInfo → Term → TC Term" class="Function">go</a> <a id="923" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a>
  <a id="928" class="Keyword">where</a>
  <a id="936" href="1Lab.Reflection.Record.html#936" data-type="(namen : Name) (unfolded : List (Arg Term) → TC Term) →
List ArgInfo → Term → TC Term" class="Function">go</a> <a id="939" class="Symbol">:</a> <a id="941" href="Agda.Builtin.List.html#121" data-type="Type a → Type a" class="Datatype">List</a> <a id="946" href="Agda.Builtin.Reflection.html#3589" data-type="Type" class="Datatype">ArgInfo</a> <a id="954" class="Symbol">→</a> <a id="956" href="Agda.Builtin.Reflection.html#4661" data-type="Type" class="Datatype">Term</a> <a id="961" class="Symbol">→</a> <a id="963" href="Agda.Builtin.Reflection.html#8270" data-type="Type a → Type a" class="Postulate">TC</a> <a id="966" href="Agda.Builtin.Reflection.html#4661" data-type="Type" class="Datatype">Term</a>
  <a id="973" href="1Lab.Reflection.Record.html#936" data-type="(namen : Name) (unfolded : List (Arg Term) → TC Term) →
List ArgInfo → Term → TC Term" class="Function">go</a> <a id="976" href="1Lab.Reflection.Record.html#976" class="Bound">acc</a> <a id="980" class="Symbol">(</a><a id="981" href="Agda.Builtin.Reflection.html#5094" data-type="Arg Type → Abs Type → Term" class="InductiveConstructor">pi</a> <a id="984" href="1Lab.Reflection.Record.html#984" class="Bound">argu</a><a id="988" class="Symbol">@(</a><a id="990" href="Agda.Builtin.Reflection.html#3706" data-type="ArgInfo → A → Arg A" class="InductiveConstructor">arg</a> <a id="994" href="1Lab.Reflection.Record.html#994" class="Bound">i</a> <a id="996" href="1Lab.Reflection.Record.html#996" class="Bound">argTy</a><a id="1001" class="Symbol">)</a> <a id="1003" class="Symbol">(</a><a id="1004" href="Agda.Builtin.Reflection.html#3953" data-type="String → A → Abs A" class="InductiveConstructor">abs</a> <a id="1008" href="1Lab.Reflection.Record.html#1008" class="Bound">s</a> <a id="1010" href="1Lab.Reflection.Record.html#1010" class="Bound">ty</a><a id="1012" class="Symbol">))</a> <a id="1015" class="Symbol">=</a> <a id="1017" class="Keyword">do</a>
    <a id="1024" href="1Lab.Reflection.Record.html#1024" class="Bound">r</a> <a id="1026" href="Agda.Builtin.Reflection.html#8363" data-type="TC A → (A → TC B₁) → TC B₁" class="Postulate Operator">←</a> <a id="1028" href="Agda.Builtin.Reflection.html#8945" data-type="String → Arg Type → TC A → TC A" class="Postulate">extendContext</a> <a id="1042" class="String">&quot;arg&quot;</a> <a id="1048" href="1Lab.Reflection.Record.html#984" class="Bound">argu</a> <a id="1053" href="1Lab.Type.html#2481" data-type="((x : A) → B₁ x) → (x : A) → B₁ x" class="Function Operator">$</a> <a id="1055" href="1Lab.Reflection.Record.html#936" data-type="(namen : Name) (unfolded : List (Arg Term) → TC Term) →
List ArgInfo → Term → TC Term" class="Function">go</a> <a id="1058" class="Symbol">(</a><a id="1059" href="1Lab.Reflection.Record.html#994" class="Bound">i</a> <a id="1061" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="1063" href="1Lab.Reflection.Record.html#976" class="Bound">acc</a><a id="1066" class="Symbol">)</a> <a id="1068" href="1Lab.Reflection.Record.html#1010" class="Bound">ty</a>
    <a id="1075" href="Agda.Builtin.Reflection.html#8313" data-type="A → TC A" class="Postulate">returnTC</a> <a id="1084" href="1Lab.Type.html#2481" data-type="((x : A) → B₁ x) → (x : A) → B₁ x" class="Function Operator">$</a> <a id="1086" href="Agda.Builtin.Reflection.html#5094" data-type="Arg Type → Abs Type → Term" class="InductiveConstructor">pi</a> <a id="1089" class="Symbol">(</a><a id="1090" href="Agda.Builtin.Reflection.html#3706" data-type="ArgInfo → A → Arg A" class="InductiveConstructor">arg</a> <a id="1094" href="1Lab.Reflection.Record.html#1128" data-type="(namen : Name) (unfolded : List (Arg Term) → TC Term)
(acc : List ArgInfo) (i : ArgInfo) (argTy : Type) (s : String)
(ty : Type) →
ArgInfo" class="Function">i&#39;</a> <a id="1097" href="1Lab.Reflection.Record.html#996" class="Bound">argTy</a><a id="1102" class="Symbol">)</a> <a id="1104" class="Symbol">(</a><a id="1105" href="Agda.Builtin.Reflection.html#3953" data-type="String → A → Abs A" class="InductiveConstructor">abs</a> <a id="1109" href="1Lab.Reflection.Record.html#1008" class="Bound">s</a> <a id="1111" href="1Lab.Reflection.Record.html#1024" class="Bound">r</a><a id="1112" class="Symbol">)</a>
    <a id="1118" class="Keyword">where</a>
    <a id="1128" href="1Lab.Reflection.Record.html#1128" data-type="(namen : Name) (unfolded : List (Arg Term) → TC Term)
(acc : List ArgInfo) (i : ArgInfo) (argTy : Type) (s : String)
(ty : Type) →
ArgInfo" class="Function">i&#39;</a> <a id="1131" class="Symbol">=</a> <a id="1133" href="Agda.Builtin.Reflection.html#3611" data-type="Visibility → Modality → ArgInfo" class="InductiveConstructor">arg-info</a> <a id="1142" href="Agda.Builtin.Reflection.html#2744" data-type="Visibility" class="InductiveConstructor">hidden</a> <a id="1149" class="Symbol">(</a><a id="1150" href="Agda.Builtin.Reflection.html#3437" data-type="Relevance → Quantity → Modality" class="InductiveConstructor">modality</a> <a id="1159" href="Agda.Builtin.Reflection.html#2993" data-type="Relevance" class="InductiveConstructor">relevant</a> <a id="1168" href="Agda.Builtin.Reflection.html#3215" data-type="Quantity" class="InductiveConstructor">quantity-ω</a><a id="1178" class="Symbol">)</a>
  <a id="1182" href="1Lab.Reflection.Record.html#936" data-type="(namen : Name) (unfolded : List (Arg Term) → TC Term) →
List ArgInfo → Term → TC Term" class="Function">go</a> <a id="1185" href="1Lab.Reflection.Record.html#1185" class="Bound">acc</a> <a id="1189" class="Symbol">(</a><a id="1190" href="Agda.Builtin.Reflection.html#5145" data-type="Sort → Term" class="InductiveConstructor">agda-sort</a> <a id="1200" class="Symbol">_)</a> <a id="1203" class="Symbol">=</a> <a id="1205" class="Keyword">do</a>
    <a id="1212" class="Keyword">let</a> <a id="1216" href="1Lab.Reflection.Record.html#1216" class="Bound">rec</a> <a id="1220" class="Symbol">=</a> <a id="1222" href="Agda.Builtin.Reflection.html#4919" data-type="Name → List (Arg Term) → Term" class="InductiveConstructor">def</a> <a id="1226" href="1Lab.Reflection.Record.html#856" class="Bound">namen</a> <a id="1232" class="Symbol">(</a><a id="1233" href="1Lab.Reflection.Record.html#1371" data-type="(namen : Name) (unfolded : List (Arg Term) → TC Term)
(acc : List ArgInfo) (s : Sort) →
Nat → List (Arg Term) → List ArgInfo → List (Arg Term)" class="Function">makeArgs</a> <a id="1242" class="Number">0</a> <a id="1244" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a> <a id="1247" href="1Lab.Reflection.Record.html#1185" class="Bound">acc</a><a id="1250" class="Symbol">)</a>
    <a id="1256" href="1Lab.Reflection.Record.html#1256" class="Bound">unfolded</a> <a id="1265" href="Agda.Builtin.Reflection.html#8363" data-type="TC A → (A → TC B₁) → TC B₁" class="Postulate Operator">←</a> <a id="1267" href="1Lab.Reflection.Record.html#862" class="Bound">unfolded</a> <a id="1276" class="Symbol">(</a><a id="1277" href="1Lab.Reflection.Record.html#1557" data-type="(namen : Name) (unfolded : List (Arg Term) → TC Term)
(acc : List ArgInfo) (s : Sort) →
Nat → List (Arg Term) → List ArgInfo → List (Arg Term)" class="Function">implicitArgs</a> <a id="1290" class="Number">0</a> <a id="1292" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a> <a id="1295" href="1Lab.Reflection.Record.html#1185" class="Bound">acc</a><a id="1298" class="Symbol">)</a>
    <a id="1304" href="Agda.Builtin.Reflection.html#8313" data-type="A → TC A" class="Postulate">returnTC</a> <a id="1313" href="1Lab.Type.html#2481" data-type="((x : A) → B₁ x) → (x : A) → B₁ x" class="Function Operator">$</a> <a id="1315" href="Agda.Builtin.Reflection.html#4919" data-type="Name → List (Arg Term) → Term" class="InductiveConstructor">def</a> <a id="1319" class="Symbol">(</a><a id="1320" class="Keyword">quote</a> <a id="1326" href="1Lab.Equiv.html#6298" data-type="Type ℓ₁ → Type ℓ₂ → Type (ℓ₁ ⊔ ℓ₂)" class="Function">Iso</a><a id="1329" class="Symbol">)</a> <a id="1331" class="Symbol">(</a><a id="1332" href="1Lab.Reflection.Record.html#1216" class="Bound">rec</a> <a id="1336" href="1Lab.Reflection.html#1242" class="InductiveConstructor Operator">v∷</a> <a id="1339" href="1Lab.Reflection.Record.html#1256" class="Bound">unfolded</a> <a id="1348" href="1Lab.Reflection.html#1242" class="InductiveConstructor Operator">v∷</a> <a id="1351" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a><a id="1353" class="Symbol">)</a>
    <a id="1359" class="Keyword">where</a>
      <a id="1371" href="1Lab.Reflection.Record.html#1371" data-type="(namen : Name) (unfolded : List (Arg Term) → TC Term)
(acc : List ArgInfo) (s : Sort) →
Nat → List (Arg Term) → List ArgInfo → List (Arg Term)" class="Function">makeArgs</a> <a id="1380" class="Symbol">:</a> <a id="1382" href="Agda.Builtin.Nat.html#177" data-type="Type" class="Datatype">Nat</a> <a id="1386" class="Symbol">→</a> <a id="1388" href="Agda.Builtin.List.html#121" data-type="Type a → Type a" class="Datatype">List</a> <a id="1393" class="Symbol">(</a><a id="1394" href="Agda.Builtin.Reflection.html#3670" data-type="Type a → Type a" class="Datatype">Arg</a> <a id="1398" href="Agda.Builtin.Reflection.html#4661" data-type="Type" class="Datatype">Term</a><a id="1402" class="Symbol">)</a> <a id="1404" class="Symbol">→</a> <a id="1406" href="Agda.Builtin.List.html#121" data-type="Type a → Type a" class="Datatype">List</a> <a id="1411" href="Agda.Builtin.Reflection.html#3589" data-type="Type" class="Datatype">ArgInfo</a> <a id="1419" class="Symbol">→</a> <a id="1421" href="Agda.Builtin.List.html#121" data-type="Type a → Type a" class="Datatype">List</a> <a id="1426" class="Symbol">(</a><a id="1427" href="Agda.Builtin.Reflection.html#3670" data-type="Type a → Type a" class="Datatype">Arg</a> <a id="1431" href="Agda.Builtin.Reflection.html#4661" data-type="Type" class="Datatype">Term</a><a id="1435" class="Symbol">)</a>
      <a id="1443" href="1Lab.Reflection.Record.html#1371" data-type="(namen : Name) (unfolded : List (Arg Term) → TC Term)
(acc : List ArgInfo) (s : Sort) →
Nat → List (Arg Term) → List ArgInfo → List (Arg Term)" class="Function">makeArgs</a> <a id="1452" href="1Lab.Reflection.Record.html#1452" class="Bound">n</a> <a id="1454" href="1Lab.Reflection.Record.html#1454" class="Bound">acc</a> <a id="1458" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a> <a id="1461" class="Symbol">=</a> <a id="1463" href="1Lab.Reflection.Record.html#1454" class="Bound">acc</a>
      <a id="1473" href="1Lab.Reflection.Record.html#1371" data-type="(namen : Name) (unfolded : List (Arg Term) → TC Term)
(acc : List ArgInfo) (s : Sort) →
Nat → List (Arg Term) → List ArgInfo → List (Arg Term)" class="Function">makeArgs</a> <a id="1482" href="1Lab.Reflection.Record.html#1482" class="Bound">n</a> <a id="1484" href="1Lab.Reflection.Record.html#1484" class="Bound">acc</a> <a id="1488" class="Symbol">(</a><a id="1489" href="1Lab.Reflection.Record.html#1489" class="Bound">i</a> <a id="1491" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="1493" href="1Lab.Reflection.Record.html#1493" class="Bound">infos</a><a id="1498" class="Symbol">)</a> <a id="1500" class="Symbol">=</a> <a id="1502" href="1Lab.Reflection.Record.html#1371" data-type="(namen : Name) (unfolded : List (Arg Term) → TC Term)
(acc : List ArgInfo) (s : Sort) →
Nat → List (Arg Term) → List ArgInfo → List (Arg Term)" class="Function">makeArgs</a> <a id="1511" class="Symbol">(</a><a id="1512" href="Agda.Builtin.Nat.html#208" data-type="Nat → Nat" class="InductiveConstructor">suc</a> <a id="1516" href="1Lab.Reflection.Record.html#1482" class="Bound">n</a><a id="1517" class="Symbol">)</a> <a id="1519" class="Symbol">(</a><a id="1520" href="Agda.Builtin.Reflection.html#3706" data-type="ArgInfo → A → Arg A" class="InductiveConstructor">arg</a> <a id="1524" href="1Lab.Reflection.Record.html#1489" class="Bound">i</a> <a id="1526" class="Symbol">(</a><a id="1527" href="Agda.Builtin.Reflection.html#4806" data-type="Nat → List (Arg Term) → Term" class="InductiveConstructor">var</a> <a id="1531" href="1Lab.Reflection.Record.html#1482" class="Bound">n</a> <a id="1533" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a><a id="1535" class="Symbol">)</a> <a id="1537" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="1539" href="1Lab.Reflection.Record.html#1484" class="Bound">acc</a><a id="1542" class="Symbol">)</a> <a id="1544" href="1Lab.Reflection.Record.html#1493" class="Bound">infos</a>

      <a id="1557" href="1Lab.Reflection.Record.html#1557" data-type="(namen : Name) (unfolded : List (Arg Term) → TC Term)
(acc : List ArgInfo) (s : Sort) →
Nat → List (Arg Term) → List ArgInfo → List (Arg Term)" class="Function">implicitArgs</a> <a id="1570" class="Symbol">:</a> <a id="1572" href="Agda.Builtin.Nat.html#177" data-type="Type" class="Datatype">Nat</a> <a id="1576" class="Symbol">→</a> <a id="1578" href="Agda.Builtin.List.html#121" data-type="Type a → Type a" class="Datatype">List</a> <a id="1583" class="Symbol">(</a><a id="1584" href="Agda.Builtin.Reflection.html#3670" data-type="Type a → Type a" class="Datatype">Arg</a> <a id="1588" href="Agda.Builtin.Reflection.html#4661" data-type="Type" class="Datatype">Term</a><a id="1592" class="Symbol">)</a> <a id="1594" class="Symbol">→</a> <a id="1596" href="Agda.Builtin.List.html#121" data-type="Type a → Type a" class="Datatype">List</a> <a id="1601" href="Agda.Builtin.Reflection.html#3589" data-type="Type" class="Datatype">ArgInfo</a> <a id="1609" class="Symbol">→</a> <a id="1611" href="Agda.Builtin.List.html#121" data-type="Type a → Type a" class="Datatype">List</a> <a id="1616" class="Symbol">(</a><a id="1617" href="Agda.Builtin.Reflection.html#3670" data-type="Type a → Type a" class="Datatype">Arg</a> <a id="1621" href="Agda.Builtin.Reflection.html#4661" data-type="Type" class="Datatype">Term</a><a id="1625" class="Symbol">)</a>
      <a id="1633" href="1Lab.Reflection.Record.html#1557" data-type="(namen : Name) (unfolded : List (Arg Term) → TC Term)
(acc : List ArgInfo) (s : Sort) →
Nat → List (Arg Term) → List ArgInfo → List (Arg Term)" class="Function">implicitArgs</a> <a id="1646" href="1Lab.Reflection.Record.html#1646" class="Bound">n</a> <a id="1648" href="1Lab.Reflection.Record.html#1648" class="Bound">acc</a> <a id="1652" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a> <a id="1655" class="Symbol">=</a> <a id="1657" href="1Lab.Reflection.Record.html#1648" class="Bound">acc</a>
      <a id="1667" href="1Lab.Reflection.Record.html#1557" data-type="(namen : Name) (unfolded : List (Arg Term) → TC Term)
(acc : List ArgInfo) (s : Sort) →
Nat → List (Arg Term) → List ArgInfo → List (Arg Term)" class="Function">implicitArgs</a> <a id="1680" href="1Lab.Reflection.Record.html#1680" class="Bound">n</a> <a id="1682" href="1Lab.Reflection.Record.html#1682" class="Bound">acc</a> <a id="1686" class="Symbol">(_</a> <a id="1689" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="1691" href="1Lab.Reflection.Record.html#1691" class="Bound">i</a><a id="1692" class="Symbol">)</a> <a id="1694" class="Symbol">=</a> <a id="1696" href="1Lab.Reflection.Record.html#1557" data-type="(namen : Name) (unfolded : List (Arg Term) → TC Term)
(acc : List ArgInfo) (s : Sort) →
Nat → List (Arg Term) → List ArgInfo → List (Arg Term)" class="Function">implicitArgs</a> <a id="1709" class="Symbol">(</a><a id="1710" href="Agda.Builtin.Nat.html#208" data-type="Nat → Nat" class="InductiveConstructor">suc</a> <a id="1714" href="1Lab.Reflection.Record.html#1680" class="Bound">n</a><a id="1715" class="Symbol">)</a> <a id="1717" class="Symbol">(</a><a id="1718" href="Agda.Builtin.Reflection.html#4806" data-type="Nat → List (Arg Term) → Term" class="InductiveConstructor">var</a> <a id="1722" href="1Lab.Reflection.Record.html#1680" class="Bound">n</a> <a id="1724" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a> <a id="1727" href="1Lab.Reflection.html#1323" class="InductiveConstructor Operator">h∷</a> <a id="1730" href="1Lab.Reflection.Record.html#1682" class="Bound">acc</a><a id="1733" class="Symbol">)</a> <a id="1735" href="1Lab.Reflection.Record.html#1691" class="Bound">i</a>
  <a id="1739" href="1Lab.Reflection.Record.html#936" data-type="(namen : Name) (unfolded : List (Arg Term) → TC Term) →
List ArgInfo → Term → TC Term" class="CatchallClause Function">go</a><a id="1741" class="CatchallClause"> </a><a id="1742" class="CatchallClause Symbol">_</a><a id="1743" class="CatchallClause"> </a><a id="1744" class="CatchallClause Symbol">_</a> <a id="1746" class="Symbol">=</a> <a id="1748" href="Agda.Builtin.Reflection.html#8483" data-type="List ErrorPart → TC A" class="Postulate">typeError</a> <a id="1758" class="Symbol">(</a><a id="1759" href="Agda.Builtin.Reflection.html#7891" data-type="String → ErrorPart" class="InductiveConstructor">strErr</a> <a id="1766" class="String">&quot;Not a record type name: &quot;</a> <a id="1793" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="1795" href="Agda.Builtin.Reflection.html#7983" data-type="Name → ErrorPart" class="InductiveConstructor">nameErr</a> <a id="1803" href="1Lab.Reflection.Record.html#856" class="Bound">namen</a> <a id="1809" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="1811" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a><a id="1813" class="Symbol">)</a>

<a id="undo-clauses"></a><a id="1816" href="1Lab.Reflection.Record.html#1816" data-type="Fields → List Clause" class="Function">undo-clauses</a> <a id="1829" class="Symbol">:</a> <a id="1831" href="1Lab.Reflection.Record.html#476" data-type="Type" class="Function">Fields</a> <a id="1838" class="Symbol">→</a> <a id="1840" href="Agda.Builtin.List.html#121" data-type="Type a → Type a" class="Datatype">List</a> <a id="1845" href="Agda.Builtin.Reflection.html#4718" data-type="Type" class="Datatype">Clause</a>
<a id="1852" href="1Lab.Reflection.Record.html#1816" data-type="Fields → List Clause" class="Function">undo-clauses</a> <a id="1865" class="Symbol">=</a> <a id="1867" href="1Lab.Reflection.Record.html#1878" data-type="List (Name × List Name) → List Clause" class="Function">go</a> <a id="1870" class="Keyword">where</a>
  <a id="1878" href="1Lab.Reflection.Record.html#1878" data-type="List (Name × List Name) → List Clause" class="Function">go</a> <a id="1881" class="Symbol">:</a> <a id="1883" href="Agda.Builtin.List.html#121" data-type="Type a → Type a" class="Datatype">List</a> <a id="1888" class="Symbol">(</a><a id="1889" href="Agda.Builtin.Reflection.html#462" data-type="Type" class="Postulate">Name</a> <a id="1894" href="1Lab.Type.html#1846" data-type="Type a → Type b → Type (a ⊔ b)" class="Function Operator">×</a> <a id="1896" href="Agda.Builtin.List.html#121" data-type="Type a → Type a" class="Datatype">List</a> <a id="1901" href="Agda.Builtin.Reflection.html#462" data-type="Type" class="Postulate">Name</a><a id="1905" class="Symbol">)</a> <a id="1907" class="Symbol">→</a> <a id="1909" href="Agda.Builtin.List.html#121" data-type="Type a → Type a" class="Datatype">List</a> <a id="1914" href="Agda.Builtin.Reflection.html#4718" data-type="Type" class="Datatype">Clause</a>
  <a id="1923" href="1Lab.Reflection.Record.html#1878" data-type="List (Name × List Name) → List Clause" class="Function">go</a> <a id="1926" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a> <a id="1929" class="Symbol">=</a> <a id="1931" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a>
  <a id="1936" href="1Lab.Reflection.Record.html#1878" data-type="List (Name × List Name) → List Clause" class="Function">go</a> <a id="1939" class="Symbol">((</a><a id="1941" href="1Lab.Reflection.Record.html#1941" class="Bound">r-field</a> <a id="1949" href="Agda.Builtin.Sigma.html#209" data-type="(fst₁ : A) (snd₁ : B₁ fst₁) → ∑ A B₁" class="InductiveConstructor Operator">,</a> <a id="1951" href="1Lab.Reflection.Record.html#1951" class="Bound">sel-path</a><a id="1959" class="Symbol">)</a> <a id="1961" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="1963" href="1Lab.Reflection.Record.html#1963" class="Bound">xs</a><a id="1965" class="Symbol">)</a> <a id="1967" class="Symbol">=</a>
    <a id="1973" href="Agda.Builtin.Reflection.html#5774" data-type="Telescope → List (Arg Pattern) → Term → Clause" class="InductiveConstructor">clause</a> <a id="1980" class="Symbol">((</a><a id="1982" class="String">&quot;sig&quot;</a> <a id="1988" href="Agda.Builtin.Sigma.html#209" data-type="(fst₁ : A) (snd₁ : B₁ fst₁) → ∑ A B₁" class="InductiveConstructor Operator">,</a> <a id="1990" href="1Lab.Reflection.html#1060" data-type="A → Arg A" class="Function">varg</a> <a id="1995" href="Agda.Builtin.Reflection.html#5262" data-type="Term" class="InductiveConstructor">unknown</a><a id="2002" class="Symbol">)</a> <a id="2004" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="2006" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a><a id="2008" class="Symbol">)</a>
           <a id="2021" class="Symbol">(</a><a id="2022" href="1Lab.Reflection.html#1060" data-type="A → Arg A" class="Function">varg</a> <a id="2027" class="Symbol">(</a><a id="2028" href="Agda.Builtin.Reflection.html#5645" data-type="Name → Pattern" class="InductiveConstructor">proj</a> <a id="2033" class="Symbol">(</a><a id="2034" class="Keyword">quote</a> <a id="2040" href="Agda.Builtin.Sigma.html#237" data-type="(r : ∑ A B₁) → B₁ (fst r)" class="Field">snd</a><a id="2043" class="Symbol">))</a> <a id="2046" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="2048" href="1Lab.Reflection.html#1060" data-type="A → Arg A" class="Function">varg</a> <a id="2053" class="Symbol">(</a><a id="2054" href="Agda.Builtin.Reflection.html#5645" data-type="Name → Pattern" class="InductiveConstructor">proj</a> <a id="2059" class="Symbol">(</a><a id="2060" class="Keyword">quote</a> <a id="2066" href="1Lab.Equiv.html#6132" data-type="is-iso f → B₁ → A" class="Field">is-iso.inv</a><a id="2076" class="Symbol">))</a> <a id="2079" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="2081" href="1Lab.Reflection.html#1060" data-type="A → Arg A" class="Function">varg</a> <a id="2086" class="Symbol">(</a><a id="2087" href="Agda.Builtin.Reflection.html#5575" data-type="Nat → Pattern" class="InductiveConstructor">var</a> <a id="2091" class="Number">0</a><a id="2092" class="Symbol">)</a> <a id="2094" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="2096" href="1Lab.Reflection.html#1060" data-type="A → Arg A" class="Function">varg</a> <a id="2101" class="Symbol">(</a><a id="2102" href="Agda.Builtin.Reflection.html#5645" data-type="Name → Pattern" class="InductiveConstructor">proj</a> <a id="2107" href="1Lab.Reflection.Record.html#1941" class="Bound">r-field</a><a id="2114" class="Symbol">)</a> <a id="2116" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="2118" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a><a id="2120" class="Symbol">)</a>
           <a id="2133" class="Symbol">(</a><a id="2134" href="Data.List.html#5455" data-type="(A → B₁ → B₁) → B₁ → List A → B₁" class="Function">foldr</a> <a id="2140" class="Symbol">(λ</a> <a id="2143" href="1Lab.Reflection.Record.html#2143" class="Bound">n</a> <a id="2145" href="1Lab.Reflection.Record.html#2145" class="Bound">t</a> <a id="2147" class="Symbol">→</a> <a id="2149" href="Agda.Builtin.Reflection.html#4919" data-type="Name → List (Arg Term) → Term" class="InductiveConstructor">def</a> <a id="2153" href="1Lab.Reflection.Record.html#2143" class="Bound">n</a> <a id="2155" class="Symbol">(</a><a id="2156" href="1Lab.Reflection.Record.html#2145" class="Bound">t</a> <a id="2158" href="1Lab.Reflection.html#1242" class="InductiveConstructor Operator">v∷</a> <a id="2161" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a><a id="2163" class="Symbol">))</a> <a id="2166" class="Symbol">(</a><a id="2167" href="Agda.Builtin.Reflection.html#4806" data-type="Nat → List (Arg Term) → Term" class="InductiveConstructor">var</a> <a id="2171" class="Number">0</a> <a id="2173" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a><a id="2175" class="Symbol">)</a> <a id="2177" class="Symbol">(</a><a id="2178" href="Data.List.html#5645" data-type="List A → List A" class="Function">reverse</a> <a id="2186" href="1Lab.Reflection.Record.html#1951" class="Bound">sel-path</a><a id="2194" class="Symbol">))</a>
      <a id="2203" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="2205" href="1Lab.Reflection.Record.html#1878" data-type="List (Name × List Name) → List Clause" class="Function">go</a> <a id="2208" href="1Lab.Reflection.Record.html#1963" class="Bound">xs</a>

<a id="redo-clauses"></a><a id="2212" href="1Lab.Reflection.Record.html#2212" data-type="Fields → List Clause" class="Function">redo-clauses</a> <a id="2225" class="Symbol">:</a> <a id="2227" href="1Lab.Reflection.Record.html#476" data-type="Type" class="Function">Fields</a> <a id="2234" class="Symbol">→</a> <a id="2236" href="Agda.Builtin.List.html#121" data-type="Type a → Type a" class="Datatype">List</a> <a id="2241" href="Agda.Builtin.Reflection.html#4718" data-type="Type" class="Datatype">Clause</a>
<a id="2248" href="1Lab.Reflection.Record.html#2212" data-type="Fields → List Clause" class="Function">redo-clauses</a> <a id="2261" class="Symbol">=</a> <a id="2263" href="1Lab.Reflection.Record.html#2274" data-type="List (Name × List Name) → List Clause" class="Function">go</a> <a id="2266" class="Keyword">where</a>
  <a id="2274" href="1Lab.Reflection.Record.html#2274" data-type="List (Name × List Name) → List Clause" class="Function">go</a> <a id="2277" class="Symbol">:</a> <a id="2279" href="Agda.Builtin.List.html#121" data-type="Type a → Type a" class="Datatype">List</a> <a id="2284" class="Symbol">(</a><a id="2285" href="Agda.Builtin.Reflection.html#462" data-type="Type" class="Postulate">Name</a> <a id="2290" href="1Lab.Type.html#1846" data-type="Type a → Type b → Type (a ⊔ b)" class="Function Operator">×</a> <a id="2292" href="Agda.Builtin.List.html#121" data-type="Type a → Type a" class="Datatype">List</a> <a id="2297" href="Agda.Builtin.Reflection.html#462" data-type="Type" class="Postulate">Name</a><a id="2301" class="Symbol">)</a> <a id="2303" class="Symbol">→</a> <a id="2305" href="Agda.Builtin.List.html#121" data-type="Type a → Type a" class="Datatype">List</a> <a id="2310" href="Agda.Builtin.Reflection.html#4718" data-type="Type" class="Datatype">Clause</a>
  <a id="2319" href="1Lab.Reflection.Record.html#2274" data-type="List (Name × List Name) → List Clause" class="Function">go</a> <a id="2322" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a> <a id="2325" class="Symbol">=</a> <a id="2327" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a>
  <a id="2332" href="1Lab.Reflection.Record.html#2274" data-type="List (Name × List Name) → List Clause" class="Function">go</a> <a id="2335" class="Symbol">((</a><a id="2337" href="1Lab.Reflection.Record.html#2337" class="Bound">r-field</a> <a id="2345" href="Agda.Builtin.Sigma.html#209" data-type="(fst₁ : A) (snd₁ : B₁ fst₁) → ∑ A B₁" class="InductiveConstructor Operator">,</a> <a id="2347" href="1Lab.Reflection.Record.html#2347" class="Bound">sel-path</a><a id="2355" class="Symbol">)</a> <a id="2357" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="2359" href="1Lab.Reflection.Record.html#2359" class="Bound">xs</a><a id="2361" class="Symbol">)</a> <a id="2363" class="Symbol">=</a>
    <a id="2369" href="Agda.Builtin.Reflection.html#5774" data-type="Telescope → List (Arg Pattern) → Term → Clause" class="InductiveConstructor">clause</a> <a id="2376" class="Symbol">((</a><a id="2378" class="String">&quot;rec&quot;</a> <a id="2384" href="Agda.Builtin.Sigma.html#209" data-type="(fst₁ : A) (snd₁ : B₁ fst₁) → ∑ A B₁" class="InductiveConstructor Operator">,</a> <a id="2386" href="1Lab.Reflection.html#1060" data-type="A → Arg A" class="Function">varg</a> <a id="2391" href="Agda.Builtin.Reflection.html#5262" data-type="Term" class="InductiveConstructor">unknown</a><a id="2398" class="Symbol">)</a> <a id="2400" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="2402" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a><a id="2404" class="Symbol">)</a>
           <a id="2417" class="Symbol">(</a><a id="2418" href="1Lab.Reflection.html#1060" data-type="A → Arg A" class="Function">varg</a> <a id="2423" class="Symbol">(</a><a id="2424" href="Agda.Builtin.Reflection.html#5645" data-type="Name → Pattern" class="InductiveConstructor">proj</a> <a id="2429" class="Symbol">(</a><a id="2430" class="Keyword">quote</a> <a id="2436" href="Agda.Builtin.Sigma.html#225" data-type="∑ A B₁ → A" class="Field">fst</a><a id="2439" class="Symbol">))</a> <a id="2442" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="2444" href="1Lab.Reflection.html#1060" data-type="A → Arg A" class="Function">varg</a> <a id="2449" class="Symbol">(</a><a id="2450" href="Agda.Builtin.Reflection.html#5575" data-type="Nat → Pattern" class="InductiveConstructor">var</a> <a id="2454" class="Number">0</a><a id="2455" class="Symbol">)</a> <a id="2457" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="2459" href="Data.List.html#5187" data-type="(A → B₁) → List A → List B₁" class="Function">map</a> <a id="2463" class="Symbol">(</a><a id="2464" href="1Lab.Reflection.html#1060" data-type="A → Arg A" class="Function">varg</a> <a id="2469" href="1Lab.Type.html#2227" data-type="((y : B₁ x) → C x y) → (f : (x : A) → B₁ x) (x : A) → C x (f x)" class="Function Operator">∘</a> <a id="2471" href="Agda.Builtin.Reflection.html#5645" data-type="Name → Pattern" class="InductiveConstructor">proj</a><a id="2475" class="Symbol">)</a> <a id="2477" href="1Lab.Reflection.Record.html#2347" class="Bound">sel-path</a><a id="2485" class="Symbol">)</a>
           <a id="2498" class="Symbol">(</a><a id="2499" href="Agda.Builtin.Reflection.html#4919" data-type="Name → List (Arg Term) → Term" class="InductiveConstructor">def</a> <a id="2503" href="1Lab.Reflection.Record.html#2337" class="Bound">r-field</a> <a id="2511" class="Symbol">(</a><a id="2512" href="Agda.Builtin.Reflection.html#4806" data-type="Nat → List (Arg Term) → Term" class="InductiveConstructor">var</a> <a id="2516" class="Number">0</a> <a id="2518" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a> <a id="2521" href="1Lab.Reflection.html#1242" class="InductiveConstructor Operator">v∷</a> <a id="2524" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a><a id="2526" class="Symbol">))</a>
      <a id="2535" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="2537" href="1Lab.Reflection.Record.html#2274" data-type="List (Name × List Name) → List Clause" class="Function">go</a> <a id="2540" href="1Lab.Reflection.Record.html#2359" class="Bound">xs</a>

<a id="undo-redo-clauses"></a><a id="2544" href="1Lab.Reflection.Record.html#2544" data-type="Fields → List Clause" class="Function">undo-redo-clauses</a> <a id="2562" class="Symbol">:</a> <a id="2564" href="1Lab.Reflection.Record.html#476" data-type="Type" class="Function">Fields</a> <a id="2571" class="Symbol">→</a> <a id="2573" href="Agda.Builtin.List.html#121" data-type="Type a → Type a" class="Datatype">List</a> <a id="2578" href="Agda.Builtin.Reflection.html#4718" data-type="Type" class="Datatype">Clause</a>
<a id="2585" href="1Lab.Reflection.Record.html#2544" data-type="Fields → List Clause" class="Function">undo-redo-clauses</a> <a id="2603" class="Symbol">=</a> <a id="2605" href="1Lab.Reflection.Record.html#2616" data-type="Fields → List Clause" class="Function">go</a> <a id="2608" class="Keyword">where</a>
  <a id="2616" href="1Lab.Reflection.Record.html#2616" data-type="Fields → List Clause" class="Function">go</a> <a id="2619" class="Symbol">:</a> <a id="2621" href="1Lab.Reflection.Record.html#476" data-type="Type" class="Function">Fields</a> <a id="2628" class="Symbol">→</a> <a id="2630" href="Agda.Builtin.List.html#121" data-type="Type a → Type a" class="Datatype">List</a> <a id="2635" href="Agda.Builtin.Reflection.html#4718" data-type="Type" class="Datatype">Clause</a>
  <a id="2644" href="1Lab.Reflection.Record.html#2616" data-type="Fields → List Clause" class="Function">go</a> <a id="2647" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a> <a id="2650" class="Symbol">=</a> <a id="2652" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a>
  <a id="2657" href="1Lab.Reflection.Record.html#2616" data-type="Fields → List Clause" class="Function">go</a> <a id="2660" class="Symbol">((</a><a id="2662" href="1Lab.Reflection.Record.html#2662" class="Bound">r-field</a> <a id="2670" href="Agda.Builtin.Sigma.html#209" data-type="(fst₁ : A) (snd₁ : B₁ fst₁) → ∑ A B₁" class="InductiveConstructor Operator">,</a> <a id="2672" class="Symbol">_)</a> <a id="2675" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="2677" href="1Lab.Reflection.Record.html#2677" class="Bound">xs</a><a id="2679" class="Symbol">)</a> <a id="2681" class="Symbol">=</a>
    <a id="2687" href="Agda.Builtin.Reflection.html#5774" data-type="Telescope → List (Arg Pattern) → Term → Clause" class="InductiveConstructor">clause</a> <a id="2694" class="Symbol">((</a><a id="2696" class="String">&quot;sig&quot;</a> <a id="2702" href="Agda.Builtin.Sigma.html#209" data-type="(fst₁ : A) (snd₁ : B₁ fst₁) → ∑ A B₁" class="InductiveConstructor Operator">,</a> <a id="2704" href="1Lab.Reflection.html#1060" data-type="A → Arg A" class="Function">varg</a> <a id="2709" href="Agda.Builtin.Reflection.html#5262" data-type="Term" class="InductiveConstructor">unknown</a><a id="2716" class="Symbol">)</a> <a id="2718" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="2720" class="Symbol">(</a><a id="2721" class="String">&quot;i&quot;</a> <a id="2725" href="Agda.Builtin.Sigma.html#209" data-type="(fst₁ : A) (snd₁ : B₁ fst₁) → ∑ A B₁" class="InductiveConstructor Operator">,</a> <a id="2727" href="1Lab.Reflection.html#1060" data-type="A → Arg A" class="Function">varg</a> <a id="2732" class="Symbol">(</a><a id="2733" class="Keyword">quoteTerm</a> <a id="2743" href="Agda.Primitive.Cubical.html#150" class="Datatype">I</a><a id="2744" class="Symbol">))</a> <a id="2747" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="2749" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a><a id="2751" class="Symbol">)</a>
           <a id="2764" class="Symbol">(</a> <a id="2766" href="1Lab.Reflection.html#1060" data-type="A → Arg A" class="Function">varg</a> <a id="2771" class="Symbol">(</a><a id="2772" href="Agda.Builtin.Reflection.html#5645" data-type="Name → Pattern" class="InductiveConstructor">proj</a> <a id="2777" class="Symbol">(</a><a id="2778" class="Keyword">quote</a> <a id="2784" href="Agda.Builtin.Sigma.html#237" data-type="(r : ∑ A B₁) → B₁ (fst r)" class="Field">snd</a><a id="2787" class="Symbol">))</a> <a id="2790" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="2792" href="1Lab.Reflection.html#1060" data-type="A → Arg A" class="Function">varg</a> <a id="2797" class="Symbol">(</a><a id="2798" href="Agda.Builtin.Reflection.html#5645" data-type="Name → Pattern" class="InductiveConstructor">proj</a> <a id="2803" class="Symbol">(</a><a id="2804" class="Keyword">quote</a> <a id="2810" href="1Lab.Equiv.html#6182" data-type="(r : is-iso f) → is-left-inverse (r .inv) f" class="Field">is-iso.linv</a><a id="2821" class="Symbol">))</a>
           <a id="2835" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="2837" href="1Lab.Reflection.html#1060" data-type="A → Arg A" class="Function">varg</a> <a id="2842" class="Symbol">(</a><a id="2843" href="Agda.Builtin.Reflection.html#5575" data-type="Nat → Pattern" class="InductiveConstructor">var</a> <a id="2847" class="Number">1</a><a id="2848" class="Symbol">)</a> <a id="2850" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="2852" href="1Lab.Reflection.html#1060" data-type="A → Arg A" class="Function">varg</a> <a id="2857" class="Symbol">(</a><a id="2858" href="Agda.Builtin.Reflection.html#5575" data-type="Nat → Pattern" class="InductiveConstructor">var</a> <a id="2862" class="Number">0</a><a id="2863" class="Symbol">)</a> <a id="2865" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="2867" href="1Lab.Reflection.html#1060" data-type="A → Arg A" class="Function">varg</a> <a id="2872" class="Symbol">(</a><a id="2873" href="Agda.Builtin.Reflection.html#5645" data-type="Name → Pattern" class="InductiveConstructor">proj</a> <a id="2878" href="1Lab.Reflection.Record.html#2662" class="Bound">r-field</a><a id="2885" class="Symbol">)</a> <a id="2887" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="2889" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a><a id="2891" class="Symbol">)</a>
           <a id="2904" class="Symbol">(</a><a id="2905" href="Agda.Builtin.Reflection.html#4919" data-type="Name → List (Arg Term) → Term" class="InductiveConstructor">def</a> <a id="2909" href="1Lab.Reflection.Record.html#2662" class="Bound">r-field</a> <a id="2917" class="Symbol">(</a><a id="2918" href="Agda.Builtin.Reflection.html#4806" data-type="Nat → List (Arg Term) → Term" class="InductiveConstructor">var</a> <a id="2922" class="Number">1</a> <a id="2924" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a> <a id="2927" href="1Lab.Reflection.html#1242" class="InductiveConstructor Operator">v∷</a> <a id="2930" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a><a id="2932" class="Symbol">))</a>
      <a id="2941" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="2943" href="1Lab.Reflection.Record.html#2616" data-type="Fields → List Clause" class="Function">go</a> <a id="2946" href="1Lab.Reflection.Record.html#2677" class="Bound">xs</a>

<a id="redo-undo-clauses"></a><a id="2950" href="1Lab.Reflection.Record.html#2950" data-type="Fields → List Clause" class="Function">redo-undo-clauses</a> <a id="2968" class="Symbol">:</a> <a id="2970" href="1Lab.Reflection.Record.html#476" data-type="Type" class="Function">Fields</a> <a id="2977" class="Symbol">→</a> <a id="2979" href="Agda.Builtin.List.html#121" data-type="Type a → Type a" class="Datatype">List</a> <a id="2984" href="Agda.Builtin.Reflection.html#4718" data-type="Type" class="Datatype">Clause</a>
<a id="2991" href="1Lab.Reflection.Record.html#2950" data-type="Fields → List Clause" class="Function">redo-undo-clauses</a> <a id="3009" class="Symbol">=</a> <a id="3011" href="1Lab.Reflection.Record.html#3022" data-type="List (Name × List Name) → List Clause" class="Function">go</a> <a id="3014" class="Keyword">where</a>
  <a id="3022" href="1Lab.Reflection.Record.html#3022" data-type="List (Name × List Name) → List Clause" class="Function">go</a> <a id="3025" class="Symbol">:</a> <a id="3027" href="Agda.Builtin.List.html#121" data-type="Type a → Type a" class="Datatype">List</a> <a id="3032" class="Symbol">(</a><a id="3033" href="Agda.Builtin.Reflection.html#462" data-type="Type" class="Postulate">Name</a> <a id="3038" href="1Lab.Type.html#1846" data-type="Type a → Type b → Type (a ⊔ b)" class="Function Operator">×</a> <a id="3040" href="Agda.Builtin.List.html#121" data-type="Type a → Type a" class="Datatype">List</a> <a id="3045" href="Agda.Builtin.Reflection.html#462" data-type="Type" class="Postulate">Name</a><a id="3049" class="Symbol">)</a> <a id="3051" class="Symbol">→</a> <a id="3053" href="Agda.Builtin.List.html#121" data-type="Type a → Type a" class="Datatype">List</a> <a id="3058" href="Agda.Builtin.Reflection.html#4718" data-type="Type" class="Datatype">Clause</a>
  <a id="3067" href="1Lab.Reflection.Record.html#3022" data-type="List (Name × List Name) → List Clause" class="Function">go</a> <a id="3070" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a> <a id="3073" class="Symbol">=</a> <a id="3075" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a>
  <a id="3080" href="1Lab.Reflection.Record.html#3022" data-type="List (Name × List Name) → List Clause" class="Function">go</a> <a id="3083" class="Symbol">((</a><a id="3085" href="1Lab.Reflection.Record.html#3085" class="Bound">r-field</a> <a id="3093" href="Agda.Builtin.Sigma.html#209" data-type="(fst₁ : A) (snd₁ : B₁ fst₁) → ∑ A B₁" class="InductiveConstructor Operator">,</a> <a id="3095" href="1Lab.Reflection.Record.html#3095" class="Bound">sel-path</a><a id="3103" class="Symbol">)</a> <a id="3105" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="3107" href="1Lab.Reflection.Record.html#3107" class="Bound">xs</a><a id="3109" class="Symbol">)</a> <a id="3111" class="Symbol">=</a>
    <a id="3117" href="Agda.Builtin.Reflection.html#5774" data-type="Telescope → List (Arg Pattern) → Term → Clause" class="InductiveConstructor">clause</a> <a id="3124" class="Symbol">((</a><a id="3126" class="String">&quot;rec&quot;</a> <a id="3132" href="Agda.Builtin.Sigma.html#209" data-type="(fst₁ : A) (snd₁ : B₁ fst₁) → ∑ A B₁" class="InductiveConstructor Operator">,</a> <a id="3134" href="1Lab.Reflection.html#1060" data-type="A → Arg A" class="Function">varg</a> <a id="3139" href="Agda.Builtin.Reflection.html#5262" data-type="Term" class="InductiveConstructor">unknown</a><a id="3146" class="Symbol">)</a> <a id="3148" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="3150" class="Symbol">(</a><a id="3151" class="String">&quot;i&quot;</a> <a id="3155" href="Agda.Builtin.Sigma.html#209" data-type="(fst₁ : A) (snd₁ : B₁ fst₁) → ∑ A B₁" class="InductiveConstructor Operator">,</a> <a id="3157" href="1Lab.Reflection.html#1060" data-type="A → Arg A" class="Function">varg</a> <a id="3162" class="Symbol">(</a><a id="3163" class="Keyword">quoteTerm</a> <a id="3173" href="Agda.Primitive.Cubical.html#150" class="Datatype">I</a><a id="3174" class="Symbol">))</a> <a id="3177" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="3179" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a><a id="3181" class="Symbol">)</a>
           <a id="3194" class="Symbol">(</a><a id="3195" href="1Lab.Reflection.html#1060" data-type="A → Arg A" class="Function">varg</a> <a id="3200" class="Symbol">(</a><a id="3201" href="Agda.Builtin.Reflection.html#5645" data-type="Name → Pattern" class="InductiveConstructor">proj</a> <a id="3206" class="Symbol">(</a><a id="3207" class="Keyword">quote</a> <a id="3213" href="Agda.Builtin.Sigma.html#237" data-type="(r : ∑ A B₁) → B₁ (fst r)" class="Field">snd</a><a id="3216" class="Symbol">))</a> <a id="3219" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="3221" href="1Lab.Reflection.html#1060" data-type="A → Arg A" class="Function">varg</a> <a id="3226" class="Symbol">(</a><a id="3227" href="Agda.Builtin.Reflection.html#5645" data-type="Name → Pattern" class="InductiveConstructor">proj</a> <a id="3232" class="Symbol">(</a><a id="3233" class="Keyword">quote</a> <a id="3239" href="1Lab.Equiv.html#6148" data-type="(r : is-iso f) → is-right-inverse (r .inv) f" class="Field">is-iso.rinv</a><a id="3250" class="Symbol">))</a> <a id="3253" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="3255" href="1Lab.Reflection.html#1060" data-type="A → Arg A" class="Function">varg</a> <a id="3260" class="Symbol">(</a><a id="3261" href="Agda.Builtin.Reflection.html#5575" data-type="Nat → Pattern" class="InductiveConstructor">var</a> <a id="3265" class="Number">1</a><a id="3266" class="Symbol">)</a> <a id="3268" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="3270" href="1Lab.Reflection.html#1060" data-type="A → Arg A" class="Function">varg</a> <a id="3275" class="Symbol">(</a><a id="3276" href="Agda.Builtin.Reflection.html#5575" data-type="Nat → Pattern" class="InductiveConstructor">var</a> <a id="3280" class="Number">0</a><a id="3281" class="Symbol">)</a> <a id="3283" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="3285" href="Data.List.html#5187" data-type="(A → B₁) → List A → List B₁" class="Function">map</a> <a id="3289" class="Symbol">(</a><a id="3290" href="1Lab.Reflection.html#1060" data-type="A → Arg A" class="Function">varg</a> <a id="3295" href="1Lab.Type.html#2227" data-type="((y : B₁ x) → C x y) → (f : (x : A) → B₁ x) (x : A) → C x (f x)" class="Function Operator">∘</a> <a id="3297" href="Agda.Builtin.Reflection.html#5645" data-type="Name → Pattern" class="InductiveConstructor">proj</a><a id="3301" class="Symbol">)</a> <a id="3303" href="1Lab.Reflection.Record.html#3095" class="Bound">sel-path</a><a id="3311" class="Symbol">)</a>
           <a id="3324" class="Symbol">(</a><a id="3325" href="Data.List.html#5455" data-type="(A → B₁ → B₁) → B₁ → List A → B₁" class="Function">foldr</a> <a id="3331" class="Symbol">(λ</a> <a id="3334" href="1Lab.Reflection.Record.html#3334" class="Bound">n</a> <a id="3336" href="1Lab.Reflection.Record.html#3336" class="Bound">t</a> <a id="3338" class="Symbol">→</a> <a id="3340" href="Agda.Builtin.Reflection.html#4919" data-type="Name → List (Arg Term) → Term" class="InductiveConstructor">def</a> <a id="3344" href="1Lab.Reflection.Record.html#3334" class="Bound">n</a> <a id="3346" class="Symbol">(</a><a id="3347" href="1Lab.Reflection.Record.html#3336" class="Bound">t</a> <a id="3349" href="1Lab.Reflection.html#1242" class="InductiveConstructor Operator">v∷</a> <a id="3352" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a><a id="3354" class="Symbol">))</a> <a id="3357" class="Symbol">(</a><a id="3358" href="Agda.Builtin.Reflection.html#4806" data-type="Nat → List (Arg Term) → Term" class="InductiveConstructor">var</a> <a id="3362" class="Number">1</a> <a id="3364" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a><a id="3366" class="Symbol">)</a> <a id="3368" class="Symbol">(</a><a id="3369" href="Data.List.html#5645" data-type="List A → List A" class="Function">reverse</a> <a id="3377" href="1Lab.Reflection.Record.html#3095" class="Bound">sel-path</a><a id="3385" class="Symbol">))</a>
      <a id="3394" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="3396" href="1Lab.Reflection.Record.html#3022" data-type="List (Name × List Name) → List Clause" class="Function">go</a> <a id="3399" href="1Lab.Reflection.Record.html#3107" class="Bound">xs</a>

<a id="pi-term→sigma"></a><a id="3403" href="1Lab.Reflection.Record.html#3403" data-type="Term → TC Term" class="Function">pi-term→sigma</a> <a id="3417" class="Symbol">:</a> <a id="3419" href="Agda.Builtin.Reflection.html#4661" data-type="Type" class="Datatype">Term</a> <a id="3424" class="Symbol">→</a> <a id="3426" href="Agda.Builtin.Reflection.html#8270" data-type="Type a → Type a" class="Postulate">TC</a> <a id="3429" href="Agda.Builtin.Reflection.html#4661" data-type="Type" class="Datatype">Term</a>
<a id="3434" href="1Lab.Reflection.Record.html#3403" data-type="Term → TC Term" class="Function">pi-term→sigma</a> <a id="3448" class="Symbol">(</a><a id="3449" href="Agda.Builtin.Reflection.html#5094" data-type="Arg Type → Abs Type → Term" class="InductiveConstructor">pi</a> <a id="3452" class="Symbol">(</a><a id="3453" href="Agda.Builtin.Reflection.html#3706" data-type="ArgInfo → A → Arg A" class="InductiveConstructor">arg</a> <a id="3457" class="Symbol">_</a> <a id="3459" href="1Lab.Reflection.Record.html#3459" class="Bound">x</a><a id="3460" class="Symbol">)</a> <a id="3462" class="Symbol">(</a><a id="3463" href="Agda.Builtin.Reflection.html#3953" data-type="String → A → Abs A" class="InductiveConstructor">abs</a> <a id="3467" href="1Lab.Reflection.Record.html#3467" class="Bound">n</a> <a id="3469" class="Symbol">(</a><a id="3470" href="Agda.Builtin.Reflection.html#4919" data-type="Name → List (Arg Term) → Term" class="InductiveConstructor">def</a> <a id="3474" href="1Lab.Reflection.Record.html#3474" class="Bound">n′</a> <a id="3477" class="Symbol">_)))</a> <a id="3482" class="Symbol">=</a> <a id="3484" href="Agda.Builtin.Reflection.html#8313" data-type="A → TC A" class="Postulate">returnTC</a> <a id="3493" href="1Lab.Reflection.Record.html#3459" class="Bound">x</a>
<a id="3495" href="1Lab.Reflection.Record.html#3403" data-type="Term → TC Term" class="CatchallClause Function">pi-term→sigma</a><a id="3508" class="CatchallClause"> </a><a id="3509" class="CatchallClause Symbol">(</a><a id="3510" href="Agda.Builtin.Reflection.html#5094" data-type="Arg Type → Abs Type → Term" class="CatchallClause InductiveConstructor">pi</a><a id="3512" class="CatchallClause"> </a><a id="3513" class="CatchallClause Symbol">(</a><a id="3514" href="Agda.Builtin.Reflection.html#3706" data-type="ArgInfo → A → Arg A" class="CatchallClause InductiveConstructor">arg</a><a id="3517" class="CatchallClause"> </a><a id="3518" class="CatchallClause Symbol">_</a><a id="3519" class="CatchallClause"> </a><a id="3520" href="1Lab.Reflection.Record.html#3520" class="CatchallClause Bound">x</a><a id="3521" class="CatchallClause Symbol">)</a><a id="3522" class="CatchallClause"> </a><a id="3523" class="CatchallClause Symbol">(</a><a id="3524" href="Agda.Builtin.Reflection.html#3953" data-type="String → A → Abs A" class="CatchallClause InductiveConstructor">abs</a><a id="3527" class="CatchallClause"> </a><a id="3528" href="1Lab.Reflection.Record.html#3528" class="CatchallClause Bound">n</a><a id="3529" class="CatchallClause"> </a><a id="3530" href="1Lab.Reflection.Record.html#3530" class="CatchallClause Bound">y</a><a id="3531" class="CatchallClause Symbol">))</a> <a id="3534" class="Symbol">=</a> <a id="3536" class="Keyword">do</a>
  <a id="3541" href="1Lab.Reflection.Record.html#3541" class="Bound">sig</a> <a id="3545" href="Agda.Builtin.Reflection.html#8363" data-type="TC A → (A → TC B₁) → TC B₁" class="Postulate Operator">←</a> <a id="3547" href="1Lab.Reflection.Record.html#3403" data-type="Term → TC Term" class="Function">pi-term→sigma</a> <a id="3561" href="1Lab.Reflection.Record.html#3530" class="Bound">y</a>
  <a id="3565" href="Agda.Builtin.Reflection.html#8313" data-type="A → TC A" class="Postulate">returnTC</a> <a id="3574" href="1Lab.Type.html#2481" data-type="((x : A) → B₁ x) → (x : A) → B₁ x" class="Function Operator">$</a> <a id="3576" href="Agda.Builtin.Reflection.html#4919" data-type="Name → List (Arg Term) → Term" class="InductiveConstructor">def</a> <a id="3580" class="Symbol">(</a><a id="3581" class="Keyword">quote</a> <a id="3587" href="Agda.Builtin.Sigma.html#139" data-type="(A : Type a) (B₁ : A → Type b) → Type (a ⊔ b)" class="Record">S.Σ</a><a id="3590" class="Symbol">)</a> <a id="3592" class="Symbol">(</a><a id="3593" href="1Lab.Reflection.Record.html#3520" class="Bound">x</a> <a id="3595" href="1Lab.Reflection.html#1242" class="InductiveConstructor Operator">v∷</a> <a id="3598" href="Agda.Builtin.Reflection.html#4976" data-type="Visibility → Abs Term → Term" class="InductiveConstructor">lam</a> <a id="3602" href="Agda.Builtin.Reflection.html#2736" data-type="Visibility" class="InductiveConstructor">visible</a> <a id="3610" class="Symbol">(</a><a id="3611" href="Agda.Builtin.Reflection.html#3953" data-type="String → A → Abs A" class="InductiveConstructor">abs</a> <a id="3615" href="1Lab.Reflection.Record.html#3528" class="Bound">n</a> <a id="3617" href="1Lab.Reflection.Record.html#3541" class="Bound">sig</a><a id="3620" class="Symbol">)</a> <a id="3622" href="1Lab.Reflection.html#1242" class="InductiveConstructor Operator">v∷</a> <a id="3625" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a><a id="3627" class="Symbol">)</a>
<a id="3629" href="1Lab.Reflection.Record.html#3403" data-type="Term → TC Term" class="CatchallClause Function">pi-term→sigma</a><a id="3642" class="CatchallClause"> </a><a id="3643" class="CatchallClause Symbol">_</a> <a id="3645" class="Symbol">=</a> <a id="3647" href="Agda.Builtin.Reflection.html#8483" data-type="List ErrorPart → TC A" class="Postulate">typeError</a> <a id="3657" class="Symbol">(</a><a id="3658" href="Agda.Builtin.Reflection.html#7891" data-type="String → ErrorPart" class="InductiveConstructor">strErr</a> <a id="3665" class="String">&quot;Not a record type constructor! &quot;</a> <a id="3699" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="3701" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a><a id="3703" class="Symbol">)</a>

<a id="instantiate′"></a><a id="3706" href="1Lab.Reflection.Record.html#3706" data-type="Term → Term → Term" class="Function">instantiate′</a> <a id="3719" class="Symbol">:</a> <a id="3721" href="Agda.Builtin.Reflection.html#4661" data-type="Type" class="Datatype">Term</a> <a id="3726" class="Symbol">→</a> <a id="3728" href="Agda.Builtin.Reflection.html#4661" data-type="Type" class="Datatype">Term</a> <a id="3733" class="Symbol">→</a> <a id="3735" href="Agda.Builtin.Reflection.html#4661" data-type="Type" class="Datatype">Term</a>
<a id="3740" href="1Lab.Reflection.Record.html#3706" data-type="Term → Term → Term" class="Function">instantiate′</a> <a id="3753" class="Symbol">(</a><a id="3754" href="Agda.Builtin.Reflection.html#5094" data-type="Arg Type → Abs Type → Term" class="InductiveConstructor">pi</a> <a id="3757" class="Symbol">_</a> <a id="3759" class="Symbol">(</a><a id="3760" href="Agda.Builtin.Reflection.html#3953" data-type="String → A → Abs A" class="InductiveConstructor">abs</a> <a id="3764" class="Symbol">_</a> <a id="3766" href="1Lab.Reflection.Record.html#3766" class="Bound">xs</a><a id="3768" class="Symbol">))</a> <a id="3771" class="Symbol">(</a><a id="3772" href="Agda.Builtin.Reflection.html#5094" data-type="Arg Type → Abs Type → Term" class="InductiveConstructor">pi</a> <a id="3775" class="Symbol">_</a> <a id="3777" class="Symbol">(</a><a id="3778" href="Agda.Builtin.Reflection.html#3953" data-type="String → A → Abs A" class="InductiveConstructor">abs</a> <a id="3782" class="Symbol">_</a> <a id="3784" href="1Lab.Reflection.Record.html#3784" class="Bound">b</a><a id="3785" class="Symbol">))</a> <a id="3788" class="Symbol">=</a> <a id="3790" href="1Lab.Reflection.Record.html#3706" data-type="Term → Term → Term" class="Function">instantiate′</a> <a id="3803" href="1Lab.Reflection.Record.html#3766" class="Bound">xs</a> <a id="3806" href="1Lab.Reflection.Record.html#3784" class="Bound">b</a>
<a id="3808" href="1Lab.Reflection.Record.html#3706" data-type="Term → Term → Term" class="Function">instantiate′</a> <a id="3821" class="Symbol">(</a><a id="3822" href="Agda.Builtin.Reflection.html#5145" data-type="Sort → Term" class="InductiveConstructor">agda-sort</a> <a id="3832" class="Symbol">_)</a> <a id="3835" href="1Lab.Reflection.Record.html#3835" class="Bound">tm</a> <a id="3838" class="Symbol">=</a> <a id="3840" href="1Lab.Reflection.Record.html#3835" class="Bound">tm</a>
<a id="3843" href="1Lab.Reflection.Record.html#3706" data-type="Term → Term → Term" class="CatchallClause Function">instantiate′</a><a id="3855" class="CatchallClause"> </a><a id="3856" class="CatchallClause Symbol">_</a><a id="3857" class="CatchallClause"> </a><a id="3858" href="1Lab.Reflection.Record.html#3858" class="CatchallClause Bound">tm</a> <a id="3861" class="Symbol">=</a> <a id="3863" href="1Lab.Reflection.Record.html#3858" class="Bound">tm</a>

<a id="make-record-iso-sigma"></a><a id="3867" href="1Lab.Reflection.Record.html#3867" data-type="Bool → TC Name → Name → TC Name" class="Function">make-record-iso-sigma</a> <a id="3889" class="Symbol">:</a> <a id="3891" href="Agda.Builtin.Bool.html#147" data-type="Type" class="Datatype">Bool</a> <a id="3896" class="Symbol">→</a> <a id="3898" href="Agda.Builtin.Reflection.html#8270" data-type="Type a → Type a" class="Postulate">TC</a> <a id="3901" href="Agda.Builtin.Reflection.html#462" data-type="Type" class="Postulate">Name</a> <a id="3906" class="Symbol">→</a> <a id="3908" href="Agda.Builtin.Reflection.html#462" data-type="Type" class="Postulate">Name</a> <a id="3913" class="Symbol">→</a> <a id="3915" href="Agda.Builtin.Reflection.html#8270" data-type="Type a → Type a" class="Postulate">TC</a> <a id="3918" href="Agda.Builtin.Reflection.html#462" data-type="Type" class="Postulate">Name</a>
<a id="3923" href="1Lab.Reflection.Record.html#3867" data-type="Bool → TC Name → Name → TC Name" class="Function">make-record-iso-sigma</a> <a id="3945" href="1Lab.Reflection.Record.html#3945" class="Bound">declare?</a> <a id="3954" href="1Lab.Reflection.Record.html#3954" class="Bound">getName</a> <a id="3962" href="1Lab.Reflection.Record.html#3962" class="Bound">`R</a> <a id="3965" class="Symbol">=</a> <a id="3967" class="Keyword">do</a>
  <a id="3972" href="Agda.Builtin.Reflection.html#7285" data-type="Name → List (Arg Name) → Definition" class="InductiveConstructor">record-type</a> <a id="3984" href="1Lab.Reflection.Record.html#3984" class="Bound">`R-con</a> <a id="3991" href="1Lab.Reflection.Record.html#3991" class="Bound">fields</a> <a id="3998" href="Agda.Builtin.Reflection.html#8363" data-type="TC A → (A → TC B₁) → TC B₁" class="Postulate Operator">←</a> <a id="4000" href="Agda.Builtin.Reflection.html#9292" data-type="Name → TC Definition" class="Postulate">getDefinition</a> <a id="4014" href="1Lab.Reflection.Record.html#3962" class="Bound">`R</a>
    <a id="4021" class="Keyword">where</a> <a id="4027" class="CatchallClause Symbol">_</a> <a id="4029" class="Symbol">→</a> <a id="4031" href="Agda.Builtin.Reflection.html#8483" data-type="List ErrorPart → TC A" class="Postulate">typeError</a> <a id="4041" class="Symbol">(</a><a id="4042" href="Agda.Builtin.Reflection.html#7983" data-type="Name → ErrorPart" class="InductiveConstructor">nameErr</a> <a id="4050" href="1Lab.Reflection.Record.html#3962" class="Bound">`R</a> <a id="4053" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="4055" href="Agda.Builtin.Reflection.html#7891" data-type="String → ErrorPart" class="InductiveConstructor">strErr</a> <a id="4062" class="String">&quot; is not a record type&quot;</a> <a id="4086" href="Agda.Builtin.List.html#173" data-type="A → List A → List A" class="InductiveConstructor Operator">∷</a> <a id="4088" href="Agda.Builtin.List.html#158" data-type="List A" class="InductiveConstructor">[]</a><a id="4090" class="Symbol">)</a>

  <a id="4095" class="Keyword">let</a> <a id="4099" href="1Lab.Reflection.Record.html#4099" class="Bound">fields</a> <a id="4106" class="Symbol">=</a> <a id="4108" href="1Lab.Reflection.Record.html#524" data-type="List (Arg Name) → Fields" class="Function">field-names→paths</a> <a id="4126" href="1Lab.Reflection.Record.html#3991" class="Bound">fields</a>

  <a id="4136" href="1Lab.Reflection.Record.html#4136" class="Bound">`R-ty</a> <a id="4142" href="Agda.Builtin.Reflection.html#8363" data-type="TC A → (A → TC B₁) → TC B₁" class="Postulate Operator">←</a> <a id="4144" href="Agda.Builtin.Reflection.html#9256" data-type="Name → TC Type" class="Postulate">getType</a> <a id="4152" href="1Lab.Reflection.Record.html#3962" class="Bound">`R</a>
  <a id="4157" href="1Lab.Reflection.Record.html#4157" class="Bound">con-ty</a> <a id="4164" href="Agda.Builtin.Reflection.html#8363" data-type="TC A → (A → TC B₁) → TC B₁" class="Postulate Operator">←</a> <a id="4166" href="Agda.Builtin.Reflection.html#9256" data-type="Name → TC Type" class="Postulate">getType</a> <a id="4174" href="1Lab.Reflection.Record.html#3984" class="Bound">`R-con</a>
  <a id="4183" href="1Lab.Reflection.Record.html#4183" class="Bound">ty</a> <a id="4186" href="Agda.Builtin.Reflection.html#8363" data-type="TC A → (A → TC B₁) → TC B₁" class="Postulate Operator">←</a> <a id="4188" href="1Lab.Reflection.Record.html#787" data-type="Name → (List (Arg Term) → TC Term) → TC Term" class="Function">record→iso</a> <a id="4199" href="1Lab.Reflection.Record.html#3962" class="Bound">`R</a> <a id="4202" class="Symbol">λ</a> <a id="4204" href="1Lab.Reflection.Record.html#4204" class="Bound">args</a> <a id="4209" class="Symbol">→</a> <a id="4211" class="Keyword">do</a>
    <a id="4218" class="Keyword">let</a> <a id="4222" href="1Lab.Reflection.Record.html#4222" class="Bound">con-ty</a> <a id="4229" class="Symbol">=</a> <a id="4231" href="1Lab.Reflection.Record.html#3706" data-type="Term → Term → Term" class="Function">instantiate′</a> <a id="4244" href="1Lab.Reflection.Record.html#4136" class="Bound">`R-ty</a> <a id="4250" href="1Lab.Reflection.Record.html#4157" class="Bound">con-ty</a>
    <a id="4261" href="1Lab.Reflection.Record.html#4261" class="Bound">`S</a> <a id="4264" href="Agda.Builtin.Reflection.html#8363" data-type="TC A → (A → TC B₁) → TC B₁" class="Postulate Operator">←</a> <a id="4266" href="1Lab.Reflection.Record.html#3403" data-type="Term → TC Term" class="Function">pi-term→sigma</a> <a id="4280" href="1Lab.Reflection.Record.html#4222" class="Bound">con-ty</a>
    <a id="4291" href="Agda.Builtin.Reflection.html#8313" data-type="A → TC A" class="Postulate">returnTC</a> <a id="4300" href="1Lab.Reflection.Record.html#4261" class="Bound">`S</a>

  <a id="4306" href="1Lab.Reflection.Record.html#4306" class="Bound">nm</a> <a id="4309" href="Agda.Builtin.Reflection.html#8363" data-type="TC A → (A → TC B₁) → TC B₁" class="Postulate Operator">←</a> <a id="4311" href="1Lab.Reflection.Record.html#3954" class="Bound">getName</a>
  <a id="4321" href="Agda.Builtin.Reflection.html#8313" data-type="A → TC A" class="Postulate">returnTC</a> <a id="4330" href="1Lab.Reflection.Record.html#3945" class="Bound">declare?</a> <a id="4339" href="Agda.Builtin.Reflection.html#8363" data-type="TC A → (A → TC B₁) → TC B₁" class="Postulate Operator">&gt;&gt;=</a> <a id="4343" class="Symbol">λ</a> <a id="4345" class="Keyword">where</a>
    <a id="4355" href="Agda.Builtin.Bool.html#172" data-type="Bool" class="InductiveConstructor">true</a> <a id="4360" class="Symbol">→</a> <a id="4362" href="Agda.Builtin.Reflection.html#9121" data-type="Arg Name → Type → TC ⊤" class="Postulate">declareDef</a> <a id="4373" class="Symbol">(</a><a id="4374" href="1Lab.Reflection.html#1060" data-type="A → Arg A" class="Function">varg</a> <a id="4379" href="1Lab.Reflection.Record.html#4306" class="Bound">nm</a><a id="4381" class="Symbol">)</a> <a id="4383" href="1Lab.Reflection.Record.html#4183" class="Bound">ty</a>
    <a id="4390" href="Agda.Builtin.Bool.html#166" data-type="Bool" class="InductiveConstructor">false</a> <a id="4396" class="Symbol">→</a> <a id="4398" href="Agda.Builtin.Reflection.html#8313" data-type="A → TC A" class="Postulate">returnTC</a> <a id="4407" href="Agda.Builtin.Unit.html#186" data-type="⊤" class="InductiveConstructor">tt</a>

  <a id="4413" href="Agda.Builtin.Reflection.html#9209" data-type="Name → List Clause → TC ⊤" class="Postulate">defineFun</a> <a id="4423" href="1Lab.Reflection.Record.html#4306" class="Bound">nm</a>
    <a id="4430" class="Symbol">(</a> <a id="4432" href="1Lab.Reflection.Record.html#2212" data-type="Fields → List Clause" class="Function">redo-clauses</a> <a id="4445" href="1Lab.Reflection.Record.html#4099" class="Bound">fields</a> <a id="4452" href="Data.List.html#4279" data-type="List A → List A → List A" class="Function Operator">++</a>
      <a id="4461" href="1Lab.Reflection.Record.html#1816" data-type="Fields → List Clause" class="Function">undo-clauses</a> <a id="4474" href="1Lab.Reflection.Record.html#4099" class="Bound">fields</a> <a id="4481" href="Data.List.html#4279" data-type="List A → List A → List A" class="Function Operator">++</a>
      <a id="4490" href="1Lab.Reflection.Record.html#2950" data-type="Fields → List Clause" class="Function">redo-undo-clauses</a> <a id="4508" href="1Lab.Reflection.Record.html#4099" class="Bound">fields</a> <a id="4515" href="Data.List.html#4279" data-type="List A → List A → List A" class="Function Operator">++</a>
      <a id="4524" href="1Lab.Reflection.Record.html#2544" data-type="Fields → List Clause" class="Function">undo-redo-clauses</a> <a id="4542" href="1Lab.Reflection.Record.html#4099" class="Bound">fields</a><a id="4548" class="Symbol">)</a>
  <a id="4552" href="Agda.Builtin.Reflection.html#8313" data-type="A → TC A" class="Postulate">returnTC</a> <a id="4561" href="1Lab.Reflection.Record.html#4306" class="Bound">nm</a>

<a id="4565" class="Comment">{-
Usage: slap

  unquoteDecl eqv = declare-record-iso eqv (quote Your-record)

in a module! The macro *DOES NOT WORK* in where clauses (or in record
definitions!). It does work in arbitrarily nested modules, and in the
top-level module, as the example below demonstrates: we can declare the
isomorphism adjacent to the record, outside the module where the record
is defined, and in a different module altogether.

All features of non-recursive records are supported, including
no-eta-equality, implicit and instance fields, and fields with implicit
arguments as types.
-}</a>

<a id="declare-record-iso"></a><a id="5139" href="1Lab.Reflection.Record.html#5139" data-type="Name → Name → TC ⊤" class="Function">declare-record-iso</a> <a id="5158" class="Symbol">:</a> <a id="5160" href="Agda.Builtin.Reflection.html#462" data-type="Type" class="Postulate">Name</a> <a id="5165" class="Symbol">→</a> <a id="5167" href="Agda.Builtin.Reflection.html#462" data-type="Type" class="Postulate">Name</a> <a id="5172" class="Symbol">→</a> <a id="5174" href="Agda.Builtin.Reflection.html#8270" data-type="Type a → Type a" class="Postulate">TC</a> <a id="5177" href="Agda.Builtin.Unit.html#149" data-type="Type" class="Record">⊤</a>
<a id="5179" href="1Lab.Reflection.Record.html#5139" data-type="Name → Name → TC ⊤" class="Function">declare-record-iso</a> <a id="5198" href="1Lab.Reflection.Record.html#5198" class="Bound">nm</a> <a id="5201" href="1Lab.Reflection.Record.html#5201" class="Bound">rec</a> <a id="5205" class="Symbol">=</a> <a id="5207" class="Keyword">do</a>
  <a id="5212" href="1Lab.Reflection.Record.html#3867" data-type="Bool → TC Name → Name → TC Name" class="Function">make-record-iso-sigma</a> <a id="5234" href="Agda.Builtin.Bool.html#172" data-type="Bool" class="InductiveConstructor">true</a> <a id="5239" class="Symbol">(</a><a id="5240" href="Agda.Builtin.Reflection.html#8313" data-type="A → TC A" class="Postulate">returnTC</a> <a id="5249" href="1Lab.Reflection.Record.html#5198" class="Bound">nm</a><a id="5251" class="Symbol">)</a> <a id="5253" href="1Lab.Reflection.Record.html#5201" class="Bound">rec</a>
  <a id="5259" href="Agda.Builtin.Reflection.html#8313" data-type="A → TC A" class="Postulate">returnTC</a> <a id="5268" href="Agda.Builtin.Unit.html#186" data-type="⊤" class="InductiveConstructor">tt</a>

<a id="define-record-iso"></a><a id="5272" href="1Lab.Reflection.Record.html#5272" data-type="Name → Name → TC ⊤" class="Function">define-record-iso</a> <a id="5290" class="Symbol">:</a> <a id="5292" href="Agda.Builtin.Reflection.html#462" data-type="Type" class="Postulate">Name</a> <a id="5297" class="Symbol">→</a> <a id="5299" href="Agda.Builtin.Reflection.html#462" data-type="Type" class="Postulate">Name</a> <a id="5304" class="Symbol">→</a> <a id="5306" href="Agda.Builtin.Reflection.html#8270" data-type="Type a → Type a" class="Postulate">TC</a> <a id="5309" href="Agda.Builtin.Unit.html#149" data-type="Type" class="Record">⊤</a>
<a id="5311" href="1Lab.Reflection.Record.html#5272" data-type="Name → Name → TC ⊤" class="Function">define-record-iso</a> <a id="5329" href="1Lab.Reflection.Record.html#5329" class="Bound">nm</a> <a id="5332" href="1Lab.Reflection.Record.html#5332" class="Bound">rec</a> <a id="5336" class="Symbol">=</a> <a id="5338" class="Keyword">do</a>
  <a id="5343" href="1Lab.Reflection.Record.html#3867" data-type="Bool → TC Name → Name → TC Name" class="Function">make-record-iso-sigma</a> <a id="5365" href="Agda.Builtin.Bool.html#166" data-type="Bool" class="InductiveConstructor">false</a> <a id="5371" class="Symbol">(</a><a id="5372" href="Agda.Builtin.Reflection.html#8313" data-type="A → TC A" class="Postulate">returnTC</a> <a id="5381" href="1Lab.Reflection.Record.html#5329" class="Bound">nm</a><a id="5383" class="Symbol">)</a> <a id="5385" href="1Lab.Reflection.Record.html#5332" class="Bound">rec</a>
  <a id="5391" href="Agda.Builtin.Reflection.html#8313" data-type="A → TC A" class="Postulate">returnTC</a> <a id="5400" href="Agda.Builtin.Unit.html#186" data-type="⊤" class="InductiveConstructor">tt</a>

<a id="5404" class="Keyword">private</a>
  <a id="5414" class="Keyword">module</a> <a id="5421" href="1Lab.Reflection.Record.html#5421" class="Module">_</a> <a id="5423" class="Symbol">{</a><a id="5424" href="1Lab.Reflection.Record.html#5424" class="Bound">ℓ</a><a id="5425" class="Symbol">}</a> <a id="5427" class="Symbol">(</a><a id="5428" href="1Lab.Reflection.Record.html#5428" class="Bound">A</a> <a id="5430" class="Symbol">:</a> <a id="5432" href="1Lab.Type.html#391" class="Primitive">Type</a> <a id="5437" href="1Lab.Reflection.Record.html#5424" class="Bound">ℓ</a><a id="5438" class="Symbol">)</a> <a id="5440" class="Keyword">where</a>
    <a id="5450" class="Keyword">record</a> <a id="5457" href="1Lab.Reflection.Record.html#5457" class="Record">T</a> <a id="5459" class="Symbol">:</a> <a id="5461" href="1Lab.Type.html#391" class="Primitive">Type</a> <a id="5466" href="1Lab.Reflection.Record.html#5424" class="Bound">ℓ</a> <a id="5468" class="Keyword">where</a>
      <a id="5480" class="Keyword">no-eta-equality</a>
      <a id="5502" class="Keyword">field</a>
        <a id="5516" class="Symbol">⦃</a> <a id="5518" href="1Lab.Reflection.Record.html#5518" class="Field">fp</a> <a id="5521" class="Symbol">⦄</a> <a id="5523" class="Symbol">:</a> <a id="5525" href="1Lab.Reflection.Record.html#5428" class="Bound">A</a>
        <a id="5535" class="Symbol">{</a><a id="5536" href="1Lab.Reflection.Record.html#5536" class="Field">f</a><a id="5537" class="Symbol">}</a> <a id="5539" class="Symbol">:</a> <a id="5541" href="1Lab.Reflection.Record.html#5428" class="Bound">A</a> <a id="5543" class="Symbol">→</a> <a id="5545" href="1Lab.Reflection.Record.html#5428" class="Bound">A</a>
        <a id="5555" href="1Lab.Reflection.Record.html#5555" class="Field">fixed</a> <a id="5561" class="Symbol">:</a> <a id="5563" href="1Lab.Reflection.Record.html#5536" class="Field">f</a> <a id="5565" href="1Lab.Reflection.Record.html#5518" class="Field">fp</a> <a id="5568" href="Agda.Builtin.Cubical.Path.html#272" data-type="A → A → Type ℓ" class="Function Operator">≡</a> <a id="5570" href="1Lab.Reflection.Record.html#5518" class="Field">fp</a>

    <a id="5578" class="Keyword">unquoteDecl</a> <a id="5590" href="1Lab.Reflection.Record.html#5590" class="Function">eqv</a> <a id="5594" class="Symbol">=</a> <a id="5596" href="1Lab.Reflection.Record.html#5139" data-type="Name → Name → TC ⊤" class="Function">declare-record-iso</a> <a id="5615" href="1Lab.Reflection.Record.html#5590" class="Function">eqv</a> <a id="5619" class="Symbol">(</a><a id="5620" class="Keyword">quote</a> <a id="5626" href="1Lab.Reflection.Record.html#5457" class="Record">T</a><a id="5627" class="Symbol">)</a>

    <a id="5634" href="1Lab.Reflection.Record.html#5634" class="Function">_</a> <a id="5636" class="Symbol">:</a> <a id="5638" href="1Lab.Equiv.html#6298" data-type="Type ℓ₁ → Type ℓ₂ → Type (ℓ₁ ⊔ ℓ₂)" class="Function">Iso</a> <a id="5642" href="1Lab.Reflection.Record.html#5457" class="Record">T</a> <a id="5644" class="Symbol">(</a><a id="5645" href="Agda.Builtin.Sigma.html#139" data-type="(A : Type a) (B₁ : A → Type b) → Type (a ⊔ b)" class="Record">S.Σ</a> <a id="5649" href="1Lab.Reflection.Record.html#5428" class="Bound">A</a> <a id="5651" class="Symbol">(λ</a> <a id="5654" href="1Lab.Reflection.Record.html#5654" class="Bound">fp</a> <a id="5657" class="Symbol">→</a> <a id="5659" href="Agda.Builtin.Sigma.html#139" data-type="(A : Type a) (B₁ : A → Type b) → Type (a ⊔ b)" class="Record">S.Σ</a> <a id="5663" class="Symbol">(</a><a id="5664" href="1Lab.Reflection.Record.html#5428" class="Bound">A</a> <a id="5666" class="Symbol">→</a> <a id="5668" href="1Lab.Reflection.Record.html#5428" class="Bound">A</a><a id="5669" class="Symbol">)</a> <a id="5671" class="Symbol">(λ</a> <a id="5674" href="1Lab.Reflection.Record.html#5674" class="Bound">f</a> <a id="5676" class="Symbol">→</a> <a id="5678" href="1Lab.Reflection.Record.html#5674" class="Bound">f</a> <a id="5680" href="1Lab.Reflection.Record.html#5654" class="Bound">fp</a> <a id="5683" href="Agda.Builtin.Cubical.Path.html#272" data-type="A → A → Type ℓ" class="Function Operator">≡</a> <a id="5685" href="1Lab.Reflection.Record.html#5654" class="Bound">fp</a><a id="5687" class="Symbol">)))</a>
    <a id="5695" class="Symbol">_</a> <a id="5697" class="Symbol">=</a> <a id="5699" href="1Lab.Reflection.Record.html#5590" class="Function">eqv</a>

  <a id="5706" class="Keyword">unquoteDecl</a> <a id="eqv-outside"></a><a id="5718" href="1Lab.Reflection.Record.html#5718" class="Function">eqv-outside</a> <a id="5730" class="Symbol">=</a> <a id="5732" href="1Lab.Reflection.Record.html#5139" data-type="Name → Name → TC ⊤" class="Function">declare-record-iso</a> <a id="5751" href="1Lab.Reflection.Record.html#5718" class="Function">eqv-outside</a> <a id="5763" class="Symbol">(</a><a id="5764" class="Keyword">quote</a> <a id="5770" href="1Lab.Reflection.Record.html#5457" class="Record">T</a><a id="5771" class="Symbol">)</a>

  <a id="5776" href="1Lab.Reflection.Record.html#5776" class="Function">_</a> <a id="5778" class="Symbol">:</a> <a id="5780" class="Symbol">{</a><a id="5781" href="1Lab.Reflection.Record.html#5781" class="Bound">ℓ</a> <a id="5783" class="Symbol">:</a> <a id="5785" href="Agda.Primitive.html#582" data-type="Type" class="Postulate">Level</a><a id="5790" class="Symbol">}</a> <a id="5792" class="Symbol">{</a><a id="5793" href="1Lab.Reflection.Record.html#5793" class="Bound">A</a> <a id="5795" class="Symbol">:</a> <a id="5797" href="1Lab.Type.html#391" class="Primitive">Type</a> <a id="5802" href="1Lab.Reflection.Record.html#5781" class="Bound">ℓ</a><a id="5803" class="Symbol">}</a> <a id="5805" class="Symbol">→</a> <a id="5807" href="1Lab.Equiv.html#6298" data-type="Type ℓ₁ → Type ℓ₂ → Type (ℓ₁ ⊔ ℓ₂)" class="Function">Iso</a> <a id="5811" class="Symbol">(</a><a id="5812" href="1Lab.Reflection.Record.html#5457" class="Record">T</a> <a id="5814" href="1Lab.Reflection.Record.html#5793" class="Bound">A</a><a id="5815" class="Symbol">)</a> <a id="5817" class="Symbol">(</a><a id="5818" href="Agda.Builtin.Sigma.html#139" data-type="(A : Type a) (B₁ : A → Type b) → Type (a ⊔ b)" class="Record">S.Σ</a> <a id="5822" href="1Lab.Reflection.Record.html#5793" class="Bound">A</a> <a id="5824" class="Symbol">(λ</a> <a id="5827" href="1Lab.Reflection.Record.html#5827" class="Bound">fp</a> <a id="5830" class="Symbol">→</a> <a id="5832" href="Agda.Builtin.Sigma.html#139" data-type="(A : Type a) (B₁ : A → Type b) → Type (a ⊔ b)" class="Record">S.Σ</a> <a id="5836" class="Symbol">(</a><a id="5837" href="1Lab.Reflection.Record.html#5793" class="Bound">A</a> <a id="5839" class="Symbol">→</a> <a id="5841" href="1Lab.Reflection.Record.html#5793" class="Bound">A</a><a id="5842" class="Symbol">)</a> <a id="5844" class="Symbol">(λ</a> <a id="5847" href="1Lab.Reflection.Record.html#5847" class="Bound">f</a> <a id="5849" class="Symbol">→</a> <a id="5851" href="1Lab.Reflection.Record.html#5847" class="Bound">f</a> <a id="5853" href="1Lab.Reflection.Record.html#5827" class="Bound">fp</a> <a id="5856" href="Agda.Builtin.Cubical.Path.html#272" data-type="A → A → Type ℓ" class="Function Operator">≡</a> <a id="5858" href="1Lab.Reflection.Record.html#5827" class="Bound">fp</a><a id="5860" class="Symbol">)))</a>
  <a id="5866" class="Symbol">_</a> <a id="5868" class="Symbol">=</a> <a id="5870" href="1Lab.Reflection.Record.html#5718" class="Function">eqv-outside</a>

  <a id="5885" class="Keyword">module</a> <a id="5892" href="1Lab.Reflection.Record.html#5892" class="Module">_</a> <a id="5894" class="Symbol">(</a><a id="5895" href="1Lab.Reflection.Record.html#5895" class="Bound">x</a> <a id="5897" class="Symbol">:</a> <a id="5899" href="Agda.Builtin.Nat.html#177" data-type="Type" class="Datatype">Nat</a><a id="5902" class="Symbol">)</a> <a id="5904" class="Keyword">where</a>
    <a id="5914" class="Keyword">unquoteDecl</a> <a id="5926" href="1Lab.Reflection.Record.html#5926" class="Function">eqv-extra</a> <a id="5936" class="Symbol">=</a> <a id="5938" href="1Lab.Reflection.Record.html#5139" data-type="Name → Name → TC ⊤" class="Function">declare-record-iso</a> <a id="5957" href="1Lab.Reflection.Record.html#5926" class="Function">eqv-extra</a> <a id="5967" class="Symbol">(</a><a id="5968" class="Keyword">quote</a> <a id="5974" href="1Lab.Reflection.Record.html#5457" class="Record">T</a><a id="5975" class="Symbol">)</a>

  <a id="5980" href="1Lab.Reflection.Record.html#5980" class="Function">_</a> <a id="5982" class="Symbol">:</a> <a id="5984" href="Agda.Builtin.Nat.html#177" data-type="Type" class="Datatype">Nat</a> <a id="5988" class="Symbol">→</a> <a id="5990" class="Symbol">{</a><a id="5991" href="1Lab.Reflection.Record.html#5991" class="Bound">ℓ</a> <a id="5993" class="Symbol">:</a> <a id="5995" href="Agda.Primitive.html#582" data-type="Type" class="Postulate">Level</a><a id="6000" class="Symbol">}</a> <a id="6002" class="Symbol">{</a><a id="6003" href="1Lab.Reflection.Record.html#6003" class="Bound">A</a> <a id="6005" class="Symbol">:</a> <a id="6007" href="1Lab.Type.html#391" class="Primitive">Type</a> <a id="6012" href="1Lab.Reflection.Record.html#5991" class="Bound">ℓ</a><a id="6013" class="Symbol">}</a>
    <a id="6019" class="Symbol">→</a> <a id="6021" href="1Lab.Equiv.html#6298" data-type="Type ℓ₁ → Type ℓ₂ → Type (ℓ₁ ⊔ ℓ₂)" class="Function">Iso</a> <a id="6025" class="Symbol">(</a><a id="6026" href="1Lab.Reflection.Record.html#5457" class="Record">T</a> <a id="6028" href="1Lab.Reflection.Record.html#6003" class="Bound">A</a><a id="6029" class="Symbol">)</a> <a id="6031" class="Symbol">(</a><a id="6032" href="Agda.Builtin.Sigma.html#139" data-type="(A : Type a) (B₁ : A → Type b) → Type (a ⊔ b)" class="Record">S.Σ</a> <a id="6036" href="1Lab.Reflection.Record.html#6003" class="Bound">A</a> <a id="6038" class="Symbol">(λ</a> <a id="6041" href="1Lab.Reflection.Record.html#6041" class="Bound">fp</a> <a id="6044" class="Symbol">→</a> <a id="6046" href="Agda.Builtin.Sigma.html#139" data-type="(A : Type a) (B₁ : A → Type b) → Type (a ⊔ b)" class="Record">S.Σ</a> <a id="6050" class="Symbol">(</a><a id="6051" href="1Lab.Reflection.Record.html#6003" class="Bound">A</a> <a id="6053" class="Symbol">→</a> <a id="6055" href="1Lab.Reflection.Record.html#6003" class="Bound">A</a><a id="6056" class="Symbol">)</a> <a id="6058" class="Symbol">(λ</a> <a id="6061" href="1Lab.Reflection.Record.html#6061" class="Bound">f</a> <a id="6063" class="Symbol">→</a> <a id="6065" href="1Lab.Reflection.Record.html#6061" class="Bound">f</a> <a id="6067" href="1Lab.Reflection.Record.html#6041" class="Bound">fp</a> <a id="6070" href="Agda.Builtin.Cubical.Path.html#272" data-type="A → A → Type ℓ" class="Function Operator">≡</a> <a id="6072" href="1Lab.Reflection.Record.html#6041" class="Bound">fp</a><a id="6074" class="Symbol">)))</a>
  <a id="6080" class="Symbol">_</a> <a id="6082" class="Symbol">=</a> <a id="6084" href="1Lab.Reflection.Record.html#5926" class="Function">eqv-extra</a>

  <a id="6097" class="Keyword">record</a> <a id="T2"></a><a id="6104" href="1Lab.Reflection.Record.html#6104" class="Record">T2</a> <a id="6107" class="Symbol">:</a> <a id="6109" href="1Lab.Type.html#391" class="Primitive">Type</a> <a id="6114" class="Keyword">where</a>
    <a id="6124" class="Comment">-- works without eta equality too</a>
    <a id="6162" class="Keyword">field</a>
      <a id="T2.some-field"></a><a id="6174" href="1Lab.Reflection.Record.html#6174" class="Field">some-field</a> <a id="6185" class="Symbol">:</a> <a id="6187" href="Agda.Builtin.Nat.html#177" data-type="Type" class="Datatype">Nat</a>

  <a id="s-eqv"></a><a id="6194" href="1Lab.Reflection.Record.html#6194" class="Function">s-eqv</a> <a id="6200" class="Symbol">:</a> <a id="6202" href="1Lab.Equiv.html#6298" data-type="Type ℓ₁ → Type ℓ₂ → Type (ℓ₁ ⊔ ℓ₂)" class="Function">Iso</a> <a id="6206" href="1Lab.Reflection.Record.html#6104" class="Record">T2</a> <a id="6209" href="Agda.Builtin.Nat.html#177" data-type="Type" class="Datatype">Nat</a>
  <a id="6215" class="Keyword">unquoteDef</a> <a id="6226" href="1Lab.Reflection.Record.html#6194" class="Function">s-eqv</a> <a id="6232" class="Symbol">=</a> <a id="6234" href="1Lab.Reflection.Record.html#5272" data-type="Name → Name → TC ⊤" class="Function">define-record-iso</a> <a id="6252" href="1Lab.Reflection.Record.html#6194" class="Function">s-eqv</a> <a id="6258" class="Symbol">(</a><a id="6259" class="Keyword">quote</a> <a id="6265" href="1Lab.Reflection.Record.html#6104" class="Record">T2</a><a id="6267" class="Symbol">)</a>
</pre></body></html>