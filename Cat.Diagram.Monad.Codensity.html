<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="keywords" content="Agda,categories,topos" />

  <title>….Diagram.Monad.Codensity - 1Lab</title>

  <link rel="stylesheet" href="/css/default.css" />
  <link rel="stylesheet" href="/css/katex.min.css" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="….Diagram.Monad.Codensity - 1Lab" />
  <meta name="twitter:image" content="https://1lab.dev/static/cube-128x.png" />

  <meta name="og:title" content="….Diagram.Monad.Codensity - 1Lab" />
  <meta name="og:image" content="https://1lab.dev/static/cube-128x.png" />
  <meta name="og:site-name" content="1Lab" />
  <meta name="og:type" content="website" />

    <meta name="og:description" content="A formalised, explorable online resource for Homotopy Type Theory." />
  <meta name="twitter:description" content="A formalised, explorable online resource for Homotopy Type Theory." />
  <meta name="description" content="A formalised, explorable online resource for Homotopy Type Theory." />
  
  <script defer src="/main.js"></script>

  <noscript>
    <style>
      body span.reasoning-step .as-written {
        display: inline;
      }

      body span.reasoning-step .alternate {
        display: none;
      }
    </style>
  </noscript>

  <!-- Google font embeds -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,500;0,600;0,700;0,800;1,400;1,500;1,600;1,700;1,800&amp;family=Inria+Sans:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&amp;display=swap" rel="stylesheet">
</head>

<body class="text-page">
<main>
<div id="post-toc-container" style="padding-left: 1em; padding-right: 1em;">

  <!-- Table of contents (only if the page has a table of contents) -->
    <aside id="toc">
    <div id="toc-container" style="min-width: 10em; font-size: 15pt;">
      <!-- Title for the page -->
      <h3 class="Agda" style="margin-top: 0; margin-bottom: 0; white-space: pre;">
                <a class="Module">….Diagram.Monad.Codensity</a>
              </h3>

      <!-- Cube logo -->
      <a id="logo" href="/">
        <img alt="1Lab" src="/static/cube-72x.png" style="display: block; margin-bottom: 1em; margin: auto;" width="32px" height="32px" />
      </a>

      <!-- Actual table of contents (separated from the rest by
      horizontal rules) -->
      <hr />
      <ul>
      <li><a href="#codensity-monads"><a href="#codensity-monads" class="header-link">Codensity
      monads<span class="header-link-emoji">🔗</span></a></a></li>
      </ul>
      <hr />

      <!-- Sidebar controls -->
      <div style="display: flex; gap: 0.25em; flex-flow: row wrap;">
        <!-- Sidebar equations control -->
        <span class="equations" style="display: flex; align-items: center; gap: 0.25em; flex-wrap: nowrap;">
          <input name="sidebar-eqns" type="checkbox" class="equations" id="sidebar-eqns">
          <label for="sidebar-eqns">Equations</label>
        </span>

        <!-- Sidebar fonts control -->
        <span style="display: flex; align-items: center; gap: 0.25em; flex-wrap: nowrap;">
          <input name="sidebar-font" type="checkbox" id="toggle-fonts">
          <label for="toggle-fonts">Serif Font</label>
        </span>

        <!-- Sidebar footnotes control -->
        <span class="inline-footnotes" style="display: none; align-items: center; gap: 0.25em; flex-wrap: nowrap;">
          <input name="sidebar-fns" type="checkbox" class="inline-footnotes" id="sidebar-fns">
          <label for="sidebar-fns">Inline Footnotes</label>
        </span>
      </div>

      <hr />

      <!-- Navbar navigation (lol) -->
      <div id="return" style="white-space: nowrap;">
        <div class="search-form search-form-proxy" role="form">
          <input id="search-box-proxy" type_="text" placeholder="Search..." autocomplete="off" tabindex="0"></input>
        </div>

              <a href="/">back to index</a> <br />
              <a href="all-pages.html">view all pages</a> <br />
        <a href="https://github.com/plt-amy/cubical-1lab/blob/23264e867e2d4e95627337c6834ebe53cc292ed7/src/Cat/Diagram/Monad/Codensity.lagda.md">link to source</a> <br />
                <hr /> <div class="author-list">Written by Amélia Liao</div> <br />
              </div>
    </div>
  </aside>
  
  <article>
    <!-- Article navigation (narrow screens only) -->
    <div class="narrow-only" id="article-nav">
      <!-- Index return anchor (only if the page is not the index) -->
            <div id="return">
        <a href="/">back to index</a>
      </div>
      
      <!-- Navbar equations control -->
      <span class="equations" style="display: flex; gap: 0.25em; flex-wrap: nowrap;">
        <input name="navbar-eqns" type="checkbox" class="equations" id="navbar-eqns">
        <label for="navbar-eqns">Equations</label>
      </span>

      <!-- Navbar footnotes control -->
      <span class="inline-footnotes" style="display: none; gap: 0.25em; flex-wrap: nowrap;">
        <input name="navbar-fns" type="checkbox" class="inline-footnotes" id="navbar-fns">
        <label for="navbar-fns">Inline Footnotes</label>
      </span>
    </div>

<pre class="Agda"><a id="9" class="Keyword">open</a> <a id="14" class="Keyword">import</a> <a id="21" href="Cat.Functor.Kan.Right.html" class="Module">Cat.Functor.Kan.Right</a>
<a id="43" class="Keyword">open</a> <a id="48" class="Keyword">import</a> <a id="55" href="Cat.Instances.Functor.html" class="Module">Cat.Instances.Functor</a>
<a id="77" class="Keyword">open</a> <a id="82" class="Keyword">import</a> <a id="89" href="Cat.Diagram.Monad.html" class="Module">Cat.Diagram.Monad</a>
<a id="107" class="Keyword">open</a> <a id="112" class="Keyword">import</a> <a id="119" href="Cat.Functor.Base.html" class="Module">Cat.Functor.Base</a>
<a id="136" class="Keyword">open</a> <a id="141" class="Keyword">import</a> <a id="148" href="Cat.Prelude.html" class="Module">Cat.Prelude</a>

<a id="161" class="Keyword">import</a> <a id="168" href="Cat.Functor.Reasoning.html" class="Module">Cat.Functor.Reasoning</a> <a id="190" class="Symbol">as</a> <a id="193" class="Module">Func</a>
<a id="198" class="Keyword">import</a> <a id="205" href="Cat.Reasoning.html" class="Module">Cat.Reasoning</a> <a id="219" class="Symbol">as</a> <a id="222" class="Module">Cat</a>

<a id="227" class="Keyword">module</a> <a id="234" href="Cat.Diagram.Monad.Codensity.html" class="Module">Cat.Diagram.Monad.Codensity</a> <a id="262" class="Keyword">where</a>
</pre>
<!--
<pre class="Agda"><a id="286" class="Keyword">private</a> <a id="294" class="Keyword">variable</a>
  <a id="305" href="Cat.Diagram.Monad.Codensity.html#305" class="Generalizable">o</a> <a id="307" href="Cat.Diagram.Monad.Codensity.html#307" class="Generalizable">ℓ</a> <a id="309" class="Symbol">:</a> <a id="311" href="Agda.Primitive.html#597" data-type="Type" class="Postulate">Level</a>
  <a id="319" href="Cat.Diagram.Monad.Codensity.html#319" class="Generalizable">A</a> <a id="321" href="Cat.Diagram.Monad.Codensity.html#321" class="Generalizable">B</a> <a id="323" class="Symbol">:</a> <a id="325" href="Cat.Base.html#704" data-type="(o h : Level) → Type (lsuc o ⊔ lsuc h)" class="Record">Precategory</a> <a id="337" href="Cat.Diagram.Monad.Codensity.html#305" class="Generalizable">o</a> <a id="339" href="Cat.Diagram.Monad.Codensity.html#307" class="Generalizable">ℓ</a>
<a id="341" class="Keyword">open</a> <a id="346" href="Cat.Diagram.Monad.html#712" data-type="(C : Precategory o h) → Type (o ⊔ h)" class="Module">Monad</a>
<a id="352" class="Keyword">open</a> <a id="357" href="Cat.Base.html#12241" data-type="(F G : Functor C D) → Type (o₁ ⊔ h₁ ⊔ h₂)" class="Module Operator">_=&gt;_</a>
</pre>-->
<h1 id="codensity-monads"><a href="#codensity-monads" class="header-link">Codensity
monads<span class="header-link-emoji">🔗</span></a></h1>
<p>Let
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mo>:</mo><mi mathvariant="script">A</mi><mo>→</mo><mi mathvariant="script">B</mi></mrow><annotation encoding="application/x-tex">F : \ca{A} \to \ca{B}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathcal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathcal" style="margin-right:0.03041em;">B</span></span></span></span>
be a functor with a <a href="Cat.Functor.Adjoint.html">left adjoint</a>
<span style="white-space: nowrap;"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mo>:</mo><mi mathvariant="script">B</mi><mo>→</mo><mi mathvariant="script">A</mi></mrow><annotation encoding="application/x-tex">G : \ca{B} \to \ca{A}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">G</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathcal" style="margin-right:0.03041em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathcal">A</span></span></span></span>.</span>
Some pretty <a href="Cat.Functor.Adjoint.Monad.html">standard abstract
nonsense</a> tells us that the composite
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mi>F</mi></mrow><annotation encoding="application/x-tex">GF</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">GF</span></span></span></span>
is a <a href="Cat.Diagram.Monad.html">monad</a> in
<span style="white-space: nowrap;"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">B</mi></mrow><annotation encoding="application/x-tex">\ca{B}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathcal" style="margin-right:0.03041em;">B</span></span></span></span>,</span>
with the unit and multiplication inherited from the adjunction
<span style="white-space: nowrap;"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mo>⊣</mo><mi>F</mi></mrow><annotation encoding="application/x-tex">G \dashv F</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">G</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊣</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span></span>.</span>
The easiest cases to picture are when
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">B</mi></mrow><annotation encoding="application/x-tex">\ca{B}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathcal" style="margin-right:0.03041em;">B</span></span></span></span>
is
<span style="white-space: nowrap;"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow><mi mathvariant="bold">S</mi><mi mathvariant="bold">e</mi><mi mathvariant="bold">t</mi><mi mathvariant="bold">s</mi></mrow><mi>κ</mi></msub></mrow><annotation encoding="application/x-tex">\sets_\kappa</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8361em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">Sets</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">κ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>,</span>
and
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi></mrow><annotation encoding="application/x-tex">F</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span></span>
is the “underlying set” functor from an algebraic category (like <a href="Algebra.Monoid.Category.html#free-objects">monoids</a> or <a href="Algebra.Group.Free.html#universal-property">groups</a>). What’s
slightly more interesting is that functors <em>without</em> left
adjoints may also induce monads!</p>
<p>This is called the <strong>codensity monad</strong> of the functor
<span style="white-space: nowrap;"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi></mrow><annotation encoding="application/x-tex">F</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span></span>,</span>
and it exists whenever
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">B</mi></mrow><annotation encoding="application/x-tex">\ca{B}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathcal" style="margin-right:0.03041em;">B</span></span></span></span>
admits <a href="Cat.Diagram.Limit.Base.html">limits</a> indexed by
categories the <a href="1Lab.intro.html#universes-and-size-issues">size</a> of
<span style="white-space: nowrap;"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">A</mi></mrow><annotation encoding="application/x-tex">\ca{A}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathcal">A</span></span></span></span>.</span>
When
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi></mrow><annotation encoding="application/x-tex">F</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span></span>
does have a left adjoint, its codensity monad coincides with the
ordinary monad-from-an-adjunction construction. Rather than unfolding
the necessary limits here, though, we defer to general categorical
machinery: <a href="Cat.Functor.Kan.Right.html">right Kan
extensions</a>.</p>
<p>The really, really short of it is that the codensity monad of
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi></mrow><annotation encoding="application/x-tex">F</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span></span>
is the right Kan extension of
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi></mrow><annotation encoding="application/x-tex">F</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span></span>
along itself,
<span style="white-space: nowrap;"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow><mi mathvariant="normal">R</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">n</mi></mrow><mi>F</mi></msub><mi>F</mi></mrow><annotation encoding="application/x-tex">\Ran_F F</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">Ran</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span></span>.</span></p>
<!--
<pre class="Agda"><a id="1823" class="Keyword">module</a> <a id="1830" href="Cat.Diagram.Monad.Codensity.html#1830" class="Module">_</a> <a id="1832" class="Symbol">(</a><a id="1833" href="Cat.Diagram.Monad.Codensity.html#1833" class="Bound">F</a> <a id="1835" class="Symbol">:</a> <a id="1837" href="Cat.Base.html#7206" data-type="(C : Precategory o₁ h₁) (D : Precategory o₂ h₂) →
Type (o₁ ⊔ h₁ ⊔ o₂ ⊔ h₂)" class="Record">Functor</a> <a id="1845" href="Cat.Diagram.Monad.Codensity.html#319" class="Generalizable">A</a> <a id="1847" href="Cat.Diagram.Monad.Codensity.html#321" class="Generalizable">B</a><a id="1848" class="Symbol">)</a> <a id="1850" class="Symbol">(</a><a id="1851" href="Cat.Diagram.Monad.Codensity.html#1851" class="Bound">R</a> <a id="1853" class="Symbol">:</a> <a id="1855" href="Cat.Functor.Kan.Right.html#1621" data-type="(p : Functor C C′) (F : Functor C D) →
Type (C.o ⊔ C.ℓ ⊔ C′.o ⊔ C′.ℓ ⊔ D.o ⊔ D.ℓ)" class="Record">Ran</a> <a id="1859" href="Cat.Diagram.Monad.Codensity.html#1833" class="Bound">F</a> <a id="1861" href="Cat.Diagram.Monad.Codensity.html#1833" class="Bound">F</a><a id="1862" class="Symbol">)</a> <a id="1864" class="Keyword">where</a>
  <a id="1872" class="Keyword">open</a> <a id="1877" href="Cat.Functor.Kan.Right.html#1621" data-type="(p : Functor C C′) (F : Functor C D) →
Type (C.o ⊔ C.ℓ ⊔ C′.o ⊔ C′.ℓ ⊔ D.o ⊔ D.ℓ)" class="Module">Ran</a> <a id="1881" href="Cat.Diagram.Monad.Codensity.html#1851" class="Bound">R</a>
  <a id="1885" class="Keyword">private</a>
    <a id="1897" class="Keyword">module</a> <a id="1904" href="Cat.Diagram.Monad.Codensity.html#1904" class="Module">A</a> <a id="1906" class="Symbol">=</a> <a id="1908" href="Cat.Reasoning.html" class="Module">Cat</a> <a id="1912" href="Cat.Diagram.Monad.Codensity.html#1845" class="Bound">A</a>
    <a id="1918" class="Keyword">module</a> <a id="1925" href="Cat.Diagram.Monad.Codensity.html#1925" class="Module">B</a> <a id="1927" class="Symbol">=</a> <a id="1929" href="Cat.Reasoning.html" class="Module">Cat</a> <a id="1933" href="Cat.Diagram.Monad.Codensity.html#1847" class="Bound">B</a>
    <a id="1939" class="Keyword">module</a> <a id="1946" href="Cat.Diagram.Monad.Codensity.html#1946" class="Module">Ext</a> <a id="1950" class="Symbol">=</a> <a id="1952" href="Cat.Functor.Reasoning.html" class="Module">Func</a> <a id="1957" href="Cat.Functor.Kan.Right.html#1701" data-type="Ran p F → Functor C′ D" class="Field">Ext</a>
    <a id="1965" class="Keyword">module</a> <a id="1972" href="Cat.Diagram.Monad.Codensity.html#1972" class="Module">F</a> <a id="1974" class="Symbol">=</a> <a id="1976" href="Cat.Functor.Reasoning.html" class="Module">Func</a> <a id="1981" href="Cat.Diagram.Monad.Codensity.html#1833" class="Bound">F</a>
</pre>-->
<p>Constructing the monad structure on the
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow><mi mathvariant="normal">R</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">n</mi></mrow><mi>F</mi></msub><mi>F</mi></mrow><annotation encoding="application/x-tex">\Ran_F F</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">Ran</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span></span>
functor is a bit involved, but it does serve as a very illustrative
application of the universal property of Kan extensions. Recall that, by
definition, if we have a natural transformation
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mi>F</mi><mo>⇒</mo><mi>F</mi></mrow><annotation encoding="application/x-tex">GF \To F</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">GF</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⇒</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span></span>
(for our choice of functor
<span style="white-space: nowrap;"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">G</span></span></span></span>),</span>
then this extends to a (unique) natural transformation
<span style="white-space: nowrap;"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mo>⇒</mo><msub><mrow><mi mathvariant="normal">R</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">n</mi></mrow><mi>F</mi></msub><mi>F</mi></mrow><annotation encoding="application/x-tex">G \To \Ran_F F</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">G</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⇒</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">Ran</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span></span>.</span></p>
<p>For example, the unit map
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>η</mi></mrow><annotation encoding="application/x-tex">\eta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">η</span></span></span></span>
is obtained by extending the identity natural transformation
<span style="white-space: nowrap;"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi mathvariant="normal">i</mi><mi mathvariant="normal">d</mi></mrow><mo>:</mo><mrow><mi mathvariant="normal">I</mi><mi mathvariant="normal">d</mi></mrow><mi>F</mi><mo>⇒</mo><mi>F</mi></mrow><annotation encoding="application/x-tex">\id{id} : \id{Id}F \To F</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord mathrm">id</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord mathrm">Id</span></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⇒</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span></span>,</span>
which is implicit witnessing commutativity of the
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi></mrow><annotation encoding="application/x-tex">F</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span></span>
–
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">I</mi><mi mathvariant="normal">d</mi></mrow><annotation encoding="application/x-tex">\id{Id}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord mathrm">Id</span></span></span></span></span>
–
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi></mrow><annotation encoding="application/x-tex">F</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span></span>
triangle below.</p>
<div class="diagram-container">
<img src="light-fbd1399d7b9a73e771a29604615211dcc67781a5.svg" title="commutative diagram" class="diagram diagram-light quiver" />
<img src="dark-fbd1399d7b9a73e771a29604615211dcc67781a5.svg" title="commutative diagram" class="diagram diagram-dark quiver" />
</div>
<pre class="Agda">    <a id="3065" href="Cat.Diagram.Monad.Codensity.html#3065" data-type="(F : Functor A B₁) (R₁ : Ran F F) → Id F∘ F =&gt; F" class="Function">unit-nt</a> <a id="3073" class="Symbol">:</a> <a id="3075" href="Cat.Base.html#11722" data-type="Functor C C" class="Function">Id</a> <a id="3078" href="Cat.Base.html#9697" data-type="Functor D E → Functor C D → Functor C E" class="Function Operator">F∘</a> <a id="3081" href="Cat.Diagram.Monad.Codensity.html#1833" class="Bound">F</a> <a id="3083" href="Cat.Base.html#12241" data-type="(F G : Functor C D) → Type (o₁ ⊔ h₁ ⊔ h₂)" class="Record Operator">=&gt;</a> <a id="3086" href="Cat.Diagram.Monad.Codensity.html#1833" class="Bound">F</a>
    <a id="3092" href="Cat.Diagram.Monad.Codensity.html#3065" data-type="(F : Functor A B₁) (R₁ : Ran F F) → Id F∘ F =&gt; F" class="Function">unit-nt</a> <a id="3100" class="Symbol">.</a><a id="3101" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="3103" href="Cat.Diagram.Monad.Codensity.html#3103" class="Bound">x</a> <a id="3105" class="Symbol">=</a> <a id="3107" href="Cat.Base.html#2976" data-type="(r : Precategory o h) → r .Hom x x" class="Function">B.id</a>
    <a id="3116" href="Cat.Diagram.Monad.Codensity.html#3065" data-type="(F : Functor A B₁) (R₁ : Ran F F) → Id F∘ F =&gt; F" class="Function">unit-nt</a> <a id="3124" class="Symbol">.</a><a id="3125" href="Cat.Base.html#13369" data-type="(r : F =&gt; G) (x y : C .Ob) (f : C .Hom x y) →
D ._∘_ (r .η y) (₁ F f) ≡ D ._∘_ (₁ G f) (r .η x)" class="Field">is-natural</a> <a id="3136" href="Cat.Diagram.Monad.Codensity.html#3136" class="Bound">x</a> <a id="3138" href="Cat.Diagram.Monad.Codensity.html#3138" class="Bound">y</a> <a id="3140" href="Cat.Diagram.Monad.Codensity.html#3140" class="Bound">f</a> <a id="3142" class="Symbol">=</a> <a id="3144" href="Cat.Reasoning.html#878" data-type="(C : Precategory o ℓ) → (C ∘ id C) f ≡ (C ∘ f) (id C)" class="Function">B.id-comm-sym</a>
</pre>
<p>For the multiplication map, observe that we can piece together a
natural transformation</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo stretchy="false">(</mo><msub><mrow><mi mathvariant="normal">L</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">n</mi></mrow><mi>F</mi></msub><mo stretchy="false">(</mo><mi>F</mi><mo stretchy="false">)</mo><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mi>F</mi><mi>x</mi><mo>→</mo><msub><mrow><mi mathvariant="normal">L</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">n</mi></mrow><mi>F</mi></msub><mo stretchy="false">(</mo><mi>F</mi><mo stretchy="false">)</mo><mi>F</mi><mi>x</mi><mo>→</mo><mi>F</mi><mi>x</mi><mtext>,</mtext></mrow><annotation encoding="application/x-tex">
(\Lan_F(F))^2Fx \to \Lan_F(F)Fx \to Fx\text{,}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathrm">Lan</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mclose">)</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">Lan</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mord mathnormal">x</span><span class="mord text"><span class="mord">,</span></span></span></span></span></span></p>
<p>using the canonical natural transformation
<span style="white-space: nowrap;"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ε</mi><mo>:</mo><msub><mrow><mi mathvariant="normal">L</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">n</mi></mrow><mi>F</mi></msub><mo stretchy="false">(</mo><mi>F</mi><mo stretchy="false">)</mo><mi>F</mi><mo>⇒</mo><mi>F</mi></mrow><annotation encoding="application/x-tex">\eps : \Lan_F(F)F \To F</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">ε</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">Lan</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⇒</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span></span>.</span>
Extending <em>this</em> map, then, gives us a natural transformation
<span style="white-space: nowrap;"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mrow><mi mathvariant="normal">L</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">n</mi></mrow><mi>F</mi></msub><mo stretchy="false">(</mo><mi>F</mi><mo stretchy="false">)</mo><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>⇒</mo><msub><mrow><mi mathvariant="normal">L</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">n</mi></mrow><mi>F</mi></msub><mo stretchy="false">(</mo><mi>F</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\Lan_F(F))^2 \To \Lan_F(F)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathrm">Lan</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mclose">)</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⇒</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">Lan</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mclose">)</span></span></span></span>.</span></p>
<pre class="Agda">    <a id="3482" href="Cat.Diagram.Monad.Codensity.html#3482" data-type="(F : Functor A B₁) (R₁ : Ran F F) → (Ext R₁ F∘ Ext R₁) F∘ F =&gt; F" class="Function">mult-nt</a> <a id="3490" class="Symbol">:</a> <a id="3492" class="Symbol">(</a><a id="3493" href="Cat.Functor.Kan.Right.html#1701" data-type="Ran p F → Functor C′ D" class="Field">Ext</a> <a id="3497" href="Cat.Base.html#9697" data-type="Functor D E → Functor C D → Functor C E" class="Function Operator">F∘</a> <a id="3500" href="Cat.Functor.Kan.Right.html#1701" data-type="Ran p F → Functor C′ D" class="Field">Ext</a><a id="3503" class="Symbol">)</a> <a id="3505" href="Cat.Base.html#9697" data-type="Functor D E → Functor C D → Functor C E" class="Function Operator">F∘</a> <a id="3508" href="Cat.Diagram.Monad.Codensity.html#1833" class="Bound">F</a> <a id="3510" href="Cat.Base.html#12241" data-type="(F G : Functor C D) → Type (o₁ ⊔ h₁ ⊔ h₂)" class="Record Operator">=&gt;</a> <a id="3513" href="Cat.Diagram.Monad.Codensity.html#1833" class="Bound">F</a>
    <a id="3519" href="Cat.Diagram.Monad.Codensity.html#3482" data-type="(F : Functor A B₁) (R₁ : Ran F F) → (Ext R₁ F∘ Ext R₁) F∘ F =&gt; F" class="Function">mult-nt</a> <a id="3527" class="Symbol">.</a><a id="3528" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="3530" href="Cat.Diagram.Monad.Codensity.html#3530" class="Bound">x</a> <a id="3532" class="Symbol">=</a> <a id="3534" href="Cat.Functor.Kan.Right.html#1724" data-type="(r : Ran p F) → r .Ext F∘ p =&gt; F" class="Field">eps</a> <a id="3538" class="Symbol">.</a><a id="3539" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="3541" href="Cat.Diagram.Monad.Codensity.html#3530" class="Bound">x</a> <a id="3543" href="Cat.Base.html#3006" data-type="(r : Precategory o h) → r .Hom y z → r .Hom x y → r .Hom x z" class="Function Operator">B.∘</a> <a id="3547" href="Cat.Base.html#8808" data-type="(r : Functor C D) → C .Hom x y → D .Hom (F₀ r x) (F₀ r y)" class="Function">Ext.₁</a> <a id="3553" class="Symbol">(</a><a id="3554" href="Cat.Functor.Kan.Right.html#1724" data-type="(r : Ran p F) → r .Ext F∘ p =&gt; F" class="Field">eps</a> <a id="3558" class="Symbol">.</a><a id="3559" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="3561" href="Cat.Diagram.Monad.Codensity.html#3530" class="Bound">x</a><a id="3562" class="Symbol">)</a>
    <a id="3568" href="Cat.Diagram.Monad.Codensity.html#3482" data-type="(F : Functor A B₁) (R₁ : Ran F F) → (Ext R₁ F∘ Ext R₁) F∘ F =&gt; F" class="Function">mult-nt</a> <a id="3576" class="Symbol">.</a><a id="3577" href="Cat.Base.html#13369" data-type="(r : F =&gt; G) (x y : C .Ob) (f : C .Hom x y) →
D ._∘_ (r .η y) (₁ F f) ≡ D ._∘_ (₁ G f) (r .η x)" class="Field">is-natural</a> <a id="3588" href="Cat.Diagram.Monad.Codensity.html#3588" class="Bound">x</a> <a id="3590" href="Cat.Diagram.Monad.Codensity.html#3590" class="Bound">y</a> <a id="3592" href="Cat.Diagram.Monad.Codensity.html#3592" class="Bound">f</a> <a id="3594" class="Symbol">=</a>
      <a id="3602" class="Symbol">(</a><a id="3603" href="Cat.Functor.Kan.Right.html#1724" data-type="(r : Ran p F) → r .Ext F∘ p =&gt; F" class="Field">eps</a> <a id="3607" class="Symbol">.</a><a id="3608" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="3610" href="Cat.Diagram.Monad.Codensity.html#3590" class="Bound">y</a> <a id="3612" href="Cat.Base.html#3006" data-type="(r : Precategory o h) → r .Hom y z → r .Hom x y → r .Hom x z" class="Function Operator">B.∘</a> <a id="3616" href="Cat.Base.html#8808" data-type="(r : Functor C D) → C .Hom x y → D .Hom (F₀ r x) (F₀ r y)" class="Function">Ext.₁</a> <a id="3622" class="Symbol">(</a><a id="3623" href="Cat.Functor.Kan.Right.html#1724" data-type="(r : Ran p F) → r .Ext F∘ p =&gt; F" class="Field">eps</a> <a id="3627" class="Symbol">.</a><a id="3628" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="3630" href="Cat.Diagram.Monad.Codensity.html#3590" class="Bound">y</a><a id="3631" class="Symbol">))</a> <a id="3634" href="Cat.Base.html#3006" data-type="(r : Precategory o h) → r .Hom y z → r .Hom x y → r .Hom x z" class="Function Operator">B.∘</a> <a id="3638" href="Cat.Base.html#8808" data-type="(r : Functor C D) → C .Hom x y → D .Hom (F₀ r x) (F₀ r y)" class="Function">Ext.₁</a> <a id="3644" class="Symbol">(</a><a id="3645" href="Cat.Base.html#8808" data-type="(r : Functor C D) → C .Hom x y → D .Hom (F₀ r x) (F₀ r y)" class="Function">Ext.₁</a> <a id="3651" class="Symbol">(</a><a id="3652" href="Cat.Base.html#8808" data-type="(r : Functor C D) → C .Hom x y → D .Hom (F₀ r x) (F₀ r y)" class="Function">F.₁</a> <a id="3656" href="Cat.Diagram.Monad.Codensity.html#3592" class="Bound">f</a><a id="3657" class="Symbol">))</a> <span class="reasoning-step"><span class="as-written Function"><a id="3660" href="1Lab.Path.html#46629" data-type="(x : A) → y ≡ z → x ≡ y → x ≡ z" class="Function">≡⟨</a> <a id="3663" href="Cat.Functor.Reasoning.html#1886" data-type="(F : Functor 𝒞 𝒟) (p : (F ∘ a) c ≡ (F ∘ b) d) →
(F ∘ (F ∘ f) (F₁ F a)) (F₁ F c) ≡ (F ∘ (F ∘ f) (F₁ F b)) (F₁ F d)" class="Function">Ext.extendr</a> <a id="3675" class="Symbol">(</a><a id="3676" href="Cat.Functor.Kan.Right.html#1724" data-type="(r : Ran p F) → r .Ext F∘ p =&gt; F" class="Field">eps</a> <a id="3680" class="Symbol">.</a><a id="3681" href="Cat.Base.html#13369" data-type="(r : F =&gt; G) (x y : C .Ob) (f : C .Hom x y) →
D ._∘_ (r .η y) (₁ F f) ≡ D ._∘_ (₁ G f) (r .η x)" class="Field">is-natural</a> <a id="3692" class="Symbol">_</a> <a id="3694" class="Symbol">_</a> <a id="3696" class="Symbol">_)</a> <a id="3699" href="1Lab.Path.html#46629" data-type="(x : A) → y ≡ z → x ≡ y → x ≡ z" class="Function">⟩</a></span><span class="alternate Function">≡</span></span>
      <a id="3707" class="Symbol">(</a><a id="3708" href="Cat.Functor.Kan.Right.html#1724" data-type="(r : Ran p F) → r .Ext F∘ p =&gt; F" class="Field">eps</a> <a id="3712" class="Symbol">.</a><a id="3713" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="3715" href="Cat.Diagram.Monad.Codensity.html#3590" class="Bound">y</a> <a id="3717" href="Cat.Base.html#3006" data-type="(r : Precategory o h) → r .Hom y z → r .Hom x y → r .Hom x z" class="Function Operator">B.∘</a> <a id="3721" href="Cat.Base.html#8017" data-type="(r : Functor C D) → C .Hom x y → Hom D (r .F₀ x) (r .F₀ y)" class="Function">Ext.F₁</a> <a id="3728" class="Symbol">(</a><a id="3729" href="Cat.Base.html#8808" data-type="(r : Functor C D) → C .Hom x y → D .Hom (F₀ r x) (F₀ r y)" class="Function">F.₁</a> <a id="3733" href="Cat.Diagram.Monad.Codensity.html#3592" class="Bound">f</a><a id="3734" class="Symbol">))</a> <a id="3737" href="Cat.Base.html#3006" data-type="(r : Precategory o h) → r .Hom y z → r .Hom x y → r .Hom x z" class="Function Operator">B.∘</a> <a id="3741" href="Cat.Base.html#8808" data-type="(r : Functor C D) → C .Hom x y → D .Hom (F₀ r x) (F₀ r y)" class="Function">Ext.₁</a> <a id="3747" class="Symbol">(</a><a id="3748" href="Cat.Functor.Kan.Right.html#1724" data-type="(r : Ran p F) → r .Ext F∘ p =&gt; F" class="Field">eps</a> <a id="3752" class="Symbol">.</a><a id="3753" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="3755" href="Cat.Diagram.Monad.Codensity.html#3588" class="Bound">x</a><a id="3756" class="Symbol">)</a>        <span class="reasoning-step"><span class="as-written Function"><a id="3765" href="1Lab.Path.html#46629" data-type="(x : A) → y ≡ z → x ≡ y → x ≡ z" class="Function">≡⟨</a> <a id="3768" href="Cat.Reasoning.html#1844" data-type="(C : Precategory o ℓ) (c≡ab : c ≡ (C ∘ a) b) →
(C ∘ c) f ≡ (C ∘ a) ((C ∘ b) f)" class="Function">B.pushl</a> <a id="3776" class="Symbol">(</a><a id="3777" href="Cat.Functor.Kan.Right.html#1724" data-type="(r : Ran p F) → r .Ext F∘ p =&gt; F" class="Field">eps</a> <a id="3781" class="Symbol">.</a><a id="3782" href="Cat.Base.html#13369" data-type="(r : F =&gt; G) (x y : C .Ob) (f : C .Hom x y) →
D ._∘_ (r .η y) (₁ F f) ≡ D ._∘_ (₁ G f) (r .η x)" class="Field">is-natural</a> <a id="3793" class="Symbol">_</a> <a id="3795" class="Symbol">_</a> <a id="3797" class="Symbol">_)</a> <a id="3800" href="1Lab.Path.html#46629" data-type="(x : A) → y ≡ z → x ≡ y → x ≡ z" class="Function">⟩</a></span><span class="alternate Function">≡</span></span>
      <a id="3808" href="Cat.Base.html#8808" data-type="(r : Functor C D) → C .Hom x y → D .Hom (F₀ r x) (F₀ r y)" class="Function">F.₁</a> <a id="3812" href="Cat.Diagram.Monad.Codensity.html#3592" class="Bound">f</a> <a id="3814" href="Cat.Base.html#3006" data-type="(r : Precategory o h) → r .Hom y z → r .Hom x y → r .Hom x z" class="Function Operator">B.∘</a> <a id="3818" href="Cat.Functor.Kan.Right.html#1724" data-type="(r : Ran p F) → r .Ext F∘ p =&gt; F" class="Field">eps</a> <a id="3822" class="Symbol">.</a><a id="3823" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="3825" href="Cat.Diagram.Monad.Codensity.html#3588" class="Bound">x</a> <a id="3827" href="Cat.Base.html#3006" data-type="(r : Precategory o h) → r .Hom y z → r .Hom x y → r .Hom x z" class="Function Operator">B.∘</a> <a id="3831" href="Cat.Base.html#8808" data-type="(r : Functor C D) → C .Hom x y → D .Hom (F₀ r x) (F₀ r y)" class="Function">Ext.₁</a> <a id="3837" class="Symbol">(</a><a id="3838" href="Cat.Functor.Kan.Right.html#1724" data-type="(r : Ran p F) → r .Ext F∘ p =&gt; F" class="Field">eps</a> <a id="3842" class="Symbol">.</a><a id="3843" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="3845" href="Cat.Diagram.Monad.Codensity.html#3588" class="Bound">x</a><a id="3846" class="Symbol">)</a>                   <a id="3866" href="1Lab.Path.html#46957" data-type="(x : A) → x ≡ x" class="Function Operator">∎</a>

  <a id="3871" href="Cat.Diagram.Monad.Codensity.html#3871" data-type="(F : Functor A B₁) (R₁ : Ran F F) → Monad B₁" class="Function">Codensity</a> <a id="3881" class="Symbol">:</a> <a id="3883" href="Cat.Diagram.Monad.html#712" data-type="(C : Precategory o h) → Type (o ⊔ h)" class="Record">Monad</a> <a id="3889" href="Cat.Diagram.Monad.Codensity.html#1847" class="Bound">B</a>
  <a id="3893" href="Cat.Diagram.Monad.Codensity.html#3871" data-type="(F : Functor A B₁) (R₁ : Ran F F) → Monad B₁" class="Function">Codensity</a> <a id="3903" class="Symbol">.</a><a id="3904" href="Cat.Diagram.Monad.html#769" data-type="Monad C → Functor C C" class="Field">M</a> <a id="3906" class="Symbol">=</a> <a id="3908" href="Cat.Functor.Kan.Right.html#1701" data-type="Ran p F → Functor C′ D" class="Field">Ext</a>
  <a id="3914" href="Cat.Diagram.Monad.Codensity.html#3871" data-type="(F : Functor A B₁) (R₁ : Ran F F) → Monad B₁" class="Function">Codensity</a> <a id="3924" class="Symbol">.</a><a id="3925" href="Cat.Diagram.Monad.html#792" data-type="(r : Monad C) → Id =&gt; r .M" class="Field">unit</a> <a id="3930" class="Symbol">=</a> <a id="3932" href="Cat.Functor.Kan.Right.html#1749" data-type="(r : Ran p F) → M F∘ p =&gt; F → M =&gt; r .Ext" class="Field">σ</a> <a id="3934" href="Cat.Diagram.Monad.Codensity.html#3065" data-type="(F : Functor A B₁) (R₁ : Ran F F) → Id F∘ F =&gt; F" class="Function">unit-nt</a>
  <a id="3944" href="Cat.Diagram.Monad.Codensity.html#3871" data-type="(F : Functor A B₁) (R₁ : Ran F F) → Monad B₁" class="Function">Codensity</a> <a id="3954" class="Symbol">.</a><a id="3955" href="Cat.Diagram.Monad.html#811" data-type="(r : Monad C) → r .M F∘ r .M =&gt; r .M" class="Field">mult</a> <a id="3960" class="Symbol">=</a> <a id="3962" href="Cat.Functor.Kan.Right.html#1749" data-type="(r : Ran p F) → M F∘ p =&gt; F → M =&gt; r .Ext" class="Field">σ</a> <a id="3964" href="Cat.Diagram.Monad.Codensity.html#3482" data-type="(F : Functor A B₁) (R₁ : Ran F F) → (Ext R₁ F∘ Ext R₁) F∘ F =&gt; F" class="Function">mult-nt</a>
</pre>
<details>
<summary>
Proving that these two extended natural transformations really do
comprise a monad structure is a routine application of the uniqueness
properties of Kan extensions. The real noise comes from having to
construct auxilliary natural transformations representing each pair of
maps we want to compute with.
</summary>
<pre class="Agda">  <a id="4320" href="Cat.Diagram.Monad.Codensity.html#3871" data-type="(F : Functor A B₁) (R₁ : Ran F F) → Monad B₁" class="Function">Codensity</a> <a id="4330" class="Symbol">.</a><a id="4331" href="Cat.Diagram.Monad.html#1090" data-type="(r : Monad C) →
(C ∘ η (r .mult) x) (F₁ (r .M) (r .unit .η x)) ≡ id C" class="Field">left-ident</a> <a id="4342" class="Symbol">{</a><a id="4343" class="Argument">x</a> <a id="4345" class="Symbol">=</a> <a id="4347" href="Cat.Diagram.Monad.Codensity.html#4347" class="Bound">x</a><a id="4348" class="Symbol">}</a> <a id="4350" class="Symbol">=</a> <a id="4352" href="Cat.Diagram.Monad.Codensity.html#4601" data-type="(F : Functor A B₁) (R₁ : Ran F F) → nat₁ F R₁ .η x ≡ B₁ .id" class="Function">path</a> <a id="4357" class="Keyword">where</a>
    <a id="4367" href="Cat.Diagram.Monad.Codensity.html#4367" data-type="(F : Functor A B₁) (R₁ : Ran F F) → Ext R₁ =&gt; Ext R₁" class="Function">nat₁</a> <a id="4372" class="Symbol">:</a> <a id="4374" href="Cat.Functor.Kan.Right.html#1701" data-type="Ran p F → Functor C′ D" class="Field">Ext</a> <a id="4378" href="Cat.Base.html#12241" data-type="(F G : Functor C D) → Type (o₁ ⊔ h₁ ⊔ h₂)" class="Record Operator">=&gt;</a> <a id="4381" href="Cat.Functor.Kan.Right.html#1701" data-type="Ran p F → Functor C′ D" class="Field">Ext</a>
    <a id="4389" href="Cat.Diagram.Monad.Codensity.html#4367" data-type="(F : Functor A B₁) (R₁ : Ran F F) → Ext R₁ =&gt; Ext R₁" class="Function">nat₁</a> <a id="4394" class="Symbol">.</a><a id="4395" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="4397" href="Cat.Diagram.Monad.Codensity.html#4397" class="Bound">x</a> <a id="4399" class="Symbol">=</a> <a id="4401" href="Cat.Functor.Kan.Right.html#1749" data-type="(r : Ran p F) → M F∘ p =&gt; F → M =&gt; r .Ext" class="Field">σ</a> <a id="4403" href="Cat.Diagram.Monad.Codensity.html#3482" data-type="(F : Functor A B₁) (R₁ : Ran F F) → (Ext R₁ F∘ Ext R₁) F∘ F =&gt; F" class="Function">mult-nt</a> <a id="4411" class="Symbol">.</a><a id="4412" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="4414" href="Cat.Diagram.Monad.Codensity.html#4397" class="Bound">x</a> <a id="4416" href="Cat.Base.html#3006" data-type="(r : Precategory o h) → r .Hom y z → r .Hom x y → r .Hom x z" class="Function Operator">B.∘</a> <a id="4420" href="Cat.Base.html#8808" data-type="(r : Functor C D) → C .Hom x y → D .Hom (F₀ r x) (F₀ r y)" class="Function">Ext.₁</a> <a id="4426" class="Symbol">(</a><a id="4427" href="Cat.Functor.Kan.Right.html#1749" data-type="(r : Ran p F) → M F∘ p =&gt; F → M =&gt; r .Ext" class="Field">σ</a> <a id="4429" href="Cat.Diagram.Monad.Codensity.html#3065" data-type="(F : Functor A B₁) (R₁ : Ran F F) → Id F∘ F =&gt; F" class="Function">unit-nt</a> <a id="4437" class="Symbol">.</a><a id="4438" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="4440" href="Cat.Diagram.Monad.Codensity.html#4397" class="Bound">x</a><a id="4441" class="Symbol">)</a>
    <a id="4447" href="Cat.Diagram.Monad.Codensity.html#4367" data-type="(F : Functor A B₁) (R₁ : Ran F F) → Ext R₁ =&gt; Ext R₁" class="Function">nat₁</a> <a id="4452" class="Symbol">.</a><a id="4453" href="Cat.Base.html#13369" data-type="(r : F =&gt; G) (x y : C .Ob) (f : C .Hom x y) →
D ._∘_ (r .η y) (₁ F f) ≡ D ._∘_ (₁ G f) (r .η x)" class="Field">is-natural</a> <a id="4464" href="Cat.Diagram.Monad.Codensity.html#4464" class="Bound">x</a> <a id="4466" href="Cat.Diagram.Monad.Codensity.html#4466" class="Bound">y</a> <a id="4468" href="Cat.Diagram.Monad.Codensity.html#4468" class="Bound">f</a> <a id="4470" class="Symbol">=</a> <a id="4472" href="Cat.Functor.Reasoning.html#1886" data-type="(F : Functor 𝒞 𝒟) (p : (F ∘ a) c ≡ (F ∘ b) d) →
(F ∘ (F ∘ f) (F₁ F a)) (F₁ F c) ≡ (F ∘ (F ∘ f) (F₁ F b)) (F₁ F d)" class="Function">Ext.extendr</a> <a id="4484" class="Symbol">(</a><a id="4485" href="Cat.Functor.Kan.Right.html#1749" data-type="(r : Ran p F) → M F∘ p =&gt; F → M =&gt; r .Ext" class="Field">σ</a> <a id="4487" href="Cat.Diagram.Monad.Codensity.html#3065" data-type="(F : Functor A B₁) (R₁ : Ran F F) → Id F∘ F =&gt; F" class="Function">unit-nt</a> <a id="4495" class="Symbol">.</a><a id="4496" href="Cat.Base.html#13369" data-type="(r : F =&gt; G) (x y : C .Ob) (f : C .Hom x y) →
D ._∘_ (r .η y) (₁ F f) ≡ D ._∘_ (₁ G f) (r .η x)" class="Field">is-natural</a> <a id="4507" href="Cat.Diagram.Monad.Codensity.html#4464" class="Bound">x</a> <a id="4509" href="Cat.Diagram.Monad.Codensity.html#4466" class="Bound">y</a> <a id="4511" href="Cat.Diagram.Monad.Codensity.html#4468" class="Bound">f</a><a id="4512" class="Symbol">)</a>
                           <a id="4541" href="1Lab.Path.html#39472" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a> <a id="4543" href="Cat.Reasoning.html#1844" data-type="(C : Precategory o ℓ) (c≡ab : c ≡ (C ∘ a) b) →
(C ∘ c) f ≡ (C ∘ a) ((C ∘ b) f)" class="Function">B.pushl</a> <a id="4551" class="Symbol">(</a><a id="4552" href="Cat.Functor.Kan.Right.html#1749" data-type="(r : Ran p F) → M F∘ p =&gt; F → M =&gt; r .Ext" class="Field">σ</a> <a id="4554" href="Cat.Diagram.Monad.Codensity.html#3482" data-type="(F : Functor A B₁) (R₁ : Ran F F) → (Ext R₁ F∘ Ext R₁) F∘ F =&gt; F" class="Function">mult-nt</a> <a id="4562" class="Symbol">.</a><a id="4563" href="Cat.Base.html#13369" data-type="(r : F =&gt; G) (x y : C .Ob) (f : C .Hom x y) →
D ._∘_ (r .η y) (₁ F f) ≡ D ._∘_ (₁ G f) (r .η x)" class="Field">is-natural</a> <a id="4574" class="Symbol">_</a> <a id="4576" class="Symbol">_</a> <a id="4578" class="Symbol">_)</a>

    <a id="4586" class="Keyword">abstract</a>
      <a id="4601" href="Cat.Diagram.Monad.Codensity.html#4601" data-type="(F : Functor A B₁) (R₁ : Ran F F) → nat₁ F R₁ .η x ≡ B₁ .id" class="Function">path</a> <a id="4606" class="Symbol">:</a> <a id="4608" href="Cat.Diagram.Monad.Codensity.html#4367" data-type="(F : Functor A B₁) (R₁ : Ran F F) → Ext R₁ =&gt; Ext R₁" class="Function">nat₁</a> <a id="4613" class="Symbol">.</a><a id="4614" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="4616" href="Cat.Diagram.Monad.Codensity.html#4347" class="Bound">x</a> <a id="4618" href="Agda.Builtin.Cubical.Path.html#388" data-type="A → A → Type ℓ" class="Function Operator">≡</a> <a id="4620" href="Cat.Base.html#2976" data-type="(r : Precategory o h) → r .Hom x x" class="Function">B.id</a>
      <a id="4631" href="Cat.Diagram.Monad.Codensity.html#4601" data-type="(F : Functor A B₁) (R₁ : Ran F F) → nat₁ F R₁ .η x ≡ B₁ .id" class="Function">path</a> <a id="4636" class="Symbol">=</a> <a id="4638" href="1Lab.Path.html#20756" data-type="(f : (x : A) → B₁ x) (p : x ≡ y) →
PathP (λ i → B₁ (p i)) (f x) (f y)" class="Function">ap</a> <a id="4641" class="Symbol">(λ</a> <a id="4644" href="Cat.Diagram.Monad.Codensity.html#4644" class="Bound">e</a> <a id="4646" class="Symbol">→</a> <a id="4648" href="Cat.Diagram.Monad.Codensity.html#4644" class="Bound">e</a> <a id="4650" class="Symbol">.</a><a id="4651" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="4653" href="Cat.Diagram.Monad.Codensity.html#4347" class="Bound">x</a><a id="4654" class="Symbol">)</a> <a id="4656" href="1Lab.Type.html#2481" data-type="((x : A) → B₁ x) → (x : A) → B₁ x" class="Function Operator">$</a> <a id="4658" href="Cat.Functor.Kan.Right.html#2008" data-type="(r : Ran p F) (β : M F∘ p =&gt; F) →
β ≡ (eps r ∘nt whiskerl σ₁′) →
β ≡ (eps r ∘nt whiskerl σ₂′) → σ₁′ ≡ σ₂′" class="Function">σ-uniq₂</a> <a id="4666" href="Cat.Functor.Kan.Right.html#1724" data-type="(r : Ran p F) → r .Ext F∘ p =&gt; F" class="Field">eps</a> <a id="4670" class="Symbol">{</a><a id="4671" class="Argument">σ₁′</a> <a id="4675" class="Symbol">=</a> <a id="4677" href="Cat.Diagram.Monad.Codensity.html#4367" data-type="(F : Functor A B₁) (R₁ : Ran F F) → Ext R₁ =&gt; Ext R₁" class="Function">nat₁</a><a id="4681" class="Symbol">}</a> <a id="4683" class="Symbol">{</a><a id="4684" class="Argument">σ₂′</a> <a id="4688" class="Symbol">=</a> <a id="4690" href="Cat.Instances.Functor.html#468" data-type="F =&gt; F" class="Function">idnt</a><a id="4694" class="Symbol">}</a>
        <a id="4704" class="Symbol">(</a><a id="4705" href="Cat.Base.html#15597" data-type="((x : C .Ob) → a .η x ≡ b .η x) → a ≡ b" class="Function">Nat-path</a> <a id="4714" class="Symbol">λ</a> <a id="4716" href="Cat.Diagram.Monad.Codensity.html#4716" class="Bound">x</a> <a id="4718" class="Symbol">→</a>
          <a id="4730" href="1Lab.Path.html#10558" data-type="x ≡ y → y ≡ x" class="Function">sym</a> <a id="4734" class="Symbol">(</a><a id="4735" href="Cat.Reasoning.html#1548" data-type="(C : Precategory o ℓ) (ab≡c : (C ∘ a) b ≡ c) →
(C ∘ a) ((C ∘ b) f) ≡ (C ∘ c) f" class="Function">B.pulll</a> <a id="4743" class="Symbol">(</a><a id="4744" href="1Lab.Path.html#20756" data-type="(f : (x : A) → B₁ x) (p : x ≡ y) →
PathP (λ i → B₁ (p i)) (f x) (f y)" class="Function">ap</a> <a id="4747" class="Symbol">(λ</a> <a id="4750" href="Cat.Diagram.Monad.Codensity.html#4750" class="Bound">e</a> <a id="4752" class="Symbol">→</a> <a id="4754" href="Cat.Diagram.Monad.Codensity.html#4750" class="Bound">e</a> <a id="4756" class="Symbol">.</a><a id="4757" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="4759" href="Cat.Diagram.Monad.Codensity.html#4716" class="Bound">x</a><a id="4760" class="Symbol">)</a> <a id="4762" href="Cat.Functor.Kan.Right.html#1805" data-type="(r : Ran p F) → (r .eps ∘nt whiskerl (r .σ β)) ≡ β" class="Field">σ-comm</a><a id="4768" class="Symbol">)</a>
              <a id="4784" href="1Lab.Path.html#39472" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a> <a id="4786" href="Cat.Functor.Reasoning.html#2311" data-type="(F : Functor 𝒞 𝒟) (inv₁ : (F ∘ a) b ≡ id F) →
(F ∘ (F ∘ f) (F₁ F a)) (F₁ F b) ≡ f" class="Function">Ext.cancelr</a> <a id="4798" class="Symbol">(</a><a id="4799" href="1Lab.Path.html#20756" data-type="(f : (x : A) → B₁ x) (p : x ≡ y) →
PathP (λ i → B₁ (p i)) (f x) (f y)" class="Function">ap</a> <a id="4802" class="Symbol">(λ</a> <a id="4805" href="Cat.Diagram.Monad.Codensity.html#4805" class="Bound">e</a> <a id="4807" class="Symbol">→</a> <a id="4809" href="Cat.Diagram.Monad.Codensity.html#4805" class="Bound">e</a> <a id="4811" class="Symbol">.</a><a id="4812" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="4814" href="Cat.Diagram.Monad.Codensity.html#4716" class="Bound">x</a><a id="4815" class="Symbol">)</a> <a id="4817" href="Cat.Functor.Kan.Right.html#1805" data-type="(r : Ran p F) → (r .eps ∘nt whiskerl (r .σ β)) ≡ β" class="Field">σ-comm</a><a id="4823" class="Symbol">)))</a>
        <a id="4835" class="Symbol">(</a><a id="4836" href="Cat.Base.html#15597" data-type="((x : C .Ob) → a .η x ≡ b .η x) → a ≡ b" class="Function">Nat-path</a> <a id="4845" class="Symbol">λ</a> <a id="4847" href="Cat.Diagram.Monad.Codensity.html#4847" class="Bound">_</a> <a id="4849" class="Symbol">→</a> <a id="4851" href="Cat.Reasoning.html#1250" data-type="(C : Precategory o ℓ) (a≡id : a ≡ id C) → f ≡ (C ∘ f) a" class="Function">B.intror</a> <a id="4860" href="1Lab.Path.html#3593" data-type="x ≡ x" class="Function">refl</a><a id="4864" class="Symbol">)</a>

  <a id="4869" href="Cat.Diagram.Monad.Codensity.html#3871" data-type="(F : Functor A B₁) (R₁ : Ran F F) → Monad B₁" class="Function">Codensity</a> <a id="4879" class="Symbol">.</a><a id="4880" href="Cat.Diagram.Monad.html#1150" data-type="(r : Monad C) →
(C ∘ η (r .mult) x) (r .unit .η (F₀ (r .M) x)) ≡ id C" class="Field">right-ident</a> <a id="4892" class="Symbol">{</a><a id="4893" class="Argument">x</a> <a id="4895" class="Symbol">=</a> <a id="4897" href="Cat.Diagram.Monad.Codensity.html#4897" class="Bound">x</a><a id="4898" class="Symbol">}</a> <a id="4900" class="Symbol">=</a> <a id="4902" href="Cat.Diagram.Monad.Codensity.html#5149" data-type="(F : Functor A B₁) (R₁ : Ran F F) → nat₁ F R₁ .η x ≡ B₁ .id" class="Function">path</a> <a id="4907" class="Keyword">where</a>
    <a id="4917" href="Cat.Diagram.Monad.Codensity.html#4917" data-type="(F : Functor A B₁) (R₁ : Ran F F) → Ext R₁ =&gt; Ext R₁" class="Function">nat₁</a> <a id="4922" class="Symbol">:</a> <a id="4924" href="Cat.Functor.Kan.Right.html#1701" data-type="Ran p F → Functor C′ D" class="Field">Ext</a> <a id="4928" href="Cat.Base.html#12241" data-type="(F G : Functor C D) → Type (o₁ ⊔ h₁ ⊔ h₂)" class="Record Operator">=&gt;</a> <a id="4931" href="Cat.Functor.Kan.Right.html#1701" data-type="Ran p F → Functor C′ D" class="Field">Ext</a>
    <a id="4939" href="Cat.Diagram.Monad.Codensity.html#4917" data-type="(F : Functor A B₁) (R₁ : Ran F F) → Ext R₁ =&gt; Ext R₁" class="Function">nat₁</a> <a id="4944" class="Symbol">.</a><a id="4945" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="4947" href="Cat.Diagram.Monad.Codensity.html#4947" class="Bound">x</a> <a id="4949" class="Symbol">=</a> <a id="4951" href="Cat.Functor.Kan.Right.html#1749" data-type="(r : Ran p F) → M F∘ p =&gt; F → M =&gt; r .Ext" class="Field">σ</a> <a id="4953" href="Cat.Diagram.Monad.Codensity.html#3482" data-type="(F : Functor A B₁) (R₁ : Ran F F) → (Ext R₁ F∘ Ext R₁) F∘ F =&gt; F" class="Function">mult-nt</a> <a id="4961" class="Symbol">.</a><a id="4962" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="4964" href="Cat.Diagram.Monad.Codensity.html#4947" class="Bound">x</a> <a id="4966" href="Cat.Base.html#3006" data-type="(r : Precategory o h) → r .Hom y z → r .Hom x y → r .Hom x z" class="Function Operator">B.∘</a> <a id="4970" href="Cat.Functor.Kan.Right.html#1749" data-type="(r : Ran p F) → M F∘ p =&gt; F → M =&gt; r .Ext" class="Field">σ</a> <a id="4972" href="Cat.Diagram.Monad.Codensity.html#3065" data-type="(F : Functor A B₁) (R₁ : Ran F F) → Id F∘ F =&gt; F" class="Function">unit-nt</a> <a id="4980" class="Symbol">.</a><a id="4981" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="4983" class="Symbol">(</a><a id="4984" href="Cat.Base.html#8727" data-type="(r : Functor C D) → C .Ob → D .Ob" class="Function">Ext.₀</a> <a id="4990" href="Cat.Diagram.Monad.Codensity.html#4947" class="Bound">x</a><a id="4991" class="Symbol">)</a>
    <a id="4997" href="Cat.Diagram.Monad.Codensity.html#4917" data-type="(F : Functor A B₁) (R₁ : Ran F F) → Ext R₁ =&gt; Ext R₁" class="Function">nat₁</a> <a id="5002" class="Symbol">.</a><a id="5003" href="Cat.Base.html#13369" data-type="(r : F =&gt; G) (x y : C .Ob) (f : C .Hom x y) →
D ._∘_ (r .η y) (₁ F f) ≡ D ._∘_ (₁ G f) (r .η x)" class="Field">is-natural</a> <a id="5014" href="Cat.Diagram.Monad.Codensity.html#5014" class="Bound">x</a> <a id="5016" href="Cat.Diagram.Monad.Codensity.html#5016" class="Bound">y</a> <a id="5018" href="Cat.Diagram.Monad.Codensity.html#5018" class="Bound">f</a> <a id="5020" class="Symbol">=</a> <a id="5022" href="Cat.Reasoning.html#2184" data-type="(C : Precategory o ℓ) (p : (C ∘ f) h ≡ (C ∘ g) i) →
(C ∘ (C ∘ a) f) h ≡ (C ∘ (C ∘ a) g) i" class="Function">B.extendr</a> <a id="5032" class="Symbol">(</a><a id="5033" href="Cat.Functor.Kan.Right.html#1749" data-type="(r : Ran p F) → M F∘ p =&gt; F → M =&gt; r .Ext" class="Field">σ</a> <a id="5035" href="Cat.Diagram.Monad.Codensity.html#3065" data-type="(F : Functor A B₁) (R₁ : Ran F F) → Id F∘ F =&gt; F" class="Function">unit-nt</a> <a id="5043" class="Symbol">.</a><a id="5044" href="Cat.Base.html#13369" data-type="(r : F =&gt; G) (x y : C .Ob) (f : C .Hom x y) →
D ._∘_ (r .η y) (₁ F f) ≡ D ._∘_ (₁ G f) (r .η x)" class="Field">is-natural</a> <a id="5055" class="Symbol">_</a> <a id="5057" class="Symbol">_</a> <a id="5059" class="Symbol">_)</a>
                           <a id="5089" href="1Lab.Path.html#39472" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a> <a id="5091" href="Cat.Reasoning.html#1844" data-type="(C : Precategory o ℓ) (c≡ab : c ≡ (C ∘ a) b) →
(C ∘ c) f ≡ (C ∘ a) ((C ∘ b) f)" class="Function">B.pushl</a> <a id="5099" class="Symbol">(</a><a id="5100" href="Cat.Functor.Kan.Right.html#1749" data-type="(r : Ran p F) → M F∘ p =&gt; F → M =&gt; r .Ext" class="Field">σ</a> <a id="5102" href="Cat.Diagram.Monad.Codensity.html#3482" data-type="(F : Functor A B₁) (R₁ : Ran F F) → (Ext R₁ F∘ Ext R₁) F∘ F =&gt; F" class="Function">mult-nt</a> <a id="5110" class="Symbol">.</a><a id="5111" href="Cat.Base.html#13369" data-type="(r : F =&gt; G) (x y : C .Ob) (f : C .Hom x y) →
D ._∘_ (r .η y) (₁ F f) ≡ D ._∘_ (₁ G f) (r .η x)" class="Field">is-natural</a> <a id="5122" class="Symbol">_</a> <a id="5124" class="Symbol">_</a> <a id="5126" class="Symbol">_)</a>

    <a id="5134" class="Keyword">abstract</a>
      <a id="5149" href="Cat.Diagram.Monad.Codensity.html#5149" data-type="(F : Functor A B₁) (R₁ : Ran F F) → nat₁ F R₁ .η x ≡ B₁ .id" class="Function">path</a> <a id="5154" class="Symbol">:</a> <a id="5156" href="Cat.Diagram.Monad.Codensity.html#4917" data-type="(F : Functor A B₁) (R₁ : Ran F F) → Ext R₁ =&gt; Ext R₁" class="Function">nat₁</a> <a id="5161" class="Symbol">.</a><a id="5162" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="5164" href="Cat.Diagram.Monad.Codensity.html#4897" class="Bound">x</a> <a id="5166" href="Agda.Builtin.Cubical.Path.html#388" data-type="A → A → Type ℓ" class="Function Operator">≡</a> <a id="5168" href="Cat.Base.html#2976" data-type="(r : Precategory o h) → r .Hom x x" class="Function">B.id</a>
      <a id="5179" href="Cat.Diagram.Monad.Codensity.html#5149" data-type="(F : Functor A B₁) (R₁ : Ran F F) → nat₁ F R₁ .η x ≡ B₁ .id" class="Function">path</a> <a id="5184" class="Symbol">=</a> <a id="5186" href="1Lab.Path.html#20756" data-type="(f : (x : A) → B₁ x) (p : x ≡ y) →
PathP (λ i → B₁ (p i)) (f x) (f y)" class="Function">ap</a> <a id="5189" class="Symbol">(λ</a> <a id="5192" href="Cat.Diagram.Monad.Codensity.html#5192" class="Bound">e</a> <a id="5194" class="Symbol">→</a> <a id="5196" href="Cat.Diagram.Monad.Codensity.html#5192" class="Bound">e</a> <a id="5198" class="Symbol">.</a><a id="5199" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="5201" href="Cat.Diagram.Monad.Codensity.html#4897" class="Bound">x</a><a id="5202" class="Symbol">)</a> <a id="5204" href="1Lab.Type.html#2481" data-type="((x : A) → B₁ x) → (x : A) → B₁ x" class="Function Operator">$</a> <a id="5206" href="Cat.Functor.Kan.Right.html#2008" data-type="(r : Ran p F) (β : M F∘ p =&gt; F) →
β ≡ (eps r ∘nt whiskerl σ₁′) →
β ≡ (eps r ∘nt whiskerl σ₂′) → σ₁′ ≡ σ₂′" class="Function">σ-uniq₂</a> <a id="5214" href="Cat.Functor.Kan.Right.html#1724" data-type="(r : Ran p F) → r .Ext F∘ p =&gt; F" class="Field">eps</a> <a id="5218" class="Symbol">{</a><a id="5219" class="Argument">σ₁′</a> <a id="5223" class="Symbol">=</a> <a id="5225" href="Cat.Diagram.Monad.Codensity.html#4917" data-type="(F : Functor A B₁) (R₁ : Ran F F) → Ext R₁ =&gt; Ext R₁" class="Function">nat₁</a><a id="5229" class="Symbol">}</a> <a id="5231" class="Symbol">{</a><a id="5232" class="Argument">σ₂′</a> <a id="5236" class="Symbol">=</a> <a id="5238" href="Cat.Instances.Functor.html#468" data-type="F =&gt; F" class="Function">idnt</a><a id="5242" class="Symbol">}</a>
        <a id="5252" class="Symbol">(</a><a id="5253" href="Cat.Base.html#15597" data-type="((x : C .Ob) → a .η x ≡ b .η x) → a ≡ b" class="Function">Nat-path</a> <a id="5262" class="Symbol">λ</a> <a id="5264" href="Cat.Diagram.Monad.Codensity.html#5264" class="Bound">x</a> <a id="5266" class="Symbol">→</a> <a id="5268" href="1Lab.Path.html#10558" data-type="x ≡ y → y ≡ x" class="Function">sym</a> <a id="5272" href="1Lab.Type.html#2481" data-type="((x : A) → B₁ x) → (x : A) → B₁ x" class="Function Operator">$</a> <a id="5274" href="Cat.Reasoning.html#1548" data-type="(C : Precategory o ℓ) (ab≡c : (C ∘ a) b ≡ c) →
(C ∘ a) ((C ∘ b) f) ≡ (C ∘ c) f" class="Function">B.pulll</a> <a id="5282" class="Symbol">(</a><a id="5283" href="1Lab.Path.html#20756" data-type="(f : (x : A) → B₁ x) (p : x ≡ y) →
PathP (λ i → B₁ (p i)) (f x) (f y)" class="Function">ap</a> <a id="5286" class="Symbol">(λ</a> <a id="5289" href="Cat.Diagram.Monad.Codensity.html#5289" class="Bound">e</a> <a id="5291" class="Symbol">→</a> <a id="5293" href="Cat.Diagram.Monad.Codensity.html#5289" class="Bound">e</a> <a id="5295" class="Symbol">.</a><a id="5296" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="5298" href="Cat.Diagram.Monad.Codensity.html#5264" class="Bound">x</a><a id="5299" class="Symbol">)</a> <a id="5301" href="Cat.Functor.Kan.Right.html#1805" data-type="(r : Ran p F) → (r .eps ∘nt whiskerl (r .σ β)) ≡ β" class="Field">σ-comm</a><a id="5307" class="Symbol">)</a>
                            <a id="5337" href="1Lab.Path.html#39472" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a> <a id="5339" href="Cat.Reasoning.html#1678" data-type="(C : Precategory o ℓ) (ab≡c : (C ∘ a) b ≡ c) →
(C ∘ (C ∘ f) a) b ≡ (C ∘ f) c" class="Function">B.pullr</a> <a id="5347" class="Symbol">(</a><a id="5348" href="1Lab.Path.html#10558" data-type="x ≡ y → y ≡ x" class="Function">sym</a> <a id="5352" class="Symbol">(</a><a id="5353" href="Cat.Functor.Kan.Right.html#1749" data-type="(r : Ran p F) → M F∘ p =&gt; F → M =&gt; r .Ext" class="Field">σ</a> <a id="5355" href="Cat.Diagram.Monad.Codensity.html#3065" data-type="(F : Functor A B₁) (R₁ : Ran F F) → Id F∘ F =&gt; F" class="Function">unit-nt</a> <a id="5363" class="Symbol">.</a><a id="5364" href="Cat.Base.html#13369" data-type="(r : F =&gt; G) (x y : C .Ob) (f : C .Hom x y) →
D ._∘_ (r .η y) (₁ F f) ≡ D ._∘_ (₁ G f) (r .η x)" class="Field">is-natural</a> <a id="5375" class="Symbol">_</a> <a id="5377" class="Symbol">_</a> <a id="5379" class="Symbol">_))</a>
                            <a id="5411" href="1Lab.Path.html#39472" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a> <a id="5413" href="Cat.Reasoning.html#2621" data-type="(C : Precategory o ℓ) (inv₁ : (C ∘ h) i ≡ id C) →
(C ∘ h) ((C ∘ i) f) ≡ f" class="Function">B.cancell</a> <a id="5423" class="Symbol">(</a><a id="5424" href="1Lab.Path.html#20756" data-type="(f : (x : A) → B₁ x) (p : x ≡ y) →
PathP (λ i → B₁ (p i)) (f x) (f y)" class="Function">ap</a> <a id="5427" class="Symbol">(λ</a> <a id="5430" href="Cat.Diagram.Monad.Codensity.html#5430" class="Bound">e</a> <a id="5432" class="Symbol">→</a> <a id="5434" href="Cat.Diagram.Monad.Codensity.html#5430" class="Bound">e</a> <a id="5436" class="Symbol">.</a><a id="5437" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="5439" href="Cat.Diagram.Monad.Codensity.html#5264" class="Bound">x</a><a id="5440" class="Symbol">)</a> <a id="5442" href="Cat.Functor.Kan.Right.html#1805" data-type="(r : Ran p F) → (r .eps ∘nt whiskerl (r .σ β)) ≡ β" class="Field">σ-comm</a><a id="5448" class="Symbol">))</a>
        <a id="5459" class="Symbol">(</a><a id="5460" href="Cat.Base.html#15597" data-type="((x : C .Ob) → a .η x ≡ b .η x) → a ≡ b" class="Function">Nat-path</a> <a id="5469" class="Symbol">λ</a> <a id="5471" href="Cat.Diagram.Monad.Codensity.html#5471" class="Bound">_</a> <a id="5473" class="Symbol">→</a> <a id="5475" href="Cat.Reasoning.html#1250" data-type="(C : Precategory o ℓ) (a≡id : a ≡ id C) → f ≡ (C ∘ f) a" class="Function">B.intror</a> <a id="5484" href="1Lab.Path.html#3593" data-type="x ≡ x" class="Function">refl</a><a id="5488" class="Symbol">)</a>
  <a id="5492" href="Cat.Diagram.Monad.Codensity.html#3871" data-type="(F : Functor A B₁) (R₁ : Ran F F) → Monad B₁" class="Function">Codensity</a> <a id="5502" class="Symbol">.</a><a id="5503" href="Cat.Diagram.Monad.html#1219" data-type="(r : Monad C) →
(C ∘ η (r .mult) x) (F₁ (r .M) (η (r .mult) x)) ≡
(C ∘ η (r .mult) x) (η (r .mult) (F₀ (r .M) x))" class="Field">mult-assoc</a> <a id="5514" class="Symbol">{</a><a id="5515" class="Argument">x</a> <a id="5517" class="Symbol">=</a> <a id="5519" href="Cat.Diagram.Monad.Codensity.html#5519" class="Bound">x</a><a id="5520" class="Symbol">}</a> <a id="5522" class="Symbol">=</a> <a id="5524" href="Cat.Diagram.Monad.Codensity.html#6246" data-type="(F : Functor A B₁) (R₁ : Ran F F) → sig₁ F R₁ .η x ≡ sig₂ F R₁ .η x" class="Function">path</a> <a id="5529" class="Keyword">where</a>
    <a id="5539" href="Cat.Diagram.Monad.Codensity.html#5539" data-type="(F : Functor A B₁) (R₁ : Ran F F) →
(Ext R₁ F∘ Ext R₁ F∘ Ext R₁) F∘ F =&gt; F" class="Function">mult′</a> <a id="5545" class="Symbol">:</a> <a id="5547" class="Symbol">(</a><a id="5548" href="Cat.Functor.Kan.Right.html#1701" data-type="Ran p F → Functor C′ D" class="Field">Ext</a> <a id="5552" href="Cat.Base.html#9697" data-type="Functor D E → Functor C D → Functor C E" class="Function Operator">F∘</a> <a id="5555" href="Cat.Functor.Kan.Right.html#1701" data-type="Ran p F → Functor C′ D" class="Field">Ext</a> <a id="5559" href="Cat.Base.html#9697" data-type="Functor D E → Functor C D → Functor C E" class="Function Operator">F∘</a> <a id="5562" href="Cat.Functor.Kan.Right.html#1701" data-type="Ran p F → Functor C′ D" class="Field">Ext</a><a id="5565" class="Symbol">)</a> <a id="5567" href="Cat.Base.html#9697" data-type="Functor D E → Functor C D → Functor C E" class="Function Operator">F∘</a> <a id="5570" href="Cat.Diagram.Monad.Codensity.html#1833" class="Bound">F</a> <a id="5572" href="Cat.Base.html#12241" data-type="(F G : Functor C D) → Type (o₁ ⊔ h₁ ⊔ h₂)" class="Record Operator">=&gt;</a> <a id="5575" href="Cat.Diagram.Monad.Codensity.html#1833" class="Bound">F</a>
    <a id="5581" href="Cat.Diagram.Monad.Codensity.html#5539" data-type="(F : Functor A B₁) (R₁ : Ran F F) →
(Ext R₁ F∘ Ext R₁ F∘ Ext R₁) F∘ F =&gt; F" class="Function">mult′</a> <a id="5587" class="Symbol">.</a><a id="5588" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="5590" href="Cat.Diagram.Monad.Codensity.html#5590" class="Bound">x</a> <a id="5592" class="Symbol">=</a> <a id="5594" href="Cat.Functor.Kan.Right.html#1724" data-type="(r : Ran p F) → r .Ext F∘ p =&gt; F" class="Field">eps</a> <a id="5598" class="Symbol">.</a><a id="5599" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="5601" href="Cat.Diagram.Monad.Codensity.html#5590" class="Bound">x</a> <a id="5603" href="Cat.Base.html#3006" data-type="(r : Precategory o h) → r .Hom y z → r .Hom x y → r .Hom x z" class="Function Operator">B.∘</a> <a id="5607" href="Cat.Base.html#8808" data-type="(r : Functor C D) → C .Hom x y → D .Hom (F₀ r x) (F₀ r y)" class="Function">Ext.₁</a> <a id="5613" class="Symbol">(</a><a id="5614" href="Cat.Diagram.Monad.Codensity.html#3482" data-type="(F : Functor A B₁) (R₁ : Ran F F) → (Ext R₁ F∘ Ext R₁) F∘ F =&gt; F" class="Function">mult-nt</a> <a id="5622" class="Symbol">.</a><a id="5623" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="5625" href="Cat.Diagram.Monad.Codensity.html#5590" class="Bound">x</a><a id="5626" class="Symbol">)</a>
    <a id="5632" href="Cat.Diagram.Monad.Codensity.html#5539" data-type="(F : Functor A B₁) (R₁ : Ran F F) →
(Ext R₁ F∘ Ext R₁ F∘ Ext R₁) F∘ F =&gt; F" class="Function">mult′</a> <a id="5638" class="Symbol">.</a><a id="5639" href="Cat.Base.html#13369" data-type="(r : F =&gt; G) (x y : C .Ob) (f : C .Hom x y) →
D ._∘_ (r .η y) (₁ F f) ≡ D ._∘_ (₁ G f) (r .η x)" class="Field">is-natural</a> <a id="5650" href="Cat.Diagram.Monad.Codensity.html#5650" class="Bound">x</a> <a id="5652" href="Cat.Diagram.Monad.Codensity.html#5652" class="Bound">y</a> <a id="5654" href="Cat.Diagram.Monad.Codensity.html#5654" class="Bound">f</a> <a id="5656" class="Symbol">=</a> <a id="5658" href="Cat.Functor.Reasoning.html#1886" data-type="(F : Functor 𝒞 𝒟) (p : (F ∘ a) c ≡ (F ∘ b) d) →
(F ∘ (F ∘ f) (F₁ F a)) (F₁ F c) ≡ (F ∘ (F ∘ f) (F₁ F b)) (F₁ F d)" class="Function">Ext.extendr</a> <a id="5670" class="Symbol">(</a><a id="5671" href="Cat.Diagram.Monad.Codensity.html#3482" data-type="(F : Functor A B₁) (R₁ : Ran F F) → (Ext R₁ F∘ Ext R₁) F∘ F =&gt; F" class="Function">mult-nt</a> <a id="5679" class="Symbol">.</a><a id="5680" href="Cat.Base.html#13369" data-type="(r : F =&gt; G) (x y : C .Ob) (f : C .Hom x y) →
D ._∘_ (r .η y) (₁ F f) ≡ D ._∘_ (₁ G f) (r .η x)" class="Field">is-natural</a> <a id="5691" class="Symbol">_</a> <a id="5693" class="Symbol">_</a> <a id="5695" class="Symbol">_)</a>
                            <a id="5726" href="1Lab.Path.html#39472" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a> <a id="5728" href="Cat.Reasoning.html#1844" data-type="(C : Precategory o ℓ) (c≡ab : c ≡ (C ∘ a) b) →
(C ∘ c) f ≡ (C ∘ a) ((C ∘ b) f)" class="Function">B.pushl</a> <a id="5736" class="Symbol">(</a><a id="5737" href="Cat.Functor.Kan.Right.html#1724" data-type="(r : Ran p F) → r .Ext F∘ p =&gt; F" class="Field">eps</a> <a id="5741" class="Symbol">.</a><a id="5742" href="Cat.Base.html#13369" data-type="(r : F =&gt; G) (x y : C .Ob) (f : C .Hom x y) →
D ._∘_ (r .η y) (₁ F f) ≡ D ._∘_ (₁ G f) (r .η x)" class="Field">is-natural</a> <a id="5753" class="Symbol">_</a> <a id="5755" class="Symbol">_</a> <a id="5757" class="Symbol">_)</a>

    <a id="5765" href="Cat.Diagram.Monad.Codensity.html#5765" data-type="(F : Functor A B₁) (R₁ : Ran F F) →
Ext R₁ F∘ Ext R₁ F∘ Ext R₁ =&gt; Ext R₁" class="Function">sig₁</a> <a id="5770" class="Symbol">:</a> <a id="5772" href="Cat.Functor.Kan.Right.html#1701" data-type="Ran p F → Functor C′ D" class="Field">Ext</a> <a id="5776" href="Cat.Base.html#9697" data-type="Functor D E → Functor C D → Functor C E" class="Function Operator">F∘</a> <a id="5779" href="Cat.Functor.Kan.Right.html#1701" data-type="Ran p F → Functor C′ D" class="Field">Ext</a> <a id="5783" href="Cat.Base.html#9697" data-type="Functor D E → Functor C D → Functor C E" class="Function Operator">F∘</a> <a id="5786" href="Cat.Functor.Kan.Right.html#1701" data-type="Ran p F → Functor C′ D" class="Field">Ext</a> <a id="5790" href="Cat.Base.html#12241" data-type="(F G : Functor C D) → Type (o₁ ⊔ h₁ ⊔ h₂)" class="Record Operator">=&gt;</a> <a id="5793" href="Cat.Functor.Kan.Right.html#1701" data-type="Ran p F → Functor C′ D" class="Field">Ext</a>
    <a id="5801" href="Cat.Diagram.Monad.Codensity.html#5765" data-type="(F : Functor A B₁) (R₁ : Ran F F) →
Ext R₁ F∘ Ext R₁ F∘ Ext R₁ =&gt; Ext R₁" class="Function">sig₁</a> <a id="5806" class="Symbol">.</a><a id="5807" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="5809" href="Cat.Diagram.Monad.Codensity.html#5809" class="Bound">x</a> <a id="5811" class="Symbol">=</a> <a id="5813" href="Cat.Functor.Kan.Right.html#1749" data-type="(r : Ran p F) → M F∘ p =&gt; F → M =&gt; r .Ext" class="Field">σ</a> <a id="5815" href="Cat.Diagram.Monad.Codensity.html#3482" data-type="(F : Functor A B₁) (R₁ : Ran F F) → (Ext R₁ F∘ Ext R₁) F∘ F =&gt; F" class="Function">mult-nt</a> <a id="5823" class="Symbol">.</a><a id="5824" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="5826" href="Cat.Diagram.Monad.Codensity.html#5809" class="Bound">x</a> <a id="5828" href="Cat.Base.html#3006" data-type="(r : Precategory o h) → r .Hom y z → r .Hom x y → r .Hom x z" class="Function Operator">B.∘</a> <a id="5832" href="Cat.Base.html#8808" data-type="(r : Functor C D) → C .Hom x y → D .Hom (F₀ r x) (F₀ r y)" class="Function">Ext.₁</a> <a id="5838" class="Symbol">(</a><a id="5839" href="Cat.Functor.Kan.Right.html#1749" data-type="(r : Ran p F) → M F∘ p =&gt; F → M =&gt; r .Ext" class="Field">σ</a> <a id="5841" href="Cat.Diagram.Monad.Codensity.html#3482" data-type="(F : Functor A B₁) (R₁ : Ran F F) → (Ext R₁ F∘ Ext R₁) F∘ F =&gt; F" class="Function">mult-nt</a> <a id="5849" class="Symbol">.</a><a id="5850" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="5852" href="Cat.Diagram.Monad.Codensity.html#5809" class="Bound">x</a><a id="5853" class="Symbol">)</a>
    <a id="5859" href="Cat.Diagram.Monad.Codensity.html#5765" data-type="(F : Functor A B₁) (R₁ : Ran F F) →
Ext R₁ F∘ Ext R₁ F∘ Ext R₁ =&gt; Ext R₁" class="Function">sig₁</a> <a id="5864" class="Symbol">.</a><a id="5865" href="Cat.Base.html#13369" data-type="(r : F =&gt; G) (x y : C .Ob) (f : C .Hom x y) →
D ._∘_ (r .η y) (₁ F f) ≡ D ._∘_ (₁ G f) (r .η x)" class="Field">is-natural</a> <a id="5876" href="Cat.Diagram.Monad.Codensity.html#5876" class="Bound">x</a> <a id="5878" href="Cat.Diagram.Monad.Codensity.html#5878" class="Bound">y</a> <a id="5880" href="Cat.Diagram.Monad.Codensity.html#5880" class="Bound">f</a> <a id="5882" class="Symbol">=</a> <a id="5884" href="Cat.Functor.Reasoning.html#1886" data-type="(F : Functor 𝒞 𝒟) (p : (F ∘ a) c ≡ (F ∘ b) d) →
(F ∘ (F ∘ f) (F₁ F a)) (F₁ F c) ≡ (F ∘ (F ∘ f) (F₁ F b)) (F₁ F d)" class="Function">Ext.extendr</a> <a id="5896" class="Symbol">(</a><a id="5897" href="Cat.Functor.Kan.Right.html#1749" data-type="(r : Ran p F) → M F∘ p =&gt; F → M =&gt; r .Ext" class="Field">σ</a> <a id="5899" href="Cat.Diagram.Monad.Codensity.html#3482" data-type="(F : Functor A B₁) (R₁ : Ran F F) → (Ext R₁ F∘ Ext R₁) F∘ F =&gt; F" class="Function">mult-nt</a> <a id="5907" class="Symbol">.</a><a id="5908" href="Cat.Base.html#13369" data-type="(r : F =&gt; G) (x y : C .Ob) (f : C .Hom x y) →
D ._∘_ (r .η y) (₁ F f) ≡ D ._∘_ (₁ G f) (r .η x)" class="Field">is-natural</a> <a id="5919" class="Symbol">_</a> <a id="5921" class="Symbol">_</a> <a id="5923" class="Symbol">_)</a>
                            <a id="5954" href="1Lab.Path.html#39472" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a> <a id="5956" href="Cat.Reasoning.html#1844" data-type="(C : Precategory o ℓ) (c≡ab : c ≡ (C ∘ a) b) →
(C ∘ c) f ≡ (C ∘ a) ((C ∘ b) f)" class="Function">B.pushl</a> <a id="5964" class="Symbol">(</a><a id="5965" href="Cat.Functor.Kan.Right.html#1749" data-type="(r : Ran p F) → M F∘ p =&gt; F → M =&gt; r .Ext" class="Field">σ</a> <a id="5967" href="Cat.Diagram.Monad.Codensity.html#3482" data-type="(F : Functor A B₁) (R₁ : Ran F F) → (Ext R₁ F∘ Ext R₁) F∘ F =&gt; F" class="Function">mult-nt</a> <a id="5975" class="Symbol">.</a><a id="5976" href="Cat.Base.html#13369" data-type="(r : F =&gt; G) (x y : C .Ob) (f : C .Hom x y) →
D ._∘_ (r .η y) (₁ F f) ≡ D ._∘_ (₁ G f) (r .η x)" class="Field">is-natural</a> <a id="5987" class="Symbol">_</a> <a id="5989" class="Symbol">_</a> <a id="5991" class="Symbol">_)</a>

    <a id="5999" href="Cat.Diagram.Monad.Codensity.html#5999" data-type="(F : Functor A B₁) (R₁ : Ran F F) →
Ext R₁ F∘ Ext R₁ F∘ Ext R₁ =&gt; Ext R₁" class="Function">sig₂</a> <a id="6004" class="Symbol">:</a> <a id="6006" href="Cat.Functor.Kan.Right.html#1701" data-type="Ran p F → Functor C′ D" class="Field">Ext</a> <a id="6010" href="Cat.Base.html#9697" data-type="Functor D E → Functor C D → Functor C E" class="Function Operator">F∘</a> <a id="6013" href="Cat.Functor.Kan.Right.html#1701" data-type="Ran p F → Functor C′ D" class="Field">Ext</a> <a id="6017" href="Cat.Base.html#9697" data-type="Functor D E → Functor C D → Functor C E" class="Function Operator">F∘</a> <a id="6020" href="Cat.Functor.Kan.Right.html#1701" data-type="Ran p F → Functor C′ D" class="Field">Ext</a> <a id="6024" href="Cat.Base.html#12241" data-type="(F G : Functor C D) → Type (o₁ ⊔ h₁ ⊔ h₂)" class="Record Operator">=&gt;</a> <a id="6027" href="Cat.Functor.Kan.Right.html#1701" data-type="Ran p F → Functor C′ D" class="Field">Ext</a>
    <a id="6035" href="Cat.Diagram.Monad.Codensity.html#5999" data-type="(F : Functor A B₁) (R₁ : Ran F F) →
Ext R₁ F∘ Ext R₁ F∘ Ext R₁ =&gt; Ext R₁" class="Function">sig₂</a> <a id="6040" class="Symbol">.</a><a id="6041" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="6043" href="Cat.Diagram.Monad.Codensity.html#6043" class="Bound">x</a> <a id="6045" class="Symbol">=</a> <a id="6047" href="Cat.Functor.Kan.Right.html#1749" data-type="(r : Ran p F) → M F∘ p =&gt; F → M =&gt; r .Ext" class="Field">σ</a> <a id="6049" href="Cat.Diagram.Monad.Codensity.html#3482" data-type="(F : Functor A B₁) (R₁ : Ran F F) → (Ext R₁ F∘ Ext R₁) F∘ F =&gt; F" class="Function">mult-nt</a> <a id="6057" class="Symbol">.</a><a id="6058" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="6060" href="Cat.Diagram.Monad.Codensity.html#6043" class="Bound">x</a> <a id="6062" href="Cat.Base.html#3006" data-type="(r : Precategory o h) → r .Hom y z → r .Hom x y → r .Hom x z" class="Function Operator">B.∘</a> <a id="6066" href="Cat.Functor.Kan.Right.html#1749" data-type="(r : Ran p F) → M F∘ p =&gt; F → M =&gt; r .Ext" class="Field">σ</a> <a id="6068" href="Cat.Diagram.Monad.Codensity.html#3482" data-type="(F : Functor A B₁) (R₁ : Ran F F) → (Ext R₁ F∘ Ext R₁) F∘ F =&gt; F" class="Function">mult-nt</a> <a id="6076" class="Symbol">.</a><a id="6077" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="6079" class="Symbol">(</a><a id="6080" href="Cat.Base.html#8727" data-type="(r : Functor C D) → C .Ob → D .Ob" class="Function">Ext.₀</a> <a id="6086" href="Cat.Diagram.Monad.Codensity.html#6043" class="Bound">x</a><a id="6087" class="Symbol">)</a>
    <a id="6093" href="Cat.Diagram.Monad.Codensity.html#5999" data-type="(F : Functor A B₁) (R₁ : Ran F F) →
Ext R₁ F∘ Ext R₁ F∘ Ext R₁ =&gt; Ext R₁" class="Function">sig₂</a> <a id="6098" class="Symbol">.</a><a id="6099" href="Cat.Base.html#13369" data-type="(r : F =&gt; G) (x y : C .Ob) (f : C .Hom x y) →
D ._∘_ (r .η y) (₁ F f) ≡ D ._∘_ (₁ G f) (r .η x)" class="Field">is-natural</a> <a id="6110" href="Cat.Diagram.Monad.Codensity.html#6110" class="Bound">x</a> <a id="6112" href="Cat.Diagram.Monad.Codensity.html#6112" class="Bound">y</a> <a id="6114" href="Cat.Diagram.Monad.Codensity.html#6114" class="Bound">f</a> <a id="6116" class="Symbol">=</a> <a id="6118" href="Cat.Reasoning.html#2184" data-type="(C : Precategory o ℓ) (p : (C ∘ f) h ≡ (C ∘ g) i) →
(C ∘ (C ∘ a) f) h ≡ (C ∘ (C ∘ a) g) i" class="Function">B.extendr</a> <a id="6128" class="Symbol">(</a><a id="6129" href="Cat.Functor.Kan.Right.html#1749" data-type="(r : Ran p F) → M F∘ p =&gt; F → M =&gt; r .Ext" class="Field">σ</a> <a id="6131" href="Cat.Diagram.Monad.Codensity.html#3482" data-type="(F : Functor A B₁) (R₁ : Ran F F) → (Ext R₁ F∘ Ext R₁) F∘ F =&gt; F" class="Function">mult-nt</a> <a id="6139" class="Symbol">.</a><a id="6140" href="Cat.Base.html#13369" data-type="(r : F =&gt; G) (x y : C .Ob) (f : C .Hom x y) →
D ._∘_ (r .η y) (₁ F f) ≡ D ._∘_ (₁ G f) (r .η x)" class="Field">is-natural</a> <a id="6151" class="Symbol">_</a> <a id="6153" class="Symbol">_</a> <a id="6155" class="Symbol">_)</a>
                            <a id="6186" href="1Lab.Path.html#39472" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a> <a id="6188" href="Cat.Reasoning.html#1844" data-type="(C : Precategory o ℓ) (c≡ab : c ≡ (C ∘ a) b) →
(C ∘ c) f ≡ (C ∘ a) ((C ∘ b) f)" class="Function">B.pushl</a> <a id="6196" class="Symbol">(</a><a id="6197" href="Cat.Functor.Kan.Right.html#1749" data-type="(r : Ran p F) → M F∘ p =&gt; F → M =&gt; r .Ext" class="Field">σ</a> <a id="6199" href="Cat.Diagram.Monad.Codensity.html#3482" data-type="(F : Functor A B₁) (R₁ : Ran F F) → (Ext R₁ F∘ Ext R₁) F∘ F =&gt; F" class="Function">mult-nt</a> <a id="6207" class="Symbol">.</a><a id="6208" href="Cat.Base.html#13369" data-type="(r : F =&gt; G) (x y : C .Ob) (f : C .Hom x y) →
D ._∘_ (r .η y) (₁ F f) ≡ D ._∘_ (₁ G f) (r .η x)" class="Field">is-natural</a> <a id="6219" class="Symbol">_</a> <a id="6221" class="Symbol">_</a> <a id="6223" class="Symbol">_)</a>

    <a id="6231" class="Keyword">abstract</a>
      <a id="6246" href="Cat.Diagram.Monad.Codensity.html#6246" data-type="(F : Functor A B₁) (R₁ : Ran F F) → sig₁ F R₁ .η x ≡ sig₂ F R₁ .η x" class="Function">path</a> <a id="6251" class="Symbol">:</a> <a id="6253" href="Cat.Diagram.Monad.Codensity.html#5765" data-type="(F : Functor A B₁) (R₁ : Ran F F) →
Ext R₁ F∘ Ext R₁ F∘ Ext R₁ =&gt; Ext R₁" class="Function">sig₁</a> <a id="6258" class="Symbol">.</a><a id="6259" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="6261" href="Cat.Diagram.Monad.Codensity.html#5519" class="Bound">x</a> <a id="6263" href="Agda.Builtin.Cubical.Path.html#388" data-type="A → A → Type ℓ" class="Function Operator">≡</a> <a id="6265" href="Cat.Diagram.Monad.Codensity.html#5999" data-type="(F : Functor A B₁) (R₁ : Ran F F) →
Ext R₁ F∘ Ext R₁ F∘ Ext R₁ =&gt; Ext R₁" class="Function">sig₂</a> <a id="6270" class="Symbol">.</a><a id="6271" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="6273" href="Cat.Diagram.Monad.Codensity.html#5519" class="Bound">x</a>
      <a id="6281" href="Cat.Diagram.Monad.Codensity.html#6246" data-type="(F : Functor A B₁) (R₁ : Ran F F) → sig₁ F R₁ .η x ≡ sig₂ F R₁ .η x" class="Function">path</a> <a id="6286" class="Symbol">=</a> <a id="6288" href="1Lab.Path.html#20756" data-type="(f : (x : A) → B₁ x) (p : x ≡ y) →
PathP (λ i → B₁ (p i)) (f x) (f y)" class="Function">ap</a> <a id="6291" class="Symbol">(λ</a> <a id="6294" href="Cat.Diagram.Monad.Codensity.html#6294" class="Bound">e</a> <a id="6296" class="Symbol">→</a> <a id="6298" href="Cat.Diagram.Monad.Codensity.html#6294" class="Bound">e</a> <a id="6300" class="Symbol">.</a><a id="6301" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="6303" href="Cat.Diagram.Monad.Codensity.html#5519" class="Bound">x</a><a id="6304" class="Symbol">)</a> <a id="6306" href="1Lab.Type.html#2481" data-type="((x : A) → B₁ x) → (x : A) → B₁ x" class="Function Operator">$</a> <a id="6308" href="Cat.Functor.Kan.Right.html#2008" data-type="(r : Ran p F) (β : M F∘ p =&gt; F) →
β ≡ (eps r ∘nt whiskerl σ₁′) →
β ≡ (eps r ∘nt whiskerl σ₂′) → σ₁′ ≡ σ₂′" class="Function">σ-uniq₂</a> <a id="6316" class="Symbol">{</a><a id="6317" class="Argument">M</a> <a id="6319" class="Symbol">=</a> <a id="6321" href="Cat.Functor.Kan.Right.html#1701" data-type="Ran p F → Functor C′ D" class="Field">Ext</a> <a id="6325" href="Cat.Base.html#9697" data-type="Functor D E → Functor C D → Functor C E" class="Function Operator">F∘</a> <a id="6328" href="Cat.Functor.Kan.Right.html#1701" data-type="Ran p F → Functor C′ D" class="Field">Ext</a> <a id="6332" href="Cat.Base.html#9697" data-type="Functor D E → Functor C D → Functor C E" class="Function Operator">F∘</a> <a id="6335" href="Cat.Functor.Kan.Right.html#1701" data-type="Ran p F → Functor C′ D" class="Field">Ext</a><a id="6338" class="Symbol">}</a> <a id="6340" href="Cat.Diagram.Monad.Codensity.html#5539" data-type="(F : Functor A B₁) (R₁ : Ran F F) →
(Ext R₁ F∘ Ext R₁ F∘ Ext R₁) F∘ F =&gt; F" class="Function">mult′</a>
          <a id="6356" class="Symbol">{</a><a id="6357" class="Argument">σ₁′</a> <a id="6361" class="Symbol">=</a> <a id="6363" href="Cat.Diagram.Monad.Codensity.html#5765" data-type="(F : Functor A B₁) (R₁ : Ran F F) →
Ext R₁ F∘ Ext R₁ F∘ Ext R₁ =&gt; Ext R₁" class="Function">sig₁</a><a id="6367" class="Symbol">}</a>
          <a id="6379" class="Symbol">{</a><a id="6380" class="Argument">σ₂′</a> <a id="6384" class="Symbol">=</a> <a id="6386" href="Cat.Diagram.Monad.Codensity.html#5999" data-type="(F : Functor A B₁) (R₁ : Ran F F) →
Ext R₁ F∘ Ext R₁ F∘ Ext R₁ =&gt; Ext R₁" class="Function">sig₂</a><a id="6390" class="Symbol">}</a>
          <a id="6402" class="Symbol">(</a><a id="6403" href="Cat.Base.html#15597" data-type="((x : C .Ob) → a .η x ≡ b .η x) → a ≡ b" class="Function">Nat-path</a> <a id="6412" class="Symbol">λ</a> <a id="6414" href="Cat.Diagram.Monad.Codensity.html#6414" class="Bound">x</a> <a id="6416" class="Symbol">→</a> <a id="6418" href="1Lab.Path.html#10558" data-type="x ≡ y → y ≡ x" class="Function">sym</a> <a id="6422" class="Symbol">(</a><a id="6423" href="Cat.Reasoning.html#1548" data-type="(C : Precategory o ℓ) (ab≡c : (C ∘ a) b ≡ c) →
(C ∘ a) ((C ∘ b) f) ≡ (C ∘ c) f" class="Function">B.pulll</a> <a id="6431" class="Symbol">(</a><a id="6432" href="1Lab.Path.html#20756" data-type="(f : (x : A) → B₁ x) (p : x ≡ y) →
PathP (λ i → B₁ (p i)) (f x) (f y)" class="Function">ap</a> <a id="6435" class="Symbol">(λ</a> <a id="6438" href="Cat.Diagram.Monad.Codensity.html#6438" class="Bound">e</a> <a id="6440" class="Symbol">→</a> <a id="6442" href="Cat.Diagram.Monad.Codensity.html#6438" class="Bound">e</a> <a id="6444" class="Symbol">.</a><a id="6445" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="6447" href="Cat.Diagram.Monad.Codensity.html#6414" class="Bound">x</a><a id="6448" class="Symbol">)</a> <a id="6450" href="Cat.Functor.Kan.Right.html#1805" data-type="(r : Ran p F) → (r .eps ∘nt whiskerl (r .σ β)) ≡ β" class="Field">σ-comm</a><a id="6456" class="Symbol">)</a>
                            <a id="6486" href="1Lab.Path.html#39472" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a> <a id="6488" href="Cat.Functor.Reasoning.html#1354" data-type="(F : Functor 𝒞 𝒟) (ab≡c : (F ∘ a) b ≡ c) →
(F ∘ (F ∘ f) (F₁ F a)) (F₁ F b) ≡ (F ∘ f) (F₁ F c)" class="Function">Ext.pullr</a> <a id="6498" class="Symbol">(</a><a id="6499" href="1Lab.Path.html#20756" data-type="(f : (x : A) → B₁ x) (p : x ≡ y) →
PathP (λ i → B₁ (p i)) (f x) (f y)" class="Function">ap</a> <a id="6502" class="Symbol">(λ</a> <a id="6505" href="Cat.Diagram.Monad.Codensity.html#6505" class="Bound">e</a> <a id="6507" class="Symbol">→</a> <a id="6509" href="Cat.Diagram.Monad.Codensity.html#6505" class="Bound">e</a> <a id="6511" class="Symbol">.</a><a id="6512" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="6514" href="Cat.Diagram.Monad.Codensity.html#6414" class="Bound">x</a><a id="6515" class="Symbol">)</a> <a id="6517" href="Cat.Functor.Kan.Right.html#1805" data-type="(r : Ran p F) → (r .eps ∘nt whiskerl (r .σ β)) ≡ β" class="Field">σ-comm</a><a id="6523" class="Symbol">)))</a>
          <a id="6537" class="Symbol">(</a><a id="6538" href="Cat.Base.html#15597" data-type="((x : C .Ob) → a .η x ≡ b .η x) → a ≡ b" class="Function">Nat-path</a> <a id="6547" class="Symbol">λ</a> <a id="6549" href="Cat.Diagram.Monad.Codensity.html#6549" class="Bound">x</a> <a id="6551" class="Symbol">→</a> <a id="6553" href="1Lab.Path.html#10558" data-type="x ≡ y → y ≡ x" class="Function">sym</a> <a id="6557" class="Symbol">(</a><a id="6558" href="Cat.Reasoning.html#1548" data-type="(C : Precategory o ℓ) (ab≡c : (C ∘ a) b ≡ c) →
(C ∘ a) ((C ∘ b) f) ≡ (C ∘ c) f" class="Function">B.pulll</a> <a id="6566" class="Symbol">(</a><a id="6567" href="1Lab.Path.html#20756" data-type="(f : (x : A) → B₁ x) (p : x ≡ y) →
PathP (λ i → B₁ (p i)) (f x) (f y)" class="Function">ap</a> <a id="6570" class="Symbol">(λ</a> <a id="6573" href="Cat.Diagram.Monad.Codensity.html#6573" class="Bound">e</a> <a id="6575" class="Symbol">→</a> <a id="6577" href="Cat.Diagram.Monad.Codensity.html#6573" class="Bound">e</a> <a id="6579" class="Symbol">.</a><a id="6580" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="6582" href="Cat.Diagram.Monad.Codensity.html#6549" class="Bound">x</a><a id="6583" class="Symbol">)</a> <a id="6585" href="Cat.Functor.Kan.Right.html#1805" data-type="(r : Ran p F) → (r .eps ∘nt whiskerl (r .σ β)) ≡ β" class="Field">σ-comm</a><a id="6591" class="Symbol">)</a>
                            <a id="6621" href="1Lab.Path.html#39472" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a> <a id="6623" href="Cat.Reasoning.html#1678" data-type="(C : Precategory o ℓ) (ab≡c : (C ∘ a) b ≡ c) →
(C ∘ (C ∘ f) a) b ≡ (C ∘ f) c" class="Function">B.pullr</a> <a id="6631" class="Symbol">(</a><a id="6632" href="1Lab.Path.html#10558" data-type="x ≡ y → y ≡ x" class="Function">sym</a> <a id="6636" class="Symbol">(</a><a id="6637" href="Cat.Functor.Kan.Right.html#1749" data-type="(r : Ran p F) → M F∘ p =&gt; F → M =&gt; r .Ext" class="Field">σ</a> <a id="6639" href="Cat.Diagram.Monad.Codensity.html#3482" data-type="(F : Functor A B₁) (R₁ : Ran F F) → (Ext R₁ F∘ Ext R₁) F∘ F =&gt; F" class="Function">mult-nt</a> <a id="6647" class="Symbol">.</a><a id="6648" href="Cat.Base.html#13369" data-type="(r : F =&gt; G) (x y : C .Ob) (f : C .Hom x y) →
D ._∘_ (r .η y) (₁ F f) ≡ D ._∘_ (₁ G f) (r .η x)" class="Field">is-natural</a> <a id="6659" class="Symbol">_</a> <a id="6661" class="Symbol">_</a> <a id="6663" class="Symbol">_))</a>
                            <a id="6695" href="1Lab.Path.html#39472" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a> <a id="6697" href="Cat.Reasoning.html#1548" data-type="(C : Precategory o ℓ) (ab≡c : (C ∘ a) b ≡ c) →
(C ∘ a) ((C ∘ b) f) ≡ (C ∘ c) f" class="Function">B.pulll</a> <a id="6705" class="Symbol">(</a><a id="6706" href="1Lab.Path.html#20756" data-type="(f : (x : A) → B₁ x) (p : x ≡ y) →
PathP (λ i → B₁ (p i)) (f x) (f y)" class="Function">ap</a> <a id="6709" class="Symbol">(λ</a> <a id="6712" href="Cat.Diagram.Monad.Codensity.html#6712" class="Bound">e</a> <a id="6714" class="Symbol">→</a> <a id="6716" href="Cat.Diagram.Monad.Codensity.html#6712" class="Bound">e</a> <a id="6718" class="Symbol">.</a><a id="6719" href="Cat.Base.html#12791" data-type="F =&gt; G → (x : C .Ob) → D .Hom (₀ F x) (₀ G x)" class="Field">η</a> <a id="6721" href="Cat.Diagram.Monad.Codensity.html#6549" class="Bound">x</a><a id="6722" class="Symbol">)</a> <a id="6724" href="Cat.Functor.Kan.Right.html#1805" data-type="(r : Ran p F) → (r .eps ∘nt whiskerl (r .σ β)) ≡ β" class="Field">σ-comm</a><a id="6730" class="Symbol">)</a>
                            <a id="6760" href="1Lab.Path.html#39472" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a> <a id="6762" href="Cat.Functor.Reasoning.html#1354" data-type="(F : Functor 𝒞 𝒟) (ab≡c : (F ∘ a) b ≡ c) →
(F ∘ (F ∘ f) (F₁ F a)) (F₁ F b) ≡ (F ∘ f) (F₁ F c)" class="Function">Ext.pullr</a> <a id="6772" href="1Lab.Path.html#3593" data-type="x ≡ x" class="Function">refl</a><a id="6776" class="Symbol">))</a>
</pre>
</details>
<p>To understand what the codensity monad <em>represents</em>, recall
that adjoints can be understood as <a href="Cat.Functor.Adjoint.html#universal-morphisms">efficient
solutions</a> to “optimisation problems”. But when a functor does
<em>not</em> admit a left adjoint, we conclude that there is no most
efficient solution; This doesn’t mean that we can’t <em>approximate</em>
a solution, though! And indeed, this kind of approximation is exactly
what Kan extensions are for.</p>
  </article>
</div>
</main>
</body>
</html>
