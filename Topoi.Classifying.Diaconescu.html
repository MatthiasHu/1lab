<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="keywords" content="Agda,categories,topos" />

  <title>…i.Classifying.Diaconescu - 1Lab</title>

  <link rel="stylesheet" href="/css/default.css" />
  <link rel="stylesheet" href="/css/katex.min.css" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="…i.Classifying.Diaconescu - 1Lab" />
  <meta name="twitter:image" content="https://1lab.dev/static/cube-128x.png" />

  <meta name="og:title" content="…i.Classifying.Diaconescu - 1Lab" />
  <meta name="og:image" content="https://1lab.dev/static/cube-128x.png" />
  <meta name="og:site-name" content="1Lab" />
  <meta name="og:type" content="website" />

    <meta name="og:description" content="A formalised, explorable online resource for Homotopy Type Theory." />
  <meta name="twitter:description" content="A formalised, explorable online resource for Homotopy Type Theory." />
  <meta name="description" content="A formalised, explorable online resource for Homotopy Type Theory." />
  
  <script defer src="/main.js"></script>

  <noscript>
    <style>
      body span.reasoning-step .as-written {
        display: inline;
      }

      body span.reasoning-step .alternate {
        display: none;
      }
    </style>
  </noscript>

  <!-- Google font embeds -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,500;0,600;0,700;0,800;1,400;1,500;1,600;1,700;1,800&amp;family=Inria+Sans:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&amp;display=swap" rel="stylesheet">
</head>

<body class="text-page">
<main>
<div id="post-toc-container" style="padding-left: 1em; padding-right: 1em;">

  <!-- Table of contents (only if the page has a table of contents) -->
    <aside id="toc">
    <div id="toc-container" style="min-width: 10em; font-size: 15pt;">
      <!-- Title for the page -->
      <h3 class="Agda" style="margin-top: 0; margin-bottom: 0; white-space: pre;">
                <a class="Module">…i.Classifying.Diaconescu</a>
              </h3>

      <!-- Cube logo -->
      <a id="logo" href="/">
        <img alt="1Lab" src="/static/cube-72x.png" style="display: block; margin-bottom: 1em; margin: auto;" width="32px" height="32px" />
      </a>

      <!-- Actual table of contents (separated from the rest by
      horizontal rules) -->
      <hr />
      <ul>
      <li><a href="#diaconescus-theorem"><a href="#diaconescus-theorem" class="header-link">Diaconescu’s
      theorem<span class="header-link-emoji">🔗</span></a></a></li>
      </ul>
      <hr />

      <!-- Sidebar controls -->
      <div style="display: flex; gap: 0.25em; flex-flow: row wrap;">
        <!-- Sidebar equations control -->
        <span class="equations" style="display: flex; align-items: center; gap: 0.25em; flex-wrap: nowrap;">
          <input name="sidebar-eqns" type="checkbox" class="equations" id="sidebar-eqns">
          <label for="sidebar-eqns">Equations</label>
        </span>

        <!-- Sidebar fonts control -->
        <span style="display: flex; align-items: center; gap: 0.25em; flex-wrap: nowrap;">
          <input name="sidebar-font" type="checkbox" id="toggle-fonts">
          <label for="toggle-fonts">Serif Font</label>
        </span>

        <!-- Sidebar footnotes control -->
        <span class="inline-footnotes" style="display: none; align-items: center; gap: 0.25em; flex-wrap: nowrap;">
          <input name="sidebar-fns" type="checkbox" class="inline-footnotes" id="sidebar-fns">
          <label for="sidebar-fns">Inline Footnotes</label>
        </span>
      </div>

      <hr />

      <!-- Navbar navigation (lol) -->
      <div id="return" style="white-space: nowrap;">
        <div class="search-form search-form-proxy" role="form">
          <input id="search-box-proxy" type_="text" placeholder="Search..." autocomplete="off" tabindex="0"></input>
        </div>

              <a href="/">back to index</a> <br />
              <a href="all-pages.html">view all pages</a> <br />
        <a href="https://github.com/plt-amy/cubical-1lab/blob/bc3d169a3fa15f30160966c53f8335592dd0187c/src/Topoi/Classifying/Diaconescu.lagda.md">link to source</a> <br />
                <hr /> <div class="author-list">Written by Amélia Liao</div> <br />
              </div>
    </div>
  </aside>
  
  <article>
    <!-- Article navigation (narrow screens only) -->
    <div class="narrow-only" id="article-nav">
      <!-- Index return anchor (only if the page is not the index) -->
            <div id="return">
        <a href="/">back to index</a>
      </div>
      
      <!-- Navbar equations control -->
      <span class="equations" style="display: flex; gap: 0.25em; flex-wrap: nowrap;">
        <input name="navbar-eqns" type="checkbox" class="equations" id="navbar-eqns">
        <label for="navbar-eqns">Equations</label>
      </span>

      <!-- Navbar footnotes control -->
      <span class="inline-footnotes" style="display: none; gap: 0.25em; flex-wrap: nowrap;">
        <input name="navbar-fns" type="checkbox" class="inline-footnotes" id="navbar-fns">
        <label for="navbar-fns">Inline Footnotes</label>
      </span>
    </div>

<pre class="Agda"><a id="9" class="Keyword">open</a> <a id="14" class="Keyword">import</a> <a id="21" href="Algebra.Prelude.html" class="Module">Algebra.Prelude</a>

<a id="38" class="Keyword">open</a> <a id="43" class="Keyword">import</a> <a id="50" href="Cat.Diagram.Colimit.Base.html" class="Module">Cat.Diagram.Colimit.Base</a>
<a id="75" class="Keyword">open</a> <a id="80" class="Keyword">import</a> <a id="87" href="Cat.Diagram.Limit.Finite.html" class="Module">Cat.Diagram.Limit.Finite</a>
<a id="112" class="Keyword">open</a> <a id="117" class="Keyword">import</a> <a id="124" href="Cat.Functor.Everything.html" class="Module">Cat.Functor.Everything</a>
<a id="147" class="Keyword">open</a> <a id="152" class="Keyword">import</a> <a id="159" href="Cat.Diagram.Initial.html" class="Module">Cat.Diagram.Initial</a>
<a id="179" class="Keyword">open</a> <a id="184" class="Keyword">import</a> <a id="191" href="Cat.Instances.Comma.html" class="Module">Cat.Instances.Comma</a>

<a id="212" class="Keyword">open</a> <a id="217" class="Keyword">import</a> <a id="224" href="Topoi.Base.html" class="Module">Topoi.Base</a>

<a id="236" class="Keyword">import</a> <a id="243" href="Cat.Functor.Reasoning.html" class="Module">Cat.Functor.Reasoning</a> <a id="265" class="Symbol">as</a> <a id="268" class="Module">Functor-kit</a>
<a id="280" class="Keyword">import</a> <a id="287" href="Cat.Reasoning.html" class="Module">Cat.Reasoning</a>

<a id="302" class="Keyword">module</a> <a id="309" href="Topoi.Classifying.Diaconescu.html" class="Module">Topoi.Classifying.Diaconescu</a> <a id="338" class="Keyword">where</a>
</pre>
<h1 id="diaconescus-theorem"><a href="#diaconescus-theorem" class="header-link">Diaconescu’s
theorem<span class="header-link-emoji">🔗</span></a></h1>
<p>Let
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Σ</mi></mrow><annotation encoding="application/x-tex">\Sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">Σ</span></span></span></span>
be a <strong>signature</strong> consisting of sorts
<span style="white-space: nowrap;"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo separator="true">,</mo><mi>B</mi><mo separator="true">,</mo><mi>C</mi><mo>…</mo></mrow><annotation encoding="application/x-tex">A, B, C\dots</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span></span></span></span>,</span>
function symbols
<span style="white-space: nowrap;"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo separator="true">,</mo><mo>⋯</mo><mo>:</mo><mi>A</mi><mo>→</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">f, \dots : A \to B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>,</span>
and relation symbols
<span style="white-space: nowrap;"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext> </mtext><mo separator="true">,</mo><mo>…</mo></mrow><annotation encoding="application/x-tex">~, \dots</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3174em;vertical-align:-0.1944em;"></span><span class="mspace nobreak"> </span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span></span></span></span>.</span>
We can build a <strong>logical theory</strong> on top of this signature
by imposing <strong>axioms</strong> of the form</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>P</mi><msub><mo>⊢</mo><mi>x</mi></msub><mi>Q</mi><mtext>,</mtext></mrow><annotation encoding="application/x-tex">
P \vdash_{x} Q\text{,}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel">⊢</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">Q</span><span class="mord text"><span class="mord">,</span></span></span></span></span></span></p>
<p>where
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span></span>
and
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi></mrow><annotation encoding="application/x-tex">Q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">Q</span></span></span></span>
are formulae, and
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>
is a context consisting of variables typed with sorts from the
signature. Depending on the signature and on what connectives are used
to build up the formulae
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span></span>
and
<span style="white-space: nowrap;"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi></mrow><annotation encoding="application/x-tex">Q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">Q</span></span></span></span>,</span>
our logical theory can fit within several frameworks:</p>
<ul>
<li><p>If our formulae can be presented using only
<span style="white-space: nowrap;"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∧</mo></mrow><annotation encoding="application/x-tex">\land</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5556em;"></span><span class="mord">∧</span></span></span></span>,</span>
<span style="white-space: nowrap;"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">⊤</mi></mrow><annotation encoding="application/x-tex">\top</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">⊤</span></span></span></span>,</span>
and the equality relation
<span style="white-space: nowrap;"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo></mrow><annotation encoding="application/x-tex">=</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">=</span></span></span></span>,</span>
then our logic is called <strong>cartesian logic</strong>, and our
theory a <strong>cartesian theory</strong>.</p></li>
<li><p><strong>Regular logic</strong> is obtained by augmenting
cartesian logic with the quantifier
<span style="white-space: nowrap;"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∃</mi></mrow><annotation encoding="application/x-tex">\exists</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">∃</span></span></span></span>.</span></p></li>
<li><p><strong>Coherent logic</strong> is obtained by augmenting regular
logic with disjunction
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∨</mo></mrow><annotation encoding="application/x-tex">\lor</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5556em;"></span><span class="mord">∨</span></span></span></span>
and falsity
<span style="white-space: nowrap;"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">⊥</mi></mrow><annotation encoding="application/x-tex">\bot</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">⊥</span></span></span></span>.</span></p></li>
<li><p><strong>Geometric logic</strong> is obtained by augmenting
coherent logic with <em>infinitary</em> disjunction
<span style="white-space: nowrap;"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⋁</mo></mrow><annotation encoding="application/x-tex">\bigvee</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop op-symbol small-op" style="position:relative;top:0em;">⋁</span></span></span></span>.</span></p></li>
</ul>
<p>In addition to the qualifiers above, if our signature has
<strong>no</strong> sorts, then our theory will be called a
“propositional theory”: A theory built up of
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∧</mo><mo separator="true">,</mo><mo>⋁</mo><mo separator="true">,</mo><mi mathvariant="normal">⊤</mi><mo separator="true">,</mo><mi mathvariant="normal">⊥</mi><mo separator="true">,</mo><mi mathvariant="normal">∃</mi></mrow><annotation encoding="application/x-tex">\land, \bigvee, \top, \bot, \exists</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∧</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-symbol small-op" style="position:relative;top:0em;">⋁</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">⊤</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">⊥</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">∃</span></span></span></span>
on a signature with no sorts is called a <strong>propositional geometric
theory</strong>.</p>
<p>Let the contexts of such a theory be denoted by
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">O</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">\mathcal{O}_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">O</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>
— we see that the entailment relation
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>⊢</mo><mi>y</mi></mrow><annotation encoding="application/x-tex">x \vdash y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊢</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span>
equips the objects of
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">O</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">\mathcal{O}_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">O</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>
with a <a href="Cat.Thin.html">preorder</a> structure, with the
conjunctions providing meets and the (infinitary) disjunctions providing
joins. Additionally, in this proset, the distributive law</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>x</mi><mo>∧</mo><munder><mo>⋁</mo><mi>i</mi></munder><mi>F</mi><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo><mo>=</mo><munder><mo>⋁</mo><mi>i</mi></munder><mo stretchy="false">(</mo><mi>x</mi><mo>∧</mo><mi>F</mi><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">
x \land \bigvee_i F(i) = \bigvee_i (x \land F(i))
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5556em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.3277em;vertical-align:-1.2777em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">⋁</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.3277em;vertical-align:-1.2777em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">⋁</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">))</span></span></span></span></span></p>
<p>holds. We call such a structure a <em>frame</em>, and we can see that
that a frame determines a topological space
<span style="white-space: nowrap;"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>,</span>
by letting the opens of the topology be the elements of the frame (the
points come for free as filters satisfying a certain condition). This
space
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>
can be called the <strong>classifying space</strong> of the theory
<span style="white-space: nowrap;"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span></span></span>,</span>
since points of
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>
correspond to models of
<span style="white-space: nowrap;"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span></span></span>,</span>
and the specialisation preorder on
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>
corresponds to homomorphism of models.</p>
<p>If our theory is <em>not</em> propositional, however, a topological
space won’t cut it, since there can be more than one homomorphism
between two given models! Most geometric theories (the theory of groups,
the theory of (local) rings, the theory of fields, the theory of an
object) are <em>not</em> propositional, so they won’t have useful
classifying spaces in this sense. If we relax the requirement that
specialisation be a preorder and allow a <em>set</em> of model
homomorphisms, the structure we get is a category satisfying certain
completeness and exactness properties:</p>
<p>The meets our frame used to have are now <a href="Cat.Diagram.Limit.Finite.html">finite limits</a>, and the
infinitary disjunctions are <a href="Cat.Diagram.Colimit.Base.html">colimits</a>; The infinite
distributive law corresponds to the statement that the <a href="Cat.Functor.Pullback.html">pullback functors</a> preserve
colimits, which follows from the pullback functors having right adjoints
(i.e. the category is <a href="Cat.CartesianClosed.Locally.html">locally
cartesian closed</a>). Up to a couple of small omissions<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>, a
category satisfying these assumptions is exactly a <strong><a href="Topoi.Base.html#grothendieck-topoi">Grothendieck
topos</a></strong>, and every topos classifies a particular theory, in
the sense that, letting
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">G</span></span></span></span>
and
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">E</mi></mrow><annotation encoding="application/x-tex">\ca{E}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathcal" style="margin-right:0.08944em;">E</span></span></span></span>
be topoi, a geometric morphism
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mo>→</mo><mi mathvariant="script">E</mi></mrow><annotation encoding="application/x-tex">G \to \ca{E}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">G</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathcal" style="margin-right:0.08944em;">E</span></span></span></span>
is equivalent to an
<span style="white-space: nowrap;"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">E</mi></mrow><annotation encoding="application/x-tex">\ca{E}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathcal" style="margin-right:0.08944em;">E</span></span></span></span>-model</span>
in
<span style="white-space: nowrap;"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">G</span></span></span></span>.</span></p>
<p>That begs a question: What theory do presheaf topoi
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi mathvariant="normal">P</mi><mi mathvariant="normal">S</mi><mi mathvariant="normal">h</mi></mrow><mo stretchy="false">(</mo><mi mathvariant="script">C</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\psh(\ca{C})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathrm">PSh</span></span><span class="mopen">(</span><span class="mord mathcal" style="margin-right:0.05834em;">C</span><span class="mclose">)</span></span></span></span>
classify? Most presheaf topoi (e.g. the topos of quivers, the topos of
simplicial sets, the topos of sets) are <em>very far</em> from being
logically inspired: Most of those are conceived as being categories of
<em>geometric</em> objects! The answer is given by <strong>Diaconescu’s
theorem</strong>:</p>
<blockquote>
<p>A presheaf topos classifies the flat functors on its site.</p>
</blockquote>
<p>A <strong>flat functor</strong>
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mo>:</mo><mi mathvariant="script">C</mi><mo>→</mo><mi mathvariant="script">E</mi></mrow><annotation encoding="application/x-tex">F : \ca{C} \to \ca{E}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathcal" style="margin-right:0.05834em;">C</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathcal" style="margin-right:0.08944em;">E</span></span></span></span>
is one whose <a href="Cat.Functor.Kan.html">left Kan extension</a> along
the Yoneda embedding
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>よ</mtext></mrow><annotation encoding="application/x-tex">\yo</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">よ</span></span></span></span>
(i.e. its <a href="Cat.Functor.Kan.Nerve.html">realisation</a>) is <a href="Cat.Diagram.Limit.Finite.html#lex-functors">left exact</a>. The
theorem is almost tautological then: Letting
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi></mrow><annotation encoding="application/x-tex">F</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span></span>
be a functor, the nerve-realisation adjunction
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow><mi mathvariant="normal">L</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">n</mi></mrow><mtext>よ</mtext></msub><mo stretchy="false">(</mo><mi>F</mi><mo stretchy="false">)</mo><mo>⊣</mo><mrow><mi mathvariant="bold">H</mi><mi mathvariant="bold">o</mi><mi mathvariant="bold">m</mi></mrow><mo stretchy="false">(</mo><mi>F</mi><mo stretchy="false">(</mo><mo>−</mo><mo stretchy="false">)</mo><mo separator="true">,</mo><mo>−</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Lan_\yo(F) \dashv \hom(F(-), -)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">Lan</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">よ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊣</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathbf">Hom</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord">−</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">−</span><span class="mclose">)</span></span></span></span>
is 75% of the way to being a <a href="Topoi.Base.html#geometric-morphisms">geometric morphism</a>, with
flatness <em>definitionally</em> guaranteeing that the left adjoint is
lex.</p>
<!--
<pre class="Agda"><a id="5224" class="Keyword">module</a> <a id="5231" href="Topoi.Classifying.Diaconescu.html#5231" class="Module">_</a> <a id="5233" class="Symbol">{</a><a id="5234" href="Topoi.Classifying.Diaconescu.html#5234" class="Bound">o</a> <a id="5236" href="Topoi.Classifying.Diaconescu.html#5236" class="Bound">κ</a><a id="5237" class="Symbol">}</a> <a id="5239" class="Symbol">{</a><a id="5240" href="Topoi.Classifying.Diaconescu.html#5240" class="Bound">C</a> <a id="5242" class="Symbol">:</a> <a id="5244" href="Cat.Base.html#704" data-type="(o h : Level) → Type (lsuc o ⊔ lsuc h)" class="Record">Precategory</a> <a id="5256" href="Topoi.Classifying.Diaconescu.html#5234" class="Bound">o</a> <a id="5258" href="Topoi.Classifying.Diaconescu.html#5236" class="Bound">κ</a><a id="5259" class="Symbol">}</a> <a id="5261" class="Symbol">(</a><a id="5262" href="Topoi.Classifying.Diaconescu.html#5262" class="Bound">𝓣</a> <a id="5264" class="Symbol">:</a> <a id="5266" href="Topoi.Base.html#3593" data-type="(κ : Level) (𝓣 : Precategory o κ) → Type (lsuc o ⊔ lsuc κ)" class="Record">Topos</a> <a id="5272" href="Topoi.Classifying.Diaconescu.html#5236" class="Bound">κ</a> <a id="5274" href="Topoi.Classifying.Diaconescu.html#5240" class="Bound">C</a><a id="5275" class="Symbol">)</a> <a id="5277" class="Keyword">where</a>
  <a id="5285" class="Keyword">private</a>
    <a id="5297" class="Keyword">module</a> <a id="5304" href="Topoi.Classifying.Diaconescu.html#5304" class="Module">C</a> <a id="5306" class="Symbol">=</a> <a id="5308" href="Cat.Reasoning.html" class="Module">Cat.Reasoning</a> <a id="5322" href="Topoi.Classifying.Diaconescu.html#5240" class="Bound">C</a>
    <a id="5328" class="Keyword">abstract</a>
      <a id="5343" href="Topoi.Classifying.Diaconescu.html#5343" data-type="(𝓣 : Topos κ C) → is-cocomplete κ κ C" class="Function">colim</a> <a id="5349" class="Symbol">:</a> <a id="5351" href="Cat.Diagram.Colimit.Base.html#8150" data-type="(o ℓ : Level) →
Precategory oc ℓc → Type (oc ⊔ ℓc ⊔ lsuc o ⊔ lsuc ℓ)" class="Function">is-cocomplete</a> <a id="5365" href="Topoi.Classifying.Diaconescu.html#5236" class="Bound">κ</a> <a id="5367" href="Topoi.Classifying.Diaconescu.html#5236" class="Bound">κ</a> <a id="5369" href="Topoi.Classifying.Diaconescu.html#5240" class="Bound">C</a>
      <a id="5377" href="Topoi.Classifying.Diaconescu.html#5343" data-type="(𝓣 : Topos κ C) → is-cocomplete κ κ C" class="Function">colim</a> <a id="5383" class="Symbol">=</a> <a id="5385" href="Topoi.Base.html#16477" data-type="(T : Topos κ 𝓣) → is-cocomplete κ κ 𝓣" class="Function">Topos-is-cocomplete</a> <a id="5405" href="Topoi.Classifying.Diaconescu.html#5262" class="Bound">𝓣</a>
</pre>-->
<pre class="Agda">  <a id="5426" href="Topoi.Classifying.Diaconescu.html#5426" data-type="(𝓣 : Topos κ C) → Functor D C → Type (o ⊔ lsuc κ)" class="Function">Flat</a> <a id="5431" class="Symbol">:</a> <a id="5433" class="Symbol">{</a><a id="5434" href="Topoi.Classifying.Diaconescu.html#5434" class="Bound">D</a> <a id="5436" class="Symbol">:</a> <a id="5438" href="Cat.Base.html#704" data-type="(o h : Level) → Type (lsuc o ⊔ lsuc h)" class="Record">Precategory</a> <a id="5450" href="Topoi.Classifying.Diaconescu.html#5236" class="Bound">κ</a> <a id="5452" href="Topoi.Classifying.Diaconescu.html#5236" class="Bound">κ</a><a id="5453" class="Symbol">}</a> <a id="5455" class="Symbol">→</a> <a id="5457" href="Cat.Base.html#7206" data-type="(C : Precategory o₁ h₁) (D : Precategory o₂ h₂) →
Type (o₁ ⊔ h₁ ⊔ o₂ ⊔ h₂)" class="Record">Functor</a> <a id="5465" href="Topoi.Classifying.Diaconescu.html#5434" class="Bound">D</a> <a id="5467" href="Topoi.Classifying.Diaconescu.html#5240" class="Bound">C</a> <a id="5469" class="Symbol">→</a> <a id="5471" href="1Lab.Type.html#391" class="Primitive">Type</a> <a id="5476" class="Symbol">_</a>
  <a id="5480" href="Topoi.Classifying.Diaconescu.html#5426" data-type="(𝓣 : Topos κ C) → Functor D C → Type (o ⊔ lsuc κ)" class="Function">Flat</a> <a id="5485" href="Topoi.Classifying.Diaconescu.html#5485" class="Bound">F</a> <a id="5487" class="Symbol">=</a> <a id="5489" href="Cat.Diagram.Limit.Finite.html#17034" data-type="(F : Functor C D) → Type (o ⊔ ℓ ⊔ o′ ⊔ ℓ′)" class="Record">is-lex</a> <a id="5496" class="Symbol">(</a><a id="5497" href="Cat.Functor.Kan.Nerve.html#3522" data-type="is-cocomplete κ κ C → Functor D C → Functor (PSh κ D) C" class="Function">Realisation</a> <a id="5509" href="Topoi.Classifying.Diaconescu.html#5343" data-type="(𝓣 : Topos κ C) → is-cocomplete κ κ C" class="Function">colim</a> <a id="5515" href="Topoi.Classifying.Diaconescu.html#5485" class="Bound">F</a><a id="5516" class="Symbol">)</a>

  <a id="5521" href="Topoi.Classifying.Diaconescu.html#5521" data-type="(𝓣 : Topos κ C) (F : Functor D C) → Flat 𝓣 F → Geom[ C , PSh κ D ]" class="Function">Diaconescu</a>
    <a id="5536" class="Symbol">:</a> <a id="5538" class="Symbol">{</a><a id="5539" href="Topoi.Classifying.Diaconescu.html#5539" class="Bound">D</a> <a id="5541" class="Symbol">:</a> <a id="5543" href="Cat.Base.html#704" data-type="(o h : Level) → Type (lsuc o ⊔ lsuc h)" class="Record">Precategory</a> <a id="5555" href="Topoi.Classifying.Diaconescu.html#5236" class="Bound">κ</a> <a id="5557" href="Topoi.Classifying.Diaconescu.html#5236" class="Bound">κ</a><a id="5558" class="Symbol">}</a> <a id="5560" class="Symbol">(</a><a id="5561" href="Topoi.Classifying.Diaconescu.html#5561" class="Bound">F</a> <a id="5563" class="Symbol">:</a> <a id="5565" href="Cat.Base.html#7206" data-type="(C : Precategory o₁ h₁) (D : Precategory o₂ h₂) →
Type (o₁ ⊔ h₁ ⊔ o₂ ⊔ h₂)" class="Record">Functor</a> <a id="5573" href="Topoi.Classifying.Diaconescu.html#5539" class="Bound">D</a> <a id="5575" href="Topoi.Classifying.Diaconescu.html#5240" class="Bound">C</a><a id="5576" class="Symbol">)</a>
    <a id="5582" class="Symbol">→</a> <a id="5584" href="Topoi.Classifying.Diaconescu.html#5426" data-type="(𝓣 : Topos κ C) → Functor D C → Type (o ⊔ lsuc κ)" class="Function">Flat</a> <a id="5589" href="Topoi.Classifying.Diaconescu.html#5561" class="Bound">F</a>
    <a id="5595" class="Symbol">→</a> <a id="5597" href="Topoi.Base.html#23868" data-type="(E : Precategory o ℓ) (F : Precategory o′ ℓ′) →
Type (o ⊔ ℓ ⊔ o′ ⊔ ℓ′)" class="Record Operator">Geom[</a> <a id="5603" href="Topoi.Classifying.Diaconescu.html#5240" class="Bound">C</a> <a id="5605" href="Topoi.Base.html#23868" data-type="(E : Precategory o ℓ) (F : Precategory o′ ℓ′) →
Type (o ⊔ ℓ ⊔ o′ ⊔ ℓ′)" class="Record Operator">,</a> <a id="5607" href="Cat.Instances.Functor.html#11822" data-type="(κ : Level) →
Precategory o ℓ → Precategory (κ ⊔ o ⊔ ℓ ⊔ lsuc κ) (o ⊔ ℓ ⊔ κ)" class="Function">PSh</a> <a id="5611" href="Topoi.Classifying.Diaconescu.html#5236" class="Bound">κ</a> <a id="5613" href="Topoi.Classifying.Diaconescu.html#5539" class="Bound">D</a> <a id="5615" href="Topoi.Base.html#23868" data-type="(E : Precategory o ℓ) (F : Precategory o′ ℓ′) →
Type (o ⊔ ℓ ⊔ o′ ⊔ ℓ′)" class="Record Operator">]</a>
  <a id="5619" href="Topoi.Base.html#23977" data-type="Geom[ E , F ] → Functor F E" class="Field Operator">Inv[</a> <a id="5624" href="Topoi.Classifying.Diaconescu.html#5521" data-type="(𝓣 : Topos κ C) (F : Functor D C) → Flat 𝓣 F → Geom[ C , PSh κ D ]" class="Function">Diaconescu</a> <a id="5635" href="Topoi.Classifying.Diaconescu.html#5635" class="Bound">F</a> <a id="5637" href="Topoi.Classifying.Diaconescu.html#5637" class="Bound">F-flat</a> <a id="5644" href="Topoi.Base.html#23977" data-type="Geom[ E , F ] → Functor F E" class="Field Operator">]</a> <a id="5646" class="Symbol">=</a> <a id="5648" href="Cat.Functor.Kan.Nerve.html#3522" data-type="is-cocomplete κ κ C → Functor D C → Functor (PSh κ D) C" class="Function">Realisation</a> <a id="5660" href="Topoi.Classifying.Diaconescu.html#5343" data-type="(𝓣 : Topos κ C) → is-cocomplete κ κ C" class="Function">colim</a> <a id="5666" href="Topoi.Classifying.Diaconescu.html#5635" class="Bound">F</a>
  <a id="5670" href="Topoi.Base.html#24003" data-type="Geom[ E , F ] → Functor E F" class="Field Operator">Dir[</a> <a id="5675" href="Topoi.Classifying.Diaconescu.html#5521" data-type="(𝓣 : Topos κ C) (F : Functor D C) → Flat 𝓣 F → Geom[ C , PSh κ D ]" class="Function">Diaconescu</a> <a id="5686" href="Topoi.Classifying.Diaconescu.html#5686" class="Bound">F</a> <a id="5688" href="Topoi.Classifying.Diaconescu.html#5688" class="Bound">F-flat</a> <a id="5695" href="Topoi.Base.html#24003" data-type="Geom[ E , F ] → Functor E F" class="Field Operator">]</a> <a id="5697" class="Symbol">=</a> <a id="5699" href="Cat.Functor.Kan.Nerve.html#2735" data-type="Functor D C → Functor C (PSh κ D)" class="Function">Nerve</a> <a id="5705" href="Topoi.Classifying.Diaconescu.html#5686" class="Bound">F</a>
  <a id="5709" href="Topoi.Classifying.Diaconescu.html#5521" data-type="(𝓣 : Topos κ C) (F : Functor D C) → Flat 𝓣 F → Geom[ C , PSh κ D ]" class="Function">Diaconescu</a> <a id="5720" href="Topoi.Classifying.Diaconescu.html#5720" class="Bound">F</a> <a id="5722" href="Topoi.Classifying.Diaconescu.html#5722" class="Bound">F-flat</a> <a id="5729" class="Symbol">.</a><a id="5730" href="Topoi.Base.html#24029" data-type="(r : Geom[ E , F ]) → is-lex (r .Inv[_])" class="Field">Inv-lex</a> <a id="5738" class="Symbol">=</a> <a id="5740" href="Topoi.Classifying.Diaconescu.html#5722" class="Bound">F-flat</a>
  <a id="5749" href="Topoi.Classifying.Diaconescu.html#5521" data-type="(𝓣 : Topos κ C) (F : Functor D C) → Flat 𝓣 F → Geom[ C , PSh κ D ]" class="Function">Diaconescu</a> <a id="5760" href="Topoi.Classifying.Diaconescu.html#5760" class="Bound">F</a> <a id="5762" href="Topoi.Classifying.Diaconescu.html#5762" class="Bound">F-flat</a> <a id="5769" class="Symbol">.</a><a id="5770" href="Topoi.Base.html#24057" data-type="(r : Geom[ E , F ]) → r .Inv[_] ⊣ r .Dir[_]" class="Field">Inv⊣Dir</a> <a id="5778" class="Symbol">=</a> <a id="5780" href="Cat.Functor.Kan.Nerve.html#3659" data-type="(cocompl : is-cocomplete κ κ C) (F : Functor D C) →
Realisation cocompl F ⊣ Nerve F" class="Function">Realisation⊣Nerve</a> <a id="5798" href="Topoi.Classifying.Diaconescu.html#5343" data-type="(𝓣 : Topos κ C) → is-cocomplete κ κ C" class="Function">colim</a> <a id="5804" href="Topoi.Classifying.Diaconescu.html#5760" class="Bound">F</a>
</pre>
<p>Conversely, any given geometric morphism
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>:</mo><mi mathvariant="script">C</mi><mo>→</mo><mrow><mi mathvariant="normal">P</mi><mi mathvariant="normal">S</mi><mi mathvariant="normal">h</mi></mrow><mo stretchy="false">(</mo><mi mathvariant="script">D</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f : \ca{C} \to \psh(\ca{D})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathcal" style="margin-right:0.05834em;">C</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathrm">PSh</span></span><span class="mopen">(</span><span class="mord mathcal" style="margin-right:0.02778em;">D</span><span class="mclose">)</span></span></span></span>
has an inverse image
<span style="white-space: nowrap;"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>f</mi><mo>∗</mo></msup><mo>:</mo><mrow><mi mathvariant="normal">P</mi><mi mathvariant="normal">S</mi><mi mathvariant="normal">h</mi></mrow><mo stretchy="false">(</mo><mi mathvariant="script">D</mi><mo stretchy="false">)</mo><mo>→</mo><mi mathvariant="script">C</mi></mrow><annotation encoding="application/x-tex">f^* : \psh(\ca{D}) \to \ca{C}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathrm">PSh</span></span><span class="mopen">(</span><span class="mord mathcal" style="margin-right:0.02778em;">D</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathcal" style="margin-right:0.05834em;">C</span></span></span></span>,</span>
which we can turn into a functor
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">D</mi><mo>→</mo><mi mathvariant="script">C</mi></mrow><annotation encoding="application/x-tex">\ca{D} \to \ca{C}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathcal" style="margin-right:0.02778em;">D</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathcal" style="margin-right:0.05834em;">C</span></span></span></span>
by precomposing with the Yoneda embedding:</p>
<pre class="Agda">  <a id="6043" href="Topoi.Classifying.Diaconescu.html#6043" data-type="Topos κ C → Geom[ C , PSh κ D ] → Functor D C" class="Function">Diaconescu⁻¹</a> <a id="6056" class="Symbol">:</a> <a id="6058" class="Symbol">∀</a> <a id="6060" class="Symbol">{</a><a id="6061" href="Topoi.Classifying.Diaconescu.html#6061" class="Bound">D</a> <a id="6063" class="Symbol">:</a> <a id="6065" href="Cat.Base.html#704" data-type="(o h : Level) → Type (lsuc o ⊔ lsuc h)" class="Record">Precategory</a> <a id="6077" href="Topoi.Classifying.Diaconescu.html#5236" class="Bound">κ</a> <a id="6079" href="Topoi.Classifying.Diaconescu.html#5236" class="Bound">κ</a><a id="6080" class="Symbol">}</a> <a id="6082" class="Symbol">→</a> <a id="6084" href="Topoi.Base.html#23868" data-type="(E : Precategory o ℓ) (F : Precategory o′ ℓ′) →
Type (o ⊔ ℓ ⊔ o′ ⊔ ℓ′)" class="Record Operator">Geom[</a> <a id="6090" href="Topoi.Classifying.Diaconescu.html#5240" class="Bound">C</a> <a id="6092" href="Topoi.Base.html#23868" data-type="(E : Precategory o ℓ) (F : Precategory o′ ℓ′) →
Type (o ⊔ ℓ ⊔ o′ ⊔ ℓ′)" class="Record Operator">,</a> <a id="6094" href="Cat.Instances.Functor.html#11822" data-type="(κ : Level) →
Precategory o ℓ → Precategory (κ ⊔ o ⊔ ℓ ⊔ lsuc κ) (o ⊔ ℓ ⊔ κ)" class="Function">PSh</a> <a id="6098" href="Topoi.Classifying.Diaconescu.html#5236" class="Bound">κ</a> <a id="6100" href="Topoi.Classifying.Diaconescu.html#6061" class="Bound">D</a> <a id="6102" href="Topoi.Base.html#23868" data-type="(E : Precategory o ℓ) (F : Precategory o′ ℓ′) →
Type (o ⊔ ℓ ⊔ o′ ⊔ ℓ′)" class="Record Operator">]</a> <a id="6104" class="Symbol">→</a> <a id="6106" href="Cat.Base.html#7206" data-type="(C : Precategory o₁ h₁) (D : Precategory o₂ h₂) →
Type (o₁ ⊔ h₁ ⊔ o₂ ⊔ h₂)" class="Record">Functor</a> <a id="6114" href="Topoi.Classifying.Diaconescu.html#6061" class="Bound">D</a> <a id="6116" href="Topoi.Classifying.Diaconescu.html#5240" class="Bound">C</a>
  <a id="6120" href="Topoi.Classifying.Diaconescu.html#6043" data-type="Topos κ C → Geom[ C , PSh κ D ] → Functor D C" class="Function">Diaconescu⁻¹</a> <a id="6133" href="Topoi.Classifying.Diaconescu.html#6133" class="Bound">f</a> <a id="6135" class="Symbol">=</a> <a id="6137" href="Topoi.Base.html#23977" data-type="Geom[ E , F ] → Functor F E" class="Field Operator">Inv[</a> <a id="6142" href="Topoi.Classifying.Diaconescu.html#6133" class="Bound">f</a> <a id="6144" href="Topoi.Base.html#23977" data-type="Geom[ E , F ] → Functor F E" class="Field Operator">]</a> <a id="6146" href="Cat.Base.html#9697" data-type="Functor D E → Functor C D → Functor C E" class="Function Operator">F∘</a> <a id="6149" href="Cat.Functor.Hom.html#2968" data-type="(C : Precategory o h) → Functor C Cat[ C ^op , Sets h ]" class="Function">よ</a> <a id="6151" class="Symbol">_</a>
</pre>
<p>A standard fact about the computation of left Kan extensions as
colimits tells us that any functor (flat or not)
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mo>:</mo><mi mathvariant="script">D</mi><mo>→</mo><mi mathvariant="script">C</mi></mrow><annotation encoding="application/x-tex">F : \ca{D} \to \ca{C}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathcal" style="margin-right:0.02778em;">D</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathcal" style="margin-right:0.05834em;">C</span></span></span></span>
can be recovered as the composite
<span style="white-space: nowrap;"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow><mi mathvariant="normal">L</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">n</mi></mrow><mtext>よ</mtext></msub><mo stretchy="false">(</mo><mi>F</mi><mo stretchy="false">)</mo><mo>∘</mo><mtext>よ</mtext></mrow><annotation encoding="application/x-tex">\Lan_\yo(F) \circ \yo</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">Lan</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">よ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∘</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">よ</span></span></span></span>,</span>
because
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>よ</mtext></mrow><annotation encoding="application/x-tex">\yo</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">よ</span></span></span></span>
is a fully faithful functor.</p>
<!--
<pre class="Agda">  <a id="6409" class="Keyword">module</a> <a id="6416" href="Topoi.Classifying.Diaconescu.html#6416" class="Module">_</a> <a id="6418" class="Symbol">{</a><a id="6419" href="Topoi.Classifying.Diaconescu.html#6419" class="Bound">D</a> <a id="6421" class="Symbol">:</a> <a id="6423" href="Cat.Base.html#704" data-type="(o h : Level) → Type (lsuc o ⊔ lsuc h)" class="Record">Precategory</a> <a id="6435" href="Topoi.Classifying.Diaconescu.html#5236" class="Bound">κ</a> <a id="6437" href="Topoi.Classifying.Diaconescu.html#5236" class="Bound">κ</a><a id="6438" class="Symbol">}</a> <a id="6440" class="Symbol">(</a><a id="6441" href="Topoi.Classifying.Diaconescu.html#6441" class="Bound">F</a> <a id="6443" class="Symbol">:</a> <a id="6445" href="Cat.Base.html#7206" data-type="(C : Precategory o₁ h₁) (D : Precategory o₂ h₂) →
Type (o₁ ⊔ h₁ ⊔ o₂ ⊔ h₂)" class="Record">Functor</a> <a id="6453" href="Topoi.Classifying.Diaconescu.html#6419" class="Bound">D</a> <a id="6455" href="Topoi.Classifying.Diaconescu.html#5240" class="Bound">C</a><a id="6456" class="Symbol">)</a> <a id="6458" class="Symbol">(</a><a id="6459" href="Topoi.Classifying.Diaconescu.html#6459" class="Bound">flat</a> <a id="6464" class="Symbol">:</a> <a id="6466" href="Topoi.Classifying.Diaconescu.html#5426" data-type="(𝓣 : Topos κ C) → Functor D C → Type (o ⊔ lsuc κ)" class="Function">Flat</a> <a id="6471" href="Topoi.Classifying.Diaconescu.html#6441" class="Bound">F</a><a id="6472" class="Symbol">)</a> <a id="6474" class="Keyword">where</a>
    <a id="6484" class="Keyword">private</a> <a id="6492" class="Keyword">module</a> <a id="6499" href="Topoi.Classifying.Diaconescu.html#6499" class="Module">DC</a> <a id="6502" class="Symbol">=</a> <a id="6504" href="Cat.Reasoning.html" class="Module">Cat.Reasoning</a> <a id="6518" href="Cat.Instances.Functor.html#2100" data-type="(C : Precategory o₁ h₁) (D : Precategory o₂ h₂) →
Precategory (o₁ ⊔ o₂ ⊔ h₁ ⊔ h₂) (o₁ ⊔ h₁ ⊔ h₂)" class="Function Operator">Cat[</a> <a id="6523" href="Topoi.Classifying.Diaconescu.html#6419" class="Bound">D</a> <a id="6525" href="Cat.Instances.Functor.html#2100" data-type="(C : Precategory o₁ h₁) (D : Precategory o₂ h₂) →
Precategory (o₁ ⊔ o₂ ⊔ h₁ ⊔ h₂) (o₁ ⊔ h₁ ⊔ h₂)" class="Function Operator">,</a> <a id="6527" href="Topoi.Classifying.Diaconescu.html#5240" class="Bound">C</a> <a id="6529" href="Cat.Instances.Functor.html#2100" data-type="(C : Precategory o₁ h₁) (D : Precategory o₂ h₂) →
Precategory (o₁ ⊔ o₂ ⊔ h₁ ⊔ h₂) (o₁ ⊔ h₁ ⊔ h₂)" class="Function Operator">]</a>
</pre>-->
<pre class="Agda">    <a id="6552" href="Topoi.Classifying.Diaconescu.html#6552" data-type="(𝓣 : Topos κ C) (F : Functor D C) (flat : Flat 𝓣 F) →
(Cat[ D , C ] ≅ Diaconescu⁻¹ 𝓣 (Diaconescu 𝓣 F flat)) F" class="Function">Diaconescu-invl</a> <a id="6568" class="Symbol">:</a> <a id="6570" href="Topoi.Classifying.Diaconescu.html#6043" data-type="Topos κ C → Geom[ C , PSh κ D ] → Functor D C" class="Function">Diaconescu⁻¹</a> <a id="6583" class="Symbol">(</a><a id="6584" href="Topoi.Classifying.Diaconescu.html#5521" data-type="(𝓣 : Topos κ C) (F : Functor D C) → Flat 𝓣 F → Geom[ C , PSh κ D ]" class="Function">Diaconescu</a> <a id="6595" href="Topoi.Classifying.Diaconescu.html#6441" class="Bound">F</a> <a id="6597" href="Topoi.Classifying.Diaconescu.html#6459" class="Bound">flat</a><a id="6601" class="Symbol">)</a> <a id="6603" href="Cat.Morphism.html#2202" data-type="(C : Precategory o h) (a b : Ob C) → Type h" class="Record Operator">DC.≅</a> <a id="6608" href="Topoi.Classifying.Diaconescu.html#6441" class="Bound">F</a>
    <a id="6614" href="Topoi.Classifying.Diaconescu.html#6552" data-type="(𝓣 : Topos κ C) (F : Functor D C) (flat : Flat 𝓣 F) →
(Cat[ D , C ] ≅ Diaconescu⁻¹ 𝓣 (Diaconescu 𝓣 F flat)) F" class="Function">Diaconescu-invl</a> <a id="6630" class="Symbol">=</a> <a id="6632" href="Cat.Functor.Kan.html#13505" data-type="(colim : is-cocomplete κ κ E) (K : Functor C D) (F : Functor C E) →
is-fully-faithful K →
(Cat[ C , E ] ≅ (cocomplete→lan colim K F .Ext F∘ K)) F" class="Function">ff-lan-ext</a> <a id="6643" href="Topoi.Classifying.Diaconescu.html#5343" data-type="(𝓣 : Topos κ C) → is-cocomplete κ κ C" class="Function">colim</a> <a id="6649" class="Symbol">(</a><a id="6650" href="Cat.Functor.Hom.html#2968" data-type="(C : Precategory o h) → Functor C Cat[ C ^op , Sets h ]" class="Function">よ</a> <a id="6652" href="Topoi.Classifying.Diaconescu.html#6419" class="Bound">D</a><a id="6653" class="Symbol">)</a> <a id="6655" href="Topoi.Classifying.Diaconescu.html#6441" class="Bound">F</a> <a id="6657" class="Symbol">(</a><a id="6658" href="Cat.Functor.Hom.html#3314" data-type="(C : Precategory o h) → is-fully-faithful (よ C)" class="Function">よ-is-fully-faithful</a> <a id="6678" href="Topoi.Classifying.Diaconescu.html#6419" class="Bound">D</a><a id="6679" class="Symbol">)</a>
</pre>
<section class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr />
<ol>
<li id="fn1" role="doc-endnote"><p><a href="Cat.Diagram.Coproduct.Indexed.html#disjoint-coproducts">Disjointness
of coproducts</a> and <a href="Cat.Diagram.Congruence.html#effective-congruences">effectivity of
congruences</a>.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>
  </article>
</div>
</main>
</body>
<style>.equations { display: none !important; }</style></html>
